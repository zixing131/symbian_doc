
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:15:22 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Overview" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-6425B722-4095-56E3-9198-70BA3E06C617" /><meta name="DC.Relation" scheme="URI" content="GUID-057F1F82-56AF-5696-853E-79196A3D567E" /><meta name="DC.Relation" scheme="URI" content="GUID-E339A683-94E2-54E8-BB2B-286B11B0FCE3" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F" /><meta name="DC.Language" content="en" /><title>Overview </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F">Overview</h1><div>
<p>The SIP Client API manages the multimedia sessions, subscribes to events,
and sends SIP messages. It also provides access to the basic services of the
SIP stack such as: </p>
<ul>
<li id="GUID-E9BF6031-1DAF-5238-A306-C44F0F91682D"><a name="GUID-E9BF6031-1DAF-5238-A306-C44F0F91682D"><!-- --></a><p>Sending and receiving
of SIP messages </p> </li>
<li id="GUID-C6A3FA97-1F09-587E-9504-9685D8306B04"><a name="GUID-C6A3FA97-1F09-587E-9504-9685D8306B04"><!-- --></a><p>Creating registrations </p> </li>
<li id="GUID-A02F02C7-A903-53E0-A64E-F0B62C93A90F"><a name="GUID-A02F02C7-A903-53E0-A64E-F0B62C93A90F"><!-- --></a><p>Forming and tearing
down dialogs initiated by INVITE, REFER and SUBSCRIBE requests </p> </li>
</ul>
<div id="GUID-8D3D5FB3-6037-5956-B3F0-DB14BD1BB17B"><h3 class="section-title">Architectural
relationships</h3> <p>The SIP Client API uses the client-server mechanism
to interact with the SIP stack. This means more than one client can use the
SIP stack at the same time. The calls to the SIP Client API are synchronous.
The SIP Client API implements a set of callback functions to pass the events
back to the application. </p> <p><strong>Capability information</strong> </p> <p>The
following table describes the capabilities required to use the SIP Client
API and the conditions in which they are required: </p> <div class="tablenoborder"><a name="GUID-B3DCF31A-C6D5-58B9-87FA-B2CD3E0ABA1F"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-B3DCF31A-C6D5-58B9-87FA-B2CD3E0ABA1F" frame="border" border="1" rules="all">
<thead align="left">
<tr class="title ">
<th class="cellrowborder" valign="top" id="d0e404467">Capability </th>
<th class="cellrowborder" valign="top" id="d0e404470">Reason needed </th>
</tr>
</thead>
<tbody>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e404467 "><p>NetworkServices </p> </td>
<td class="cellrowborder" valign="top" headers="d0e404470 "><p>to send or receive SIP messages </p> </td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" headers="d0e404467 "><p>WriteDeviceData </p> </td>
<td class="cellrowborder" valign="top" headers="d0e404470 "><p>to create an instance of the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><code class="apiname">CSIP</code></a> class </p> </td>
</tr>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e404467 "><p>NetworkControl </p> <p>Location </p> <p>ReadDeviceData </p> </td>
<td class="cellrowborder" valign="top" headers="d0e404470 "><p>to use the function <code class="codeph">CSIPConnection::SetOptL()</code> </p> </td>
</tr>
</tbody>
</table></div> <p><strong>Extending the API</strong> </p> <p>SIP Client API cannot be extended. </p> </div>
<div id="GUID-E055BF09-9605-57E6-9502-CB3F4CAC29B8"><h3 class="section-title">SIP Client
API class structure</h3> <ul>
<li id="GUID-3E500E7D-ECB9-50F8-B996-A212EE294E68"><a name="GUID-3E500E7D-ECB9-50F8-B996-A212EE294E68"><!-- --></a><p> <a href="#GUID-581B8017-EAA0-59CB-A9CB-490370E0CEC9"> CSIP, MSIPObserver, CSIPConnection and MSIPConnectionObserver</a> </p> </li>
<li id="GUID-461F8201-ED85-582A-945C-7471F9BF27AA"><a name="GUID-461F8201-ED85-582A-945C-7471F9BF27AA"><!-- --></a><p> <a href="#GUID-0E726099-31C4-5DD4-9AEA-67765589F462">Registration services</a> </p> </li>
<li id="GUID-F69AEAB7-0E13-5673-B696-843957CC4C72"><a name="GUID-F69AEAB7-0E13-5673-B696-843957CC4C72"><!-- --></a><p> <a href="#GUID-80CE8929-9DFD-5DCA-A929-662BD996223B"> SIP dialog associations</a> </p> </li>
<li id="GUID-BFE257A7-EF1A-58BF-A047-00E0B11B1FD3"><a name="GUID-BFE257A7-EF1A-58BF-A047-00E0B11B1FD3"><!-- --></a><p> <a href="#GUID-B0D208E4-D1F9-5C5F-B937-11118E778074">Requests sent to, and received from, the network</a> </p> </li>
<li id="GUID-D0AC4583-B181-501C-A97A-63F094AD4046"><a name="GUID-D0AC4583-B181-501C-A97A-63F094AD4046"><!-- --></a><p> <a href="#GUID-0427709F-CD4B-5363-9377-10402B8A5819">SIP message related classes</a> </p> </li>
<li id="GUID-31ED307B-2285-5DE0-A83B-D0CB7A8C585D"><a name="GUID-31ED307B-2285-5DE0-A83B-D0CB7A8C585D"><!-- --></a><p> <a href="#GUID-4E4FAFCA-0BF6-510C-B8E3-28A83936A154">Automatically refreshing a SIP request</a> </p> </li>
<li id="GUID-B6E46736-A250-5064-B4F8-595A20025478"><a name="GUID-B6E46736-A250-5064-B4F8-595A20025478"><!-- --></a><p> <a href="#GUID-B71BC486-18C2-5E71-965E-0881FBA9CE85">Managing HTTP digest security settings</a> </p> </li>
</ul> <p id="GUID-581B8017-EAA0-59CB-A9CB-490370E0CEC9"><a name="GUID-581B8017-EAA0-59CB-A9CB-490370E0CEC9"><!-- --></a><strong> CSIP, MSIPObserver,
CSIPConnection and MSIPConnectionObserver </strong> </p> <div class="figure" id="GUID-0834012C-083F-5FA0-B29D-E3E852165528"><img src="GUID-4381EA7F-BE75-5B43-BE97-C97D71D04377_d0e404611_href.png" /></div> <p>An application creates a single instance of the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><code class="apiname">CSIP</code></a> class,
and implements the callback functions defined by <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-C6FF4A83-0097-3A82-B4ED-802E1FEA05D1.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-C6FF4A83-0097-3A82-B4ED-802E1FEA05D1.html"><code class="apiname">MSIPObserver</code></a>.
The <code class="codeph">CSIP</code> uses the <code class="codeph">MSIPObserver</code> functions.
The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><code class="apiname">CSIP</code></a> class asks the supported security mechanisms and
determines whether a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><code class="apiname">CSIPConnection</code></a> object exists for a
given IAP. </p> <p>The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><code class="apiname">CSIP</code></a> object creates an instance
of <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><code class="apiname">CSIPConnection</code></a> that allows you to send standalone SIP
requests and ask for the state of the network connection. Responses are received
through the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html"><code class="apiname">MSIPConnectionObserver</code></a> interface that defines
a set of callback functions that an application must implement. </p> <p>An
application can have many <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><code class="apiname">CSIPConnection</code></a> objects, but each
of them must have a different IAP. </p> <p id="GUID-0E726099-31C4-5DD4-9AEA-67765589F462"><a name="GUID-0E726099-31C4-5DD4-9AEA-67765589F462"><!-- --></a><strong>Registration
services</strong> </p> <div class="figure" id="GUID-63E38B2E-975E-554C-8EDC-65B8BBA86838"><img src="GUID-E4543D60-A9D0-5121-9540-993BB15D3275_d0e404668_href.png" /></div> <p>An existing <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><code class="apiname">CSIPConnection</code></a> is required to create
an instance of <code class="codeph">CSIPRegistrationBinding</code>. The CSIPRegistrationBinding class
provides services for registration, updating the registration, and deregistration.
This class also provides instructions to the SIP stack to automatically refresh
the registration, and to query and set the outbound proxy used by the registration. </p> <p id="GUID-80CE8929-9DFD-5DCA-A929-662BD996223B"><a name="GUID-80CE8929-9DFD-5DCA-A929-662BD996223B"><!-- --></a><strong> SIP dialog
associations</strong> </p> <div class="figure" id="GUID-4870BE80-44B6-50F0-B77E-73FEAD136304"><img src="GUID-17D1489B-F7F7-5CA7-9F81-850AA9ACEFEB_d0e404693_href.png" /></div> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html"><code class="apiname">CSIPDialogAssocBase</code></a> is the base class for SIP
dialog associations, such as <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html"><code class="apiname">CSIPInviteDialogAssoc</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><code class="apiname">CSIPSubscribeDialogAssoc</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html"><code class="apiname">CSIPReferDialogAssoc</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html"><code class="apiname">CSIPNotifyDialogAssoc</code></a>. The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html"><code class="apiname">CSIPDialogAssocBase</code></a> class
is used to obtain the associated SIP dialog, for the associated <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html"><code class="apiname">CSIPDialog</code></a> instance,
and for sending a non-target Refresh request within the dialog. </p> <p> <strong> Note: </strong> The
SIP Client API creates the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html"><code class="apiname">CSIPDialog</code></a> instance, it cannot
be created by the application. </p> <p>If any of the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html"><code class="apiname">CSIPInviteDialogAssoc</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><code class="apiname">CSIPSubscribeDialogAssoc</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html"><code class="apiname">CSIPReferDialogAssoc</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html"><code class="apiname">CSIPNotifyDialogAssoc</code></a> objects
are associated, they are bound to an existing <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html"><code class="apiname">CSIPDialog</code></a> object,
or they can be used to create a new <code class="codeph">CSIPDialog</code> object. </p> <p> <strong>Note:</strong> </p> <ul>
<li id="GUID-6A085F6F-C243-53AD-B33C-F37D14DFE0A4"><a name="GUID-6A085F6F-C243-53AD-B33C-F37D14DFE0A4"><!-- --></a><p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html"><code class="apiname">CSIPInviteDialogAssoc</code></a> allows
an application to initiate a dialog and to send <code class="codeph">INVITE</code>,,<code class="codeph">PRACK</code>,,<code class="codeph">ACK</code>, <code class="codeph">UPDATE,</code> and <code class="codeph">BYE</code> requests related to the dialog. </p> </li>
<li id="GUID-19C504F0-EAD5-524A-82E9-2D15BFA2A6D2"><a name="GUID-19C504F0-EAD5-524A-82E9-2D15BFA2A6D2"><!-- --></a><p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><code class="apiname">CSIPSubscribeDialogAssoc</code></a> allows
an application to subscribe to different events by sending SUBSCRIBE and UNSUBSCRIBE
requests. It also orders the SIP stack to automatically refresh the SUBSCRIBE
request. </p> </li>
<li id="GUID-C47B74D8-2251-5FCC-A356-1364EB61CF05"><a name="GUID-C47B74D8-2251-5FCC-A356-1364EB61CF05"><!-- --></a><p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html"><code class="apiname">CSIPReferDialogAssoc</code></a> allows
an application to define and send REFER requests. </p> </li>
<li id="GUID-18AD2000-2A37-5CD9-8118-8B3322211D28"><a name="GUID-18AD2000-2A37-5CD9-8118-8B3322211D28"><!-- --></a><p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html"><code class="apiname"> CSIPNotifyDialogAssoc</code></a> allows
an application to define and send NOTIFY requests. </p> </li>
</ul> <p id="GUID-B0D208E4-D1F9-5C5F-B937-11118E778074"><a name="GUID-B0D208E4-D1F9-5C5F-B937-11118E778074"><!-- --></a><strong>Sent and received
network requests</strong> </p> <div class="figure" id="GUID-2E0C9020-1863-5644-BF7E-62B4DB9104D2"><img src="GUID-F5A82F61-B93A-5652-93A4-B9CE877B4D4A_d0e404830_href.png" /></div> <p>When a SIP request is sent to the network, the SIP Client API implementation
creates a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> object and returns it to
the application. A <code class="codeph">CSIPClientTransaction</code> object represents
the SIP transaction and consists of the SIP request and the SIP response.
After receiving a response, the application gets <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><code class="apiname">CSIPResponseElements</code></a> from
the <code class="codeph">CSIPClientTransaction</code> object. <strong>Note:</strong> Some client
transactions can also be cancelled or refreshed. </p> <p>When a SIP request
is received from the network, it is passed to the application as a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> object.
The application gets <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><code class="apiname">CSIPRequestElements</code></a> from the <code class="codeph">CSIPServerTransaction</code> object.
A <code class="codeph">CSIPRequestElements</code> object describes the kind of SIP request
received. After the application determines the type of response to send, it
uses the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> to send the responses. </p> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html"><code class="apiname">CSIPTransactionBase</code></a> is
the base class for <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a>.
It provides the functions to obtain the current state of the transaction and
the transaction type. Some operations are only allowed when the transaction
is in a certain state. <strong>Note:</strong> The SIP Client API creates instances of <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> and they cannot be created by the application. </p> <p id="GUID-0427709F-CD4B-5363-9377-10402B8A5819"><a name="GUID-0427709F-CD4B-5363-9377-10402B8A5819"><!-- --></a><strong>SIP
message related classes</strong> </p> <div class="figure" id="GUID-B99CF040-E91F-5281-8AAC-2151049C0EA8"><img src="GUID-6290D35A-7A41-5B9E-882A-E14F6D165ED7_d0e404907_href.png" /></div> <p>When a SIP request is sent to the network, the SIP Client API implementation
creates a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> object and returns it to
the application. A <code class="codeph">CSIPClientTransaction</code> object represents
the SIP transaction and consists of the SIP request and the SIP response.
After receiving a response the application gets <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><code class="apiname">CSIPResponseElements</code></a> from
the <code class="codeph">CSIPClientTransaction</code> object. <strong>Note:</strong> Some client
transactions can be cancelled or refreshed. </p> <p>When a SIP request is
received from the network, it is passed to the application as a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> object.
The application gets <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><code class="apiname">CSIPRequestElements</code></a> from the <code class="codeph">CSIPServerTransaction</code> object.
A <code class="codeph">CSIPRequestElements</code> object describes the type of SIP request
received. After the application determines the type of response to send, it
uses the <code class="codeph">CSIPServerTransaction</code> to send the responses. </p> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html"><code class="apiname">CSIPTransactionBase</code></a> is
the base class for <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a>.
It provides functions to obtain the current state of the transaction and the
transaction type. Some operations are only allowed when the transaction is
in a certain state. <strong>Note:</strong> The SIP Client API creates instances of <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> and they cannot be created by the application. </p> <p id="GUID-4E4FAFCA-0BF6-510C-B8E3-28A83936A154"><a name="GUID-4E4FAFCA-0BF6-510C-B8E3-28A83936A154"><!-- --></a><strong> Automatically
refreshing a SIP request</strong> </p> <div class="figure" id="GUID-49ACB697-512C-5FCF-AD48-20D6AAB0FEFC"><img src="GUID-6B9E5B8D-E2F7-5972-ABFB-49F7F466EBBD_d0e404983_href.png" /></div> <p>The SIP stack automatically refreshes a SIP request using the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-3C166C85-6E17-323B-9CD3-B3E2836DC1C3.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-3C166C85-6E17-323B-9CD3-B3E2836DC1C3.html"><code class="apiname">CSIPRefresh</code></a> object. <code class="codeph">REGISTER</code>, <code class="codeph">SUBSCRIBE</code> and a request outside the dialog are refreshed. After
sending a refresh request, the application queries the state of the refresh
from <code class="codeph">CSIPRefresh</code>. </p> <p> <code class="codeph">CSIPRefresh</code> provides
functions for updating and terminating the refresh, for requests outside the
dialog. The CSIPRegistrationBinding and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><code class="apiname">CSIPSubscribeDialogAssoc</code></a> classes
are used to update and terminate a refreshed <code class="codeph">REGISTER</code> or <code class="codeph">SUBSCRIBE</code>. </p> <p id="GUID-B71BC486-18C2-5E71-965E-0881FBA9CE85"><a name="GUID-B71BC486-18C2-5E71-965E-0881FBA9CE85"><!-- --></a><strong> Managing HTTP digest security
settings </strong> </p> <div class="figure" id="GUID-7C296C1B-67E3-569F-A5E9-92A4F7922088"><img src="GUID-1704898B-7836-53C2-8743-F733836EDE7B_d0e405029_href.png" /></div> <p>An application must create an instance of the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><code class="apiname">CSIP</code></a> class
to use <code class="codeph">CSIPHttpDigest</code>. The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-F9FBAFBE-A895-3FD3-A526-604A6C9E035D.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-F9FBAFBE-A895-3FD3-A526-604A6C9E035D.html"><code class="apiname">CSIPHttpDigest</code></a> class
manages HTTP digest security settings and contains only static functions. </p> </div>
<div id="GUID-4195FAF9-D0D7-5046-BD62-9A314791BEFE"><h3 class="section-title">Memory used</h3> <p>After
the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><code class="apiname">CSIP</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><code class="apiname">CSIPConnection</code></a> objects
are created, most of the memory consumed is by <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html"><code class="apiname">CSIPMessageElements</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><code class="apiname">CSIPRequestElements</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><code class="apiname">CSIPResponseElements</code></a> classes. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html"><code class="apiname">CSIPTransactionBase</code></a> holds the most recent SIP
response in a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><code class="apiname">CSIPResponseElements</code></a> object. When another
response is received, the previous <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><code class="apiname">CSIPResponseElements</code></a> object
is deleted and a new one is created. </p> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> contains
a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><code class="apiname">CSIPRequestElements</code></a> object until the SIP request is transferred
to the server side of the SIP stack. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> contains
the SIP request as <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><code class="apiname">CSIPRequestElements</code></a>. The application
owns the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><code class="apiname">CSIPClientTransaction</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> objects.
When the transaction terminates, the application deletes these objects to
conserve memory. </p> <p>A non-<code class="codeph">INVITE</code> <code class="codeph">CSIPClientTransaction</code> is
deleted when it has received a final response or when the <code class="codeph">ErrorOccured()</code> callback
is called. A non-<code class="codeph">INVITE</code> <code class="codeph">CSIPServerTransaction</code> is
deleted after the application sends a final response. </p> <p>The <code class="codeph">INVITE</code> related
transactions are deleted if the <code class="codeph">ErrorOccured()</code> callback function
is called. These transactions behave differently because of the presence of
an <code class="codeph">ACK</code>. </p> <p>When the application sends a 2xx response
to an <code class="codeph">INVITE</code> related <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a>,
it enters the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-93256B64-49C9-37F1-9A4E-72C521759749.html#GUID-DF7E4DCE-1F6D-3F2A-A638-5516A733AA9D"><code class="apiname">CSIPTransactionBase::ETerminated</code></a> state and
it is deleted at this point. A new <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><code class="apiname">CSIPServerTransaction</code></a> object
receives the ACK. </p> <p>When the application sends an <code class="codeph">INVITE</code> request
and the <code class="codeph">CSIPClientTransaction</code> receives a 2xx response, the
transaction enters the <code class="codeph">CSIPTransactionBase::ETerminated</code> state.
The associated <code class="codeph">CSIPClientTransaction</code> must not be deleted
as it is required to send the <code class="codeph">ACK</code> and also to receive the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html#GUID-2E76BDA0-CE87-3538-A791-963A90230FD4"><code class="apiname">MSIPConnectionObserver::InviteCompleted()</code></a> callback.
An <code class="codeph">INVITE</code> related <code class="codeph">CSIPClientTransaction</code> must
be deleted only after a <code class="codeph">MSIPConnectionObserver::InviteCompleted</code> or <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html#GUID-C0363A2A-6A3C-3CF8-A820-ACD3FA7B3B1D"><code class="apiname">MSIPConnectionObserver
::ErrorOccured</code></a> event is received, or if the state of the associated <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><code class="apiname">CSIPConnection</code></a> goes
to <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-68DD22DC-67E4-387B-BBE9-B9B96D9C9016"><code class="apiname">CSIPConnection::EInactive</code></a> or <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-5963A947-BD5C-3B34-9D10-2CB5DC413774"><code class="apiname">CSIPConnection::EUnavailable</code></a>. </p> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated October 21st, 2009</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:15:39 GMT -->
</html>