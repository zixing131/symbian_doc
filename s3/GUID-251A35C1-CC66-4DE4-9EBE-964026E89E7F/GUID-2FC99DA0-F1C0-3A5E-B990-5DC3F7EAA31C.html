<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:54 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CnvUtilities"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Relation" scheme="URI" content="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C74E45B1-DA39-3032-BF9A-46C54005A040.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-792D9EC1-DF63-3CAF-8D61-DEA08B85D4C8.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CnvUtilities</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C"><a name="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CnvUtilities Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;convutils.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C__linkagainst"><a name="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C__linkagainst"><!-- --></a><p>Link against: convutils.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CnvUtilities</td></tr></table></div><div class="section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li><a href="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html">CnvUtilities::SCharacterSet</a></li><li><a href="GUID-C74E45B1-DA39-3032-BF9A-46C54005A040.html">CnvUtilities::SMethod</a></li><li><a href="GUID-792D9EC1-DF63-3CAF-8D61-DEA08B85D4C8.html">CnvUtilities::SState</a></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Type Definitions</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">typedef</td><td>void(* <a href="#GUID-F9985263-D7C6-382C-A80E-D051686169FD">FConvertFromIntermediateBufferInPlace</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">typedef</td><td>void(* <a href="#GUID-A76E761E-E3E3-3E7F-A30F-7D3132CFBC02">FConvertToIntermediateBufferInPlace</a></td></tr><tr><td align="right" valign="top" class="code">typedef</td><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>(* <a href="#GUID-9C8886AC-2B99-3193-84C1-257C103FFBE5">FNumberOfBytesAbleToConvert</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C7F60F29-D0D7-34C1-A69F-7354CE80E43B">ConvertFromIntermediateBufferInPlace</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-EA905CF8-204F-39C2-ACEA-751C6D519EE7">ConvertFromUnicode</a>(<a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;, <a href="GUID-8D718E41-F126-3D95-AD41-AA104F5B1D1D.html">CCnvCharacterSetConverter::TArrayOfAscendingIndices</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html">SCharacterSet</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-CD13F5A1-C03B-3EC9-B0D5-2AD68200FC5A">ConvertFromUnicode</a>(<a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;, <a href="GUID-8D718E41-F126-3D95-AD41-AA104F5B1D1D.html">CCnvCharacterSetConverter::TArrayOfAscendingIndices</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html">SCharacterSet</a> &gt; &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-10C0E0C3-9516-33B8-8C0E-42D8757D491A">ConvertToUnicodeFromHeterogeneousForeign</a>(<a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a>, <a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-C74E45B1-DA39-3032-BF9A-46C54005A040.html">SMethod</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-03DA99C0-AB26-3A2D-AAEA-D0D6A84E9244">ConvertToUnicodeFromHeterogeneousForeign</a>(<a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a>, <a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-C74E45B1-DA39-3032-BF9A-46C54005A040.html">SMethod</a> &gt; &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-917D8F69-F13F-36BD-A43B-F5ADC727C223">ConvertToUnicodeFromModalForeign</a>(<a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a>, <a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-792D9EC1-DF63-3CAF-8D61-DEA08B85D4C8.html">SState</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D5C0FB0F-39A2-38B9-97DA-DB0468696E2F">ConvertToUnicodeFromModalForeign</a>(<a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a>, <a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-792D9EC1-DF63-3CAF-8D61-DEA08B85D4C8.html">SState</a> &gt; &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr></tbody></table></div><div>
<ul class="ullinks">
</ul>
</div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Provides static character conversion utilities for complex encodings. Its functions may be called from a plug-in DLL's implementation of <a href="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C.html#GUID-EA905CF8-204F-39C2-ACEA-751C6D519EE7">ConvertFromUnicode()</a> and ConvertToUnicode().</p>

			<p>These utility functions are provided for use when converting to/from complex character set encodings, including modal encodings. Modal encodings are those where the interpretation of a given byte of data is dependent on the current mode; mode changing is performed by escape sequences which occur in the byte stream. A non-modal complex encoding is one in which characters are encoded using variable numbers of bytes. The number of bytes used to encode a character depends on the value of the initial byte.   </p>

		</div>
<h2 class="sectiontitle">Member Type Definition Documentation</h2><div class="nested1" id="GUID-F9985263-D7C6-382C-A80E-D051686169FD"><a name="GUID-F9985263-D7C6-382C-A80E-D051686169FD"><!-- --></a>
		<h3 class="sectiontitle">Typedef FConvertFromIntermediateBufferInPlace</h3>
		
		<div class="section signature"><table class="signature"><tr><td>typedef void(*</td><td>FConvertFromIntermediateBufferInPlace</td></tr></table></div><div class="section apidesc">
				<p>A pointer to a function which "mangles" text when converting from Unicode into a complex modal or non-modal foreign character set encoding.</p>

				<p>It might insert a shifting character, escape sequence, or other special characters.If the target character set encoding is modal, the implementation of this function may call the <a href="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C.html#GUID-C7F60F29-D0D7-34C1-A69F-7354CE80E43B">CnvUtilities::ConvertFromIntermediateBufferInPlace()</a> utility function which is provided because many modal character sets require an identical implementation of this function.</p>

				<p>" convutils.lib " </p>

			</div>

	</div>
<div class="nested1" id="GUID-A76E761E-E3E3-3E7F-A30F-7D3132CFBC02"><a name="GUID-A76E761E-E3E3-3E7F-A30F-7D3132CFBC02"><!-- --></a>
		<h3 class="sectiontitle">Typedef FConvertToIntermediateBufferInPlace</h3>
		
		<div class="section signature"><table class="signature"><tr><td>typedef void(*</td><td>FConvertToIntermediateBufferInPlace</td></tr></table></div><div class="section apidesc">
				<p>A pointer to a function which prepares the text for conversion into Unicode.</p>

				<p>For instance it might remove any shifting or other special characters. Called when converting from a non-modal complex character set encoding into Unicode.</p>

				<p>" convutils.lib " </p>

			</div>

	</div>
<div class="nested1" id="GUID-9C8886AC-2B99-3193-84C1-257C103FFBE5"><a name="GUID-9C8886AC-2B99-3193-84C1-257C103FFBE5"><!-- --></a>
		<h3 class="sectiontitle">Typedef FNumberOfBytesAbleToConvert</h3>
		
		<div class="section signature"><table class="signature"><tr><td>typedef 
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>(*</td><td>FNumberOfBytesAbleToConvert</td></tr></table></div><div class="section apidesc">
				<p>A pointer to a function which calculates the number of consecutive bytes in the remainder of the foreign descriptor which can be converted using the current character set's conversion data.</p>

				<p>Called when converting from a non-modal complex character set encoding into Unicode. It may return a negative <a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html#GUID-522BE0D0-A445-3D79-B43D-6140586AACF9">CCnvCharacterSetConverter::TError</a> value to indicate an error in the encoding.</p>

				<p>" convutils.lib " </p>

			</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-C7F60F29-D0D7-34C1-A69F-7354CE80E43B"><a name="GUID-C7F60F29-D0D7-34C1-A69F-7354CE80E43B"><!-- --></a>
		<a name="GUID-BCC795DC-E1D1-3203-86C4-489E30F6E1AB"><!----></a><h3 class="sectiontitle">ConvertFromIntermediateBufferInPlace ( TInt, TDes8 &amp;, TInt &amp;, const TDesC8 &amp;, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConvertFromIntermediateBufferInPlace</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aStartPositionInDescriptor</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDescriptor</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNumberOfCharactersThatDroppedOut</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aEscapeSequence</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aNumberOfBytesPerCharacter</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p>Inserts an escape sequence into the descriptor.</p>

				<p>This function is provided to help in the implementation of <a href="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C.html#GUID-EA905CF8-204F-39C2-ACEA-751C6D519EE7">ConvertFromUnicode()</a> for modal character set encodings. Each <a href="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html#GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3">SCharacterSet</a> object in the array passed to <a href="GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C.html#GUID-EA905CF8-204F-39C2-ACEA-751C6D519EE7">ConvertFromUnicode()</a> must have its iConvertFromIntermediateBufferInPlace member assigned. To do this for a modal character set encoding, implement a function whose signature matches that of FConvertFromIntermediateBufferInPlace and which calls this function, passing all arguments unchanged, and specifying the character set's escape sequence and the number of bytes per character.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStartPositionInDescriptor</td><td>The byte position in aDescriptor at which the escape sequence is inserted. If the character set uses more than one byte per character, this position must be the start of a character, otherwise a panic occurs.  </td></tr><tr class="bg"><td class="parameter">aDescriptor</td><td>The descriptor into which the escape sequence is inserted.  </td></tr><tr><td class="parameter">aNumberOfCharactersThatDroppedOut</td><td>The escape sequence is inserted into the start of aDescriptor and any characters that need to drop out to make room for the escape sequence (because the descriptor's maximum length was not long enough) drop out from the end of the buffer. This parameter indicates the number of characters that needed to drop out.  </td></tr><tr class="bg"><td class="parameter">aEscapeSequence</td><td>The escape sequence for the character set.  </td></tr><tr><td class="parameter">aNumberOfBytesPerCharacter</td><td>The number of bytes per character.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-EA905CF8-204F-39C2-ACEA-751C6D519EE7"><a name="GUID-EA905CF8-204F-39C2-ACEA-751C6D519EE7"><!-- --></a>
		<a name="GUID-347FBF5F-2430-3335-A98A-A76089B25D7E"><!----></a><h3 class="sectiontitle">ConvertFromUnicode ( CCnvCharacterSetConverter::TEndianness, const TDesC8 &amp;, TDes8 &amp;, const TDesC16 &amp;, CCnvCharacterSetConverter::TArrayOfAscendingIndices &amp;, const TArray&lt; SCharacterSet &gt; &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertFromUnicode</td><td>(</td><td><a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a></td><td><span class="parameter">aDefaultEndiannessOfForeignCharacters</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aReplacementForUnconvertibleUnicodeCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aForeign</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8D718E41-F126-3D95-AD41-AA104F5B1D1D.html">CCnvCharacterSetConverter::TArrayOfAscendingIndices</a> &amp;</td><td><span class="parameter">aIndicesOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html">SCharacterSet</a> &gt; &amp;</td><td><span class="parameter">aArrayOfCharacterSets</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p>Converts Unicode text into a complex foreign character set encoding. This is an encoding which cannot be converted simply by calling <a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html#GUID-C5D51F9F-E1E7-3392-9029-F0A255B311C6">CCnvCharacterSetConverter::DoConvertFromUnicode()</a>. It may be modal (e.g. JIS) or non-modal (e.g. Shift-JIS).</p>

				<p>The Unicode text specified in aUnicode is converted using the array of conversion data objects (aArrayOfCharacterSets) provided by the plug-in for the complex character set encoding, and the converted text is returned in aForeign. Any existing contents in aForeign are overwritten.</p>

				<p>Unlike <a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html#GUID-C5D51F9F-E1E7-3392-9029-F0A255B311C6">CCnvCharacterSetConverter::DoConvertFromUnicode()</a>, multiple character sets can be specified. aUnicode is converted using the first character conversion data object in the array. When a character is found which cannot be converted using that data, each character set in the array is tried in turn. If it cannot be converted using any object in the array, the index of the character is appended to aIndicesOfUnconvertibleCharacters and the character is replaced by aReplacementForUnconvertibleUnicodeCharacters.</p>

				<p>If it can be converted using another object in the array, that object is used to convert all subsequent characters until another unconvertible character is found.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultEndiannessOfForeignCharacters</td><td>The default endian-ness to use when writing the characters in the foreign character set. If an endian-ness for foreign characters is specified in the current conversion data object, then that is used instead and the value of aDefaultEndiannessOfForeignCharacters is ignored.  </td></tr><tr class="bg"><td class="parameter">aReplacementForUnconvertibleUnicodeCharacters</td><td>The single character (one or more byte values) which is used to replace unconvertible characters.  </td></tr><tr><td class="parameter">aForeign</td><td>On return, contains the converted text  in the non-Unicode character set.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>The source Unicode text to be converted.  </td></tr><tr><td class="parameter">aIndicesOfUnconvertibleCharacters</td><td>On return, holds an ascending array of the indices of each Unicode character in the source text which could not be converted (because none of the target character sets have an equivalent character).  </td></tr><tr class="bg"><td class="parameter">aArrayOfCharacterSets</td><td>Array of character conversion data objects, representing the character sets which comprise a complex character set encoding. These are used in sequence to convert the Unicode text. There must be at least one character set in this array and no character set may have any NULL member data, or a panic occurs.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of unconverted characters left at the end of the input descriptor (e.g. because aForeign was not long enough to hold all the text), or a negative error value, as defined in CCnvCharacterSetConverter::TError. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-CD13F5A1-C03B-3EC9-B0D5-2AD68200FC5A"><a name="GUID-CD13F5A1-C03B-3EC9-B0D5-2AD68200FC5A"><!-- --></a>
		<h3 class="sectiontitle">ConvertFromUnicode ( CCnvCharacterSetConverter::TEndianness, const TDesC8 &amp;, TDes8 &amp;, const TDesC16 &amp;, CCnvCharacterSetConverter::TArrayOfAscendingIndices &amp;, const TArray&lt; SCharacterSet &gt; &amp;, TUint &amp;, TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertFromUnicode</td><td>(</td><td><a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a></td><td><span class="parameter">aDefaultEndiannessOfForeignCharacters</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aReplacementForUnconvertibleUnicodeCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aForeign</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8D718E41-F126-3D95-AD41-AA104F5B1D1D.html">CCnvCharacterSetConverter::TArrayOfAscendingIndices</a> &amp;</td><td><span class="parameter">aIndicesOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-9F48EF78-8064-39D6-80A0-A1D417BDEEA3.html">SCharacterSet</a> &gt; &amp;</td><td><span class="parameter">aArrayOfCharacterSets</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;</td><td><span class="parameter">aOutputConversionFlags</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aInputConversionFlags</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p>Converts Unicode text into a complex foreign character set encoding. This is an encoding which cannot be converted simply by a call to <a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html#GUID-C5D51F9F-E1E7-3392-9029-F0A255B311C6">CCnvCharacterSetConverter::DoConvertFromUnicode()</a>. It may be modal (e.g. JIS) or non-modal (e.g. Shift-JIS).</p>

				<p>The Unicode text specified in aUnicode is converted using the array of conversion data objects (aArrayOfCharacterSets) provided by the plug-in for the complex character set encoding and the converted text is returned in aForeign. The function can either append to aForeign or overwrite its contents (if any).</p>

				<p>Unlike <a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html#GUID-C5D51F9F-E1E7-3392-9029-F0A255B311C6">CCnvCharacterSetConverter::DoConvertFromUnicode()</a>, multiple character sets can be specified. aUnicode is converted using the first character conversion data object in the array. When a character is found which cannot be converted using that data, each character set in the array is tried in turn. If it cannot be converted using any object in the array, the index of the character is appended to aIndicesOfUnconvertibleCharacters and the character is replaced by aReplacementForUnconvertibleUnicodeCharacters.</p>

				<p>If it can be converted using another object in the array, that object is used to convert all subsequent characters until another unconvertible character is found.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultEndiannessOfForeignCharacters</td><td>The default endian-ness to use when writing the characters in the foreign character set. If an endian-ness for foreign characters is specified in the current conversion data object, then that is used instead and the value of aDefaultEndiannessOfForeignCharacters is ignored.  </td></tr><tr class="bg"><td class="parameter">aReplacementForUnconvertibleUnicodeCharacters</td><td>The single character (one or more byte values) which is used to replace unconvertible characters.  </td></tr><tr><td class="parameter">aForeign</td><td>On return, contains the converted text  in the non-Unicode character set. This may already contain some text. If it does, and if aInputConversionFlags specifies EInputConversionFlagAppend, then the converted text is appended to this descriptor.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>The source Unicode text to be converted.  </td></tr><tr><td class="parameter">aIndicesOfUnconvertibleCharacters</td><td>On return, holds an ascending array of the indices of each Unicode character in the source text which could not be converted (because none of the target character sets have an equivalent character).  </td></tr><tr class="bg"><td class="parameter">aArrayOfCharacterSets</td><td>Array of character set data objects. These are used in sequence to convert the Unicode text. There must be at least one character set in this array and no character set may have any NULL member data, or a panic occurs.  </td></tr><tr><td class="parameter">aOutputConversionFlags</td><td>If the input descriptor ended in a truncated sequence, e.g. the first half only of a Unicode surrogate pair, this returns with the EOutputConversionFlagInputIsTruncated flag set.  </td></tr><tr class="bg"><td class="parameter">aInputConversionFlags</td><td>Specify CCnvCharacterSetConverter::EInputConversionFlagAppend to append the text to aForeign. Specify CCnvCharacterSetConverter::EInputConversionFlagAllowTruncatedInputNotEvenPartlyConsumable to prevent the function from returning the error-code EErrorIllFormedInput when the input descriptor consists of nothing but a truncated sequence. The CCnvCharacterSetConverter::EInputConversionFlagStopAtFirstUnconvertibleCharacter flag must not be set, otherwise a panic occurs.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of unconverted characters left at the end of the input descriptor (e.g. because aForeign was not long enough to hold all the text), or a negative error value, as defined in CCnvCharacterSetConverter::TError. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-10C0E0C3-9516-33B8-8C0E-42D8757D491A"><a name="GUID-10C0E0C3-9516-33B8-8C0E-42D8757D491A"><!-- --></a>
		<a name="GUID-B8461193-CD0A-39B7-BBF0-8B3EF266B059"><!----></a><h3 class="sectiontitle">ConvertToUnicodeFromHeterogeneousForeign ( CCnvCharacterSetConverter::TEndianness, TDes16 &amp;, const TDesC8 &amp;, TInt &amp;, TInt &amp;, const TArray&lt; SMethod &gt; &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertToUnicodeFromHeterogeneousForeign</td><td>(</td><td><a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a></td><td><span class="parameter">aDefaultEndiannessOfForeignCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aForeign</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNumberOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-C74E45B1-DA39-3032-BF9A-46C54005A040.html">SMethod</a> &gt; &amp;</td><td><span class="parameter">aArrayOfMethods</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p>Converts text from a non-modal complex character set encoding (e.g. Shift-JIS or EUC-JP) into Unicode.The non-Unicode text specified in aForeign is converted using the array of character set conversion methods (aArrayOfMethods) provided by the plug-in, and the converted text is returned in aUnicode. Overwrites the contents, if any, of aUnicode.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultEndiannessOfForeignCharacters</td><td>The default endian-ness of the foreign characters. If an endian-ness for foreign characters is specified in the conversion data, then that is used instead and the value of aDefaultEndiannessOfForeignCharacters is ignored.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>On return, contains the text converted into Unicode.  </td></tr><tr><td class="parameter">aForeign</td><td>The non-Unicode source text to be converted.  </td></tr><tr class="bg"><td class="parameter">aNumberOfUnconvertibleCharacters</td><td>On return, contains the number of characters in aForeign which were not converted. Characters which cannot be converted are output as Unicode replacement characters (0xfffd).  </td></tr><tr><td class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</td><td>On return, the index of the first byte of the first unconvertible character. For instance if the first character in the input descriptor (aForeign) could not be converted, then this parameter is set to the first byte of that character, i.e. zero. A negative value is returned if all the characters were converted.  </td></tr><tr class="bg"><td class="parameter">aArrayOfMethods</td><td>Array of conversion methods. There must be one or more methods in this array and none of the methods in the array can have any NULL member data or a panic occurs.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of unconverted bytes left at the end of the input descriptor, or a negative error value, as defined in TError. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-03DA99C0-AB26-3A2D-AAEA-D0D6A84E9244"><a name="GUID-03DA99C0-AB26-3A2D-AAEA-D0D6A84E9244"><!-- --></a>
		<h3 class="sectiontitle">ConvertToUnicodeFromHeterogeneousForeign ( CCnvCharacterSetConverter::TEndianness, TDes16 &amp;, const TDesC8 &amp;, TInt &amp;, TInt &amp;, const TArray&lt; SMethod &gt; &amp;, TUint &amp;, TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertToUnicodeFromHeterogeneousForeign</td><td>(</td><td><a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a></td><td><span class="parameter">aDefaultEndiannessOfForeignCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aForeign</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNumberOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-C74E45B1-DA39-3032-BF9A-46C54005A040.html">SMethod</a> &gt; &amp;</td><td><span class="parameter">aArrayOfMethods</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;</td><td><span class="parameter">aOutputConversionFlags</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aInputConversionFlags</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultEndiannessOfForeignCharacters</td><td>The default endian-ness for the foreign characters. If an endian-ness for foreign characters is specified in the conversion data, then that is used instead and the value of aDefaultEndiannessOfForeignCharacters is ignored.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>On return, contains the text converted into Unicode.  </td></tr><tr><td class="parameter">aForeign</td><td>The non-Unicode source text to be converted.  </td></tr><tr class="bg"><td class="parameter">aNumberOfUnconvertibleCharacters</td><td>On return, contains the number of characters in aForeign which were not converted. Characters which cannot be converted are output as Unicode replacement characters (0xfffd).  </td></tr><tr><td class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</td><td>On return, the index of the first byte of the first unconvertible character. For instance if the first character in the input descriptor (aForeign) could not be converted, then this parameter is set to the first byte of that character, i.e. zero. A negative value is returned if all the characters were converted.  </td></tr><tr class="bg"><td class="parameter">aArrayOfMethods</td><td>Array of conversion methods. There must be one or more methods in this array and none of the methods in the array can have any NULL member data or a panic occurs.  </td></tr><tr><td class="parameter">aOutputConversionFlags</td><td>If the input descriptor ended in a truncated sequence, e.g. a part of a multi-byte character, aOutputConversionFlags returns with the EOutputConversionFlagInputIsTruncated flag set.  </td></tr><tr class="bg"><td class="parameter">aInputConversionFlags</td><td>Specify CCnvCharacterSetConverter::EInputConversionFlagAppend to append the text to aUnicode. Specify EInputConversionFlagAllowTruncatedInputNotEvenPartlyConsumable to prevent the function from returning the error-code EErrorIllFormedInput when the input descriptor consists of nothing but a truncated sequence. The CCnvCharacterSetConverter::EInputConversionFlagStopAtFirstUnconvertibleCharacter flag must not be set, otherwise a panic occurs.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of unconverted bytes left at the end of the input descriptor, or a negative error value, as defined in TError. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-917D8F69-F13F-36BD-A43B-F5ADC727C223"><a name="GUID-917D8F69-F13F-36BD-A43B-F5ADC727C223"><!-- --></a>
		<a name="GUID-FFAA1638-954E-3D1A-A36E-20B9BC6274F2"><!----></a><h3 class="sectiontitle">ConvertToUnicodeFromModalForeign ( CCnvCharacterSetConverter::TEndianness, TDes16 &amp;, const TDesC8 &amp;, TInt &amp;, TInt &amp;, TInt &amp;, const TArray&lt; SState &gt; &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertToUnicodeFromModalForeign</td><td>(</td><td><a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a></td><td><span class="parameter">aDefaultEndiannessOfForeignCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aForeign</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aState</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNumberOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-792D9EC1-DF63-3CAF-8D61-DEA08B85D4C8.html">SState</a> &gt; &amp;</td><td><span class="parameter">aArrayOfStates</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p>Converts text from a modal foreign character set encoding into Unicode.</p>

				<p>The non-Unicode text specified in aForeign is converted using the array of character set conversion objects (aArrayOfStates) provided by the plug-in, and the converted text is returned in aUnicode. The function can either append to aUnicode or overwrite its contents (if any), depending on the input conversion flags specified. The first element in aArrayOfStates is taken to be the default mode (i.e. the mode to assume by default if there is no preceding escape sequence).</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultEndiannessOfForeignCharacters</td><td>The default endian-ness of the foreign characters. If an endian-ness for foreign characters is specified in the conversion data, then that is used instead and the value of aDefaultEndiannessOfForeignCharacters is ignored.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>On return, contains the text converted into Unicode.  </td></tr><tr><td class="parameter">aForeign</td><td>The non-Unicode source text to be converted.  </td></tr><tr class="bg"><td class="parameter">aState</td><td>Used to store a modal character set encoding's current mode across multiple calls to ConvertToUnicode() on the same input descriptor. This argument should be passed the same object as passed to the plug-in's ConvertToUnicode() exported function.  </td></tr><tr><td class="parameter">aNumberOfUnconvertibleCharacters</td><td>On return, contains the number of characters in aForeign which were not converted. Characters which cannot be converted are output as Unicode replacement characters (0xfffd).  </td></tr><tr class="bg"><td class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</td><td>On return, the index of the first byte of the first unconvertible character. For instance if the first character in the input descriptor (aForeign) could not be converted, then this parameter is set to the first byte of that character, i.e. zero. A negative value is returned if all the characters were converted.  </td></tr><tr><td class="parameter">aArrayOfStates</td><td>Array of character set conversion data objects, and their escape sequences ("modes"). There must be one or more modes in this array, none of the modes can have any NULL member data, and each mode's escape sequence must begin with KControlCharacterEscape (0x1b) or a panic occurs.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of unconverted bytes left at the end of the input descriptor, or a negative error value, as defined in TError. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-D5C0FB0F-39A2-38B9-97DA-DB0468696E2F"><a name="GUID-D5C0FB0F-39A2-38B9-97DA-DB0468696E2F"><!-- --></a>
		<h3 class="sectiontitle">ConvertToUnicodeFromModalForeign ( CCnvCharacterSetConverter::TEndianness, TDes16 &amp;, const TDesC8 &amp;, TInt &amp;, TInt &amp;, TInt &amp;, const TArray&lt; SState &gt; &amp;, TUint &amp;, TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertToUnicodeFromModalForeign</td><td>(</td><td><a href="GUID-A03A0ACA-00B2-350E-8ED7-DB8C9B0D83CC.html">CCnvCharacterSetConverter::TEndianness</a></td><td><span class="parameter">aDefaultEndiannessOfForeignCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aForeign</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aState</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNumberOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-792D9EC1-DF63-3CAF-8D61-DEA08B85D4C8.html">SState</a> &gt; &amp;</td><td><span class="parameter">aArrayOfStates</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;</td><td><span class="parameter">aOutputConversionFlags</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aInputConversionFlags</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultEndiannessOfForeignCharacters</td><td>The default endian-ness for the foreign characters. If an endian-ness for foreign characters is specified in the conversion data, then that is used instead and the value of aDefaultEndiannessOfForeignCharacters is ignored.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>On return, contains the text converted into Unicode.  </td></tr><tr><td class="parameter">aForeign</td><td>The non-Unicode source text to be converted.  </td></tr><tr class="bg"><td class="parameter">aState</td><td>Used to store a modal character set encoding's current mode across multiple calls to ConvertToUnicode() on the same input descriptor. This argument should be passed the same object as passed to the plug-in's ConvertToUnicode() exported function.  </td></tr><tr><td class="parameter">aNumberOfUnconvertibleCharacters</td><td>On return, contains the number of characters in aForeign which were not converted. Characters which cannot be converted are output as Unicode replacement characters (0xfffd).  </td></tr><tr class="bg"><td class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</td><td>On return, the index of the first byte of the first unconvertible character. For instance if the first character in the input descriptor (aForeign) could not be converted, then this parameter is set to the first byte of that character, i.e. zero. A negative value is returned if all the characters were converted.  </td></tr><tr><td class="parameter">aArrayOfStates</td><td>Array of character set conversion data objects, and their escape sequences. There must be one or more modes in this array, none of the modes can have any NULL member data, and each mode's escape sequence must begin with KControlCharacterEscape (0x1b) or a panic occurs.  </td></tr><tr class="bg"><td class="parameter">aOutputConversionFlags</td><td>If the input descriptor ended in a truncated sequence, e.g. a part of a multi-byte character, aOutputConversionFlags returns with the EOutputConversionFlagInputIsTruncated flag set.  </td></tr><tr><td class="parameter">aInputConversionFlags</td><td>Specify CCnvCharacterSetConverter::EInputConversionFlagAppend to append the text to aUnicode. Specify EInputConversionFlagAllowTruncatedInputNotEvenPartlyConsumable to prevent the function from returning the error-code EErrorIllFormedInput when the input descriptor consists of nothing but a truncated sequence. The CCnvCharacterSetConverter::EInputConversionFlagStopAtFirstUnconvertibleCharacter flag must not be set, otherwise a panic occurs.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of unconverted bytes left at the end of the input descriptor, or a negative error value, as defined in TError. </span></p></div>
</div>

	</div>

	

	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">Â© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2FC99DA0-F1C0-3A5E-B990-5DC3F7EAA31C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:54 GMT -->
</html>