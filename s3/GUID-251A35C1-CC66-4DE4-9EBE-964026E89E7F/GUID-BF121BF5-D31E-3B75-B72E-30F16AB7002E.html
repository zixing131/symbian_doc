<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:33 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RStoreReclaim"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RStoreReclaim</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E"><a name="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RStoreReclaim Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;s32stor.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class RStoreReclaim</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-6BEC64D2-E489-3817-BCE1-17895746A00C">RStoreReclaim</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-45D1EADE-C3AB-3BFA-A08A-0A536ABE70EA">Available</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-1B354004-91B1-3A82-873A-3AD272297887">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BF5E971C-B566-3657-A243-75CC920A567C">CompactL</a>(<a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-535C3A5C-A06B-3014-925C-CE2BC1F739B0">CompactLC</a>(<a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C86AB7AE-4AA7-37C5-8665-82CBEE180540">Next</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-DE9CB40E-B6F8-390C-9AC0-E555BE8EBA2E">Next</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-725B9ABC-9DE6-3A9A-8787-868F54A59B96">NextL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-99F20F39-FCAA-3F01-B920-4D473E3DF4E0">NextL</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F1591D31-A6DA-3AB8-85F4-88889BD26921">OpenL</a>(<a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9DD8EAA9-1339-3141-9B99-4C12EE1116C6">OpenLC</a>(<a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8DD2919A-7BAB-3E68-8914-821CC1A4E243">Release</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6715F176-9E08-3FF1-8058-DADD12AD755D">ResetL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Performs space reclamation or compaction on a permanent file store in incremental steps.</p>

			<p>Reclaiming unused space makes it available for re-use by the store. Compacting makes unused space available for re-use by the relevant system pool     for example, the filing system in the case of file-based stores.</p>

			<p>Once compaction is complete, the store must be committed.</p>

			<p>Notes:</p>

			<p>Space reclamation and compaction are only supported by the file store <a href="GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C.html#GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C">CPermanentFileStore</a> and are not supported by embedded or direct file stores.</p>

			<p>Use active objects when implementing space reclamation or compaction asynchronously.</p>

			<p>This class performs incremental compaction/reclamation. These operations can be performed in a possibly long running single step using <a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html#GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D">CStreamStore</a> functions. </p>

		</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-6BEC64D2-E489-3817-BCE1-17895746A00C"><a name="GUID-6BEC64D2-E489-3817-BCE1-17895746A00C"><!-- --></a>
		<h3 class="sectiontitle">RStoreReclaim (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>RStoreReclaim</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc"/>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-45D1EADE-C3AB-3BFA-A08A-0A536ABE70EA"><a name="GUID-45D1EADE-C3AB-3BFA-A08A-0A536ABE70EA"><!-- --></a>
		<h3 class="sectiontitle">Available (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Available</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section apidesc">
				<p>Returns the amount of free space currently available within the store. The function may be called at any time during space reclamation or compaction.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The amount of free space currently available within the store. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-1B354004-91B1-3A82-873A-3AD272297887"><a name="GUID-1B354004-91B1-3A82-873A-3AD272297887"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Close</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc">
				<p>Stops space reclamation or compaction. All allocated resources are freed.</p>

				<p>Notes:</p>

				<p>If a cleanup item was placed on the cleanup stack when the <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E">RStoreReclaim</a> object was prepared for space reclamation or compaction (i.e. by a call to <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-9DD8EAA9-1339-3141-9B99-4C12EE1116C6">OpenLC()</a> or <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-535C3A5C-A06B-3014-925C-CE2BC1F739B0">CompactLC()</a>), then this function need not be called explicitly; clean up is implicitly done by <a href="GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html#GUID-A3B62AAC-7E17-31F3-97DF-D7C6F4FB66F2">CleanupStack::PopAndDestroy()</a>.</p>

				<p>The <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-6715F176-9E08-3FF1-8058-DADD12AD755D">ResetL()</a> member function can be used to restart abandoned space reclamation or compaction activity. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-BF5E971C-B566-3657-A243-75CC920A567C"><a name="GUID-BF5E971C-B566-3657-A243-75CC920A567C"><!-- --></a>
		<a name="GUID-BF4E30A7-E56E-3967-BEF3-651BE0F6B76D"><!----></a><h3 class="sectiontitle">CompactL ( CStreamStore &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CompactL</td><td>(</td><td><a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Prepares the object to perform compaction.</p>

				<p>Streams must be closed before calling this function.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStore</td><td>A reference to the store on which space reclamation or compaction is to be performed.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>A reference to a control value set by these functions. This value is required by all variants of Next() and NextL() (and ResetL(), if used).  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-535C3A5C-A06B-3014-925C-CE2BC1F739B0"><a name="GUID-535C3A5C-A06B-3014-925C-CE2BC1F739B0"><!-- --></a>
		<a name="GUID-6B6FD6B6-166A-322E-821D-EFB32F73D896"><!----></a><h3 class="sectiontitle">CompactLC ( CStreamStore &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CompactLC</td><td>(</td><td><a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Prepares the object to perform compaction, putting a cleanup item onto the cleanup stack.</p>

				<p>P lacing a cleanup item for the object onto the cleanup stack allows allocated resources to be cleaned up if a subsequent leave occurs.</p>

				<p>Streams must be closed before calling this function.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStore</td><td>A reference to the store on which space reclamation or compaction is to be performed.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>A reference to a control value set by these functions. This value is required by all variants of Next() and NextL() (and ResetL(), if used).  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-C86AB7AE-4AA7-37C5-8665-82CBEE180540"><a name="GUID-C86AB7AE-4AA7-37C5-8665-82CBEE180540"><!-- --></a>
		<a name="GUID-0D186956-A62D-3B9D-A03C-2959A7DF5C1A"><!----></a><h3 class="sectiontitle">Next ( TPckgBuf&lt; TInt &gt; &amp;, TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Next</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td><span class="parameter">aStep</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates the next space reclamation or compaction step asynchronous, non-leaving. The function updates the value in aStep, and should only be called while aStep is non-zero. Once this value is zero, no further calls should be made.</p>

				<p>The step itself is performed asynchronously.</p>

				<p>Note:</p>

				<p>The <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E">RStoreReclaim</a> object should be made part of an active object to simplify the handling of the step completion event.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>A reference to a control value constructed from a TInt value originally set by OpenL(), OpenLC(), CompactL() or CompactLC().aStep is updated by calls to Next() or NextL().  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>On completion, contains the request status. If successful contains KErrNone. If the function fails during the initiation phase, the failure is reported as if the step had started successfully but completed with that error.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-DE9CB40E-B6F8-390C-9AC0-E555BE8EBA2E"><a name="GUID-DE9CB40E-B6F8-390C-9AC0-E555BE8EBA2E"><!-- --></a>
		<h3 class="sectiontitle">Next ( TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Next</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Performs the next space reclamation or compaction step synchronous, non-leaving. The function updates the value in aStep, and should only be called while aStep is non-zero. Once this value is zero, no further calls should be made.</p>

				<p>The step is performed synchronously, i.e. the function does not return until the step is complete.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>A reference to a control value originally set by OpenL(), OpenLC(), CompactL() or CompactLC() and updated by calls to Next() or NextL().  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-725B9ABC-9DE6-3A9A-8787-868F54A59B96"><a name="GUID-725B9ABC-9DE6-3A9A-8787-868F54A59B96"><!-- --></a>
		<a name="GUID-B43C3CE0-6493-362D-BEED-4B83B0F8FDFE"><!----></a><h3 class="sectiontitle">NextL ( TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NextL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Performs the next space reclamation or compaction step synchronous, leaves. The function updates the value in aStep, and should only be called while aStep is non-zero. Once this value is zero, no further calls should be made.</p>

				<p>The step is performed synchronously, i.e. the function does not return until the step is complete.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>A reference to a control value originally set by OpenL(), OpenLC(), CompactL() or CompactLC() and updated by calls to Next() or NextL().  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-99F20F39-FCAA-3F01-B920-4D473E3DF4E0"><a name="GUID-99F20F39-FCAA-3F01-B920-4D473E3DF4E0"><!-- --></a>
		<h3 class="sectiontitle">NextL ( TPckgBuf&lt; TInt &gt; &amp;, TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NextL</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td><span class="parameter">aStep</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates the next space reclamation or compaction step asynchronous, leaving. The function updates the value in aStep, and should only be called while aStep is non-zero. Once this value is zero, no further calls should be made.</p>

				<p>The step itself is performed asynchronously.</p>

				<p>Note:</p>

				<p>The <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E">RStoreReclaim</a> object should be made part of an active object to simplify the handling of the step completion event.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>A reference to a control value constructed from a TInt value originally set by OpenL(), OpenLC(), CompactL() or CompactLC().aStep is updated by calls to Next() or NextL().  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>On completion, contains the request status. If successful contains KErrNone. If the function fails during the initiation phase, the failure is reported as if the step had started successfully but completed with that error.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-F1591D31-A6DA-3AB8-85F4-88889BD26921"><a name="GUID-F1591D31-A6DA-3AB8-85F4-88889BD26921"><!-- --></a>
		<a name="GUID-902CA7AF-CEB7-3232-819C-32FF4E7E5047"><!----></a><h3 class="sectiontitle">OpenL ( CStreamStore &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenL</td><td>(</td><td><a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Prepares the object to perform space reclamation.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStore</td><td>A reference to the store on which space reclamation or compaction is to be performed.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>A reference to a control value set by these functions. This value is required by all variants of Next() and NextL() (and ResetL(), if used).  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-9DD8EAA9-1339-3141-9B99-4C12EE1116C6"><a name="GUID-9DD8EAA9-1339-3141-9B99-4C12EE1116C6"><!-- --></a>
		<a name="GUID-6150A084-732B-3010-9AB6-90C55489ECEA"><!----></a><h3 class="sectiontitle">OpenLC ( CStreamStore &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenLC</td><td>(</td><td><a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html">CStreamStore</a> &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Prepares the object to perform space reclamation and puts a pointer onto the cleanup stack.</p>

				<p>Placing a cleanup item for the object onto the cleanup stack allows allocated resources to be cleaned up if a subsequent leave occurs.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStore</td><td>A reference to the store on which space reclamation or compaction is to be performed.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>A reference to a control value set by these functions. This value is required by all variants of Next() and NextL() (and ResetL(), if used).  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-8DD2919A-7BAB-3E68-8914-821CC1A4E243"><a name="GUID-8DD2919A-7BAB-3E68-8914-821CC1A4E243"><!-- --></a>
		<h3 class="sectiontitle">Release (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Release</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Releases allocated resources. Any space reclamation or compaction in progress is abandoned.</p>

				<p>Notes:</p>

				<p>If a cleanup item was placed on the cleanup stack when the <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E">RStoreReclaim</a> object was prepared for space reclamation or compaction (i.e. by a call to <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-9DD8EAA9-1339-3141-9B99-4C12EE1116C6">OpenLC()</a> or <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-535C3A5C-A06B-3014-925C-CE2BC1F739B0">CompactLC()</a>), then this function need not be called explicitly; clean up is implicitly done by <a href="GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html#GUID-A3B62AAC-7E17-31F3-97DF-D7C6F4FB66F2">CleanupStack::PopAndDestroy()</a>.</p>

				<p>The <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-6715F176-9E08-3FF1-8058-DADD12AD755D">ResetL()</a> member function can be used to restart abandoned space reclamation or compaction activity. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-6715F176-9E08-3FF1-8058-DADD12AD755D"><a name="GUID-6715F176-9E08-3FF1-8058-DADD12AD755D"><!-- --></a>
		<a name="GUID-DE7E3D1D-74A8-318E-BC2B-5924D5FD880C"><!----></a><h3 class="sectiontitle">ResetL ( TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ResetL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Restarts space reclamation or compaction.</p>

				<p>The value in aCount must be:</p>

				<p>that which was set by the most recent call to <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-C86AB7AE-4AA7-37C5-8665-82CBEE180540">Next()</a> or <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-725B9ABC-9DE6-3A9A-8787-868F54A59B96">NextL()</a>, if space reclamation or compaction had been started.</p>

				<p>that which was set by <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-F1591D31-A6DA-3AB8-85F4-88889BD26921">OpenL()</a>, <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-9DD8EAA9-1339-3141-9B99-4C12EE1116C6">OpenLC()</a>, <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-BF5E971C-B566-3657-A243-75CC920A567C">CompactL()</a> or <a href="GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html#GUID-535C3A5C-A06B-3014-925C-CE2BC1F739B0">CompactLC()</a>, if space reclamation or compaction had not been started.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCount</td><td>A reference to a control value originally set by OpenL(), OpenLC(), CompactL() or CompactLC() and updated by subsequent calls to Next() or NextL().  </td></tr></table></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">Â© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BF121BF5-D31E-3B75-B72E-30F16AB7002E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:33 GMT -->
</html>