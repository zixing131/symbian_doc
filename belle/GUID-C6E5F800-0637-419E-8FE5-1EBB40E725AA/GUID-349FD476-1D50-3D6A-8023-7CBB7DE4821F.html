<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:15 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CSARStore" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F" />
<title>CSARStore</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F"><a name="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CSARStore Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;gsmustor.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: gsmu.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CSARStore : public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CSARStore<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
RFs &amp;</td><td><a href="#GUID-D2BCABFE-A874-32C7-8305-51FB7AA2D6C5">iFs</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-815C39AD-09D7-30C0-BC28-6DA10872E48B">iMaxmumNumberOfMessagesInSegmentationStore</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DF4B56EB-A5EC-3E4D-98A0-6E2A2585F5E1">BeginTransactionLC</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8342B0E4-578A-317C-90DB-E817AE3D1BD9">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-637B271C-D22A-3098-9731-C423460FCFE0">CommitTransactionL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-35D20DCA-0944-3381-8D4E-67ED8D291987">CompactL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9AFF1122-C77B-3251-9860-DD70F11C2060">DeleteEntryL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-75277255-B523-3F8B-9556-51E89BD5B7AF">DoOpenL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C const <a class="xref xref apiRelation" href="GUID-79EFD210-2C4F-31E5-83CD-DC9FE54FD585.html">CArrayFix</a>&lt; <a class="xref xref apiRelation" href="GUID-B9382772-FC6F-3A90-AF3B-218A299D64C3.html">TSAREntry</a> &gt; &amp;</td><td><a href="#GUID-F502BC6C-7B25-31A0-8F59-AF4E7B995F34">Entries</a>()</td></tr><tr class="bg"><td align="right" class="code">
RFs &amp;</td><td><a href="#GUID-BF52EBE6-F0DE-3338-9EA4-99F5C2758FA5">FileSession</a>()</td></tr><tr><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
</td><td><a href="#GUID-71A4F41C-0A97-365E-9CBA-01CB925A95BE">InTransaction</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8F2500FA-6ED2-33B7-AF07-C157D5DDD8CD">OpenL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-279CBCBD-F62A-3294-9174-DB813AEA7F28">PrivatePath</a>(<a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-1C055175-6339-3DD4-B62A-C538B8C63299">PurgeL</a>(const <a class="xref xref apiRelation" href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A5891002-7804-3C9D-A599-73C26DBDD515">PurgeL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-6B6EFCBD-9F4E-35F3-B197-20D8DAA2593E">Revert</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-20378E14-8F03-348F-9F6C-D6E9BB96C5F1">CSARStore</a>(RFs &amp;)</td></tr><tr class="bg"><td align="right" class="code"></td><td><a href="#GUID-A6FFD95F-ABAC-3763-AFAC-EB3CC19F7144">~CSARStore</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-691A30C4-10A2-3EDF-93D6-3BE64FBFCA87">AddEntryL</a>(const <a class="xref xref apiRelation" href="GUID-B9382772-FC6F-3A90-AF3B-218A299D64C3.html">TSAREntry</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6A808102-1AAA-39DF-97AD-8D8F472E96CB">ChangeEntryL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a class="xref xref apiRelation" href="GUID-B9382772-FC6F-3A90-AF3B-218A299D64C3.html">TSAREntry</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a></td><td><a href="#GUID-DC471050-1F64-3571-9212-52EEC8DBCC46">ExtraStreamId</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C CFileStore &amp;</td><td><a href="#GUID-78DE38A7-D9C3-3505-9A7A-D7DDA5F456C0">FileStore</a>()</td></tr><tr><td align="right" class="code">IMPORT_C const CFileStore &amp;</td><td><a href="#GUID-0D2678A6-A16B-3959-BE7D-D066553C23C0">FileStore</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-25289E56-C96B-329F-B0D2-1561DAD546F9">SetExtraStreamIdL</a>(const <a class="xref xref apiRelation" href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Controls the segmentation and reassembly (SAR) store, used for SMS segmentation and reassembly, and WAP reassembly.   </p>
</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-D2BCABFE-A874-32C7-8305-51FB7AA2D6C5"><a name="GUID-D2BCABFE-A874-32C7-8305-51FB7AA2D6C5"><!-- --></a>
<h3 class="sectiontitle">iFs</h3>
<div class="section signature"><table class="signature"><tr><td>
RFs &amp;</td><td>iFs</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-815C39AD-09D7-30C0-BC28-6DA10872E48B"><a name="GUID-815C39AD-09D7-30C0-BC28-6DA10872E48B"><!-- --></a>
<h3 class="sectiontitle">iMaxmumNumberOfMessagesInSegmentationStore</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iMaxmumNumberOfMessagesInSegmentationStore</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Maximum number of SMS messages that can be stored in segmentation store. </p>
</div>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-20378E14-8F03-348F-9F6C-D6E9BB96C5F1"><a name="GUID-20378E14-8F03-348F-9F6C-D6E9BB96C5F1"><!-- --></a>
<a name="GUID-CD19B71B-A500-3C04-8FAD-144FED4357C7"><!-- --></a><h3 class="sectiontitle">CSARStore ( RFs &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CSARStore</td><td>(</td><td>RFs &amp;</td><td><span class="parameter">aFs</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructor, initialises class members only.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFs</td><td>File system handle  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A6FFD95F-ABAC-3763-AFAC-EB3CC19F7144"><a name="GUID-A6FFD95F-ABAC-3763-AFAC-EB3CC19F7144"><!-- --></a>
<h3 class="sectiontitle">~CSARStore (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CSARStore</td><td>(</td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Destructor. Frees resource. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-691A30C4-10A2-3EDF-93D6-3BE64FBFCA87"><a name="GUID-691A30C4-10A2-3EDF-93D6-3BE64FBFCA87"><!-- --></a>
<a name="GUID-A162E2D1-A6E1-35CB-8CC9-81AE0C9D9B8E"><!-- --></a><h3 class="sectiontitle">AddEntryL ( const TSAREntry &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddEntryL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-B9382772-FC6F-3A90-AF3B-218A299D64C3.html">TSAREntry</a> &amp;</td><td><span class="parameter">aEntry</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds a new entry to the file store.</p>
<p class="p">The function appends the new entry to the internal entry array, and then externalises it.</p>
<p class="p">The file store must be open before calling this function.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aEntry</td><td>SAR entry to add  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DF4B56EB-A5EC-3E4D-98A0-6E2A2585F5E1"><a name="GUID-DF4B56EB-A5EC-3E4D-98A0-6E2A2585F5E1"><!-- --></a>
<h3 class="sectiontitle">BeginTransactionLC (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>BeginTransactionLC</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the SAR store as in-transaction.</p>
<div class="p">The function checks the validity of the call and leaves KErrAccessDenied if invalid. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6A808102-1AAA-39DF-97AD-8D8F472E96CB"><a name="GUID-6A808102-1AAA-39DF-97AD-8D8F472E96CB"><!-- --></a>
<a name="GUID-6F38321A-EFF9-3D5B-AD6F-762CBA9DB436"><!-- --></a><h3 class="sectiontitle">ChangeEntryL ( TInt, const TSAREntry &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ChangeEntryL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aIndex</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-B9382772-FC6F-3A90-AF3B-218A299D64C3.html">TSAREntry</a> &amp;</td><td><span class="parameter">aNewEntry</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Changes an entry in the file store - changes it first in the internal entry array, and then externalizes it.</p>
<p class="p">The file store must be open before calling this function.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aIndex</td><td>The index into the SAR store to be changed  </td></tr><tr class="bg"><td class="parameter">aNewEntry</td><td>The new SAR store entry  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8342B0E4-578A-317C-90DB-E817AE3D1BD9"><a name="GUID-8342B0E4-578A-317C-90DB-E817AE3D1BD9"><!-- --></a>
<h3 class="sectiontitle">Close (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Closes the file store.</p>
<div class="p">The function deletes the file store object and resets the entry array. It should be called once when the protocol module is closing down. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-637B271C-D22A-3098-9731-C423460FCFE0"><a name="GUID-637B271C-D22A-3098-9731-C423460FCFE0"><!-- --></a>
<h3 class="sectiontitle">CommitTransactionL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CommitTransactionL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Commits a transaction to the filestore. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-35D20DCA-0944-3381-8D4E-67ED8D291987"><a name="GUID-35D20DCA-0944-3381-8D4E-67ED8D291987"><!-- --></a>
<h3 class="sectiontitle">CompactL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CompactL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Compacts the file store.</p>
<p class="p">This is done on every reboot and for every eighth SMS message sent, to keep the size of the file as low as possible.</p>
<div class="p">This function opens and closes the file automatically. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9AFF1122-C77B-3251-9860-DD70F11C2060"><a name="GUID-9AFF1122-C77B-3251-9860-DD70F11C2060"><!-- --></a>
<a name="GUID-88C2ADE9-D723-3A0D-86D6-73D445DE04A8"><!-- --></a><h3 class="sectiontitle">DeleteEntryL ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DeleteEntryL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aIndex</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Deletes an entry from the entry array, and externalizes it.</p>
<p class="p">The file store must be open before calling this function.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aIndex</td><td>Entry in the SAR store to delete  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-75277255-B523-3F8B-9556-51E89BD5B7AF"><a name="GUID-75277255-B523-3F8B-9556-51E89BD5B7AF"><!-- --></a>
<h3 class="sectiontitle">DoOpenL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DoOpenL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens a filestore.</p>
<div class="p">This is called by <a class="xref" href="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F.html#GUID-8F2500FA-6ED2-33B7-AF07-C157D5DDD8CD">OpenL()</a>, and does the work of really opening the file. If the file is not there, it creates a new one. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F502BC6C-7B25-31A0-8F59-AF4E7B995F34"><a name="GUID-F502BC6C-7B25-31A0-8F59-AF4E7B995F34"><!-- --></a>
<h3 class="sectiontitle">Entries (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a class="xref xref apiRelation" href="GUID-79EFD210-2C4F-31E5-83CD-DC9FE54FD585.html">CArrayFix</a>&lt; <a class="xref xref apiRelation" href="GUID-B9382772-FC6F-3A90-AF3B-218A299D64C3.html">TSAREntry</a> &gt; &amp;</td><td>Entries</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets a const reference to the entry array.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Entry array </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DC471050-1F64-3571-9212-52EEC8DBCC46"><a name="GUID-DC471050-1F64-3571-9212-52EEC8DBCC46"><!-- --></a>
<h3 class="sectiontitle">ExtraStreamId (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a></td><td>ExtraStreamId</td><td>(</td><td>)</td><td>const [protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the extra stream ID.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Extra stream ID </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BF52EBE6-F0DE-3338-9EA4-99F5C2758FA5"><a name="GUID-BF52EBE6-F0DE-3338-9EA4-99F5C2758FA5"><!-- --></a>
<h3 class="sectiontitle">FileSession (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
RFs &amp;</td><td>FileSession</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the file server handle.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>File server handle </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-78DE38A7-D9C3-3505-9A7A-D7DDA5F456C0"><a name="GUID-78DE38A7-D9C3-3505-9A7A-D7DDA5F456C0"><!-- --></a>
<h3 class="sectiontitle">FileStore (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C CFileStore &amp;</td><td>FileStore</td><td>(</td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets a reference to the filestore.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The filestore </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0D2678A6-A16B-3959-BE7D-D066553C23C0"><a name="GUID-0D2678A6-A16B-3959-BE7D-D066553C23C0"><!-- --></a>
<h3 class="sectiontitle">FileStore (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const CFileStore &amp;</td><td>FileStore</td><td>(</td><td>)</td><td>const [protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets a (const) reference to the filestore.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The filestore </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-71A4F41C-0A97-365E-9CBA-01CB925A95BE"><a name="GUID-71A4F41C-0A97-365E-9CBA-01CB925A95BE"><!-- --></a>
<h3 class="sectiontitle">InTransaction (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
</td><td>InTransaction</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>whether it's in transaction </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8F2500FA-6ED2-33B7-AF07-C157D5DDD8CD"><a name="GUID-8F2500FA-6ED2-33B7-AF07-C157D5DDD8CD"><!-- --></a>
<a name="GUID-CC6AA168-DAB8-3708-8BCF-EAC144922C90"><!-- --></a><h3 class="sectiontitle">OpenL ( const TDesC &amp;, const TUid &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFullName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> &amp;</td><td><span class="parameter">aThirdUid</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens a specified SAR store.</p>
<p class="p">A SAR filestore has has three uids, KPermanentFileStoreLayoutUid, KSARStoreUid (which designates that the file store is a SAR store) and a third UID, that identifies the particular implementation of <a class="xref" href="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F.html#GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F">CSARStore</a>.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFullName</td><td>Name for the segmentation and reassembly filestore  </td></tr><tr class="bg"><td class="parameter">aThirdUid</td><td>Third UID for the filestore.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-279CBCBD-F62A-3294-9174-DB813AEA7F28"><a name="GUID-279CBCBD-F62A-3294-9174-DB813AEA7F28"><!-- --></a>
<a name="GUID-44189D85-2AE2-3440-900B-31A13B16C974"><!-- --></a><h3 class="sectiontitle">PrivatePath ( TDes &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>PrivatePath</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;</td><td><span class="parameter">aPath</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the private path used to open a store.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPath</td><td>The private path of a store.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1C055175-6339-3DD4-B62A-C538B8C63299"><a name="GUID-1C055175-6339-3DD4-B62A-C538B8C63299"><!-- --></a>
<a name="GUID-ACFEADAC-BF7E-3AF5-9543-92887FD3133F"><!-- --></a><h3 class="sectiontitle">PurgeL ( const TTimeIntervalMinutes &amp;, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>PurgeL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;</td><td><span class="parameter">aTimeIntervalMinutes</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aPurgeIncompleteOnly</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Purges the reassembly file store.</p>
<p class="p">After a multipart message, it delete all the old entries.</p>
<p class="p">Entries will be purged when: 1) The complete message is received; 2) After aTimerintervalMinutes, if aPurgeIncompletely is false.</p>
<p class="p">
<a class="xref" href="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F.html#GUID-1C055175-6339-3DD4-B62A-C538B8C63299">PurgeL()</a> will be called after the booting of the device or when a message has been received.</p>
<p class="p">This function opens and closes the file automatically.</p>
<p class="p">Note: overload function for segmentation store.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aTimeIntervalMinutes</td><td>Purge time  </td></tr><tr class="bg"><td class="parameter">aPurgeIncompleteOnly</td><td>Purge complete messages flag  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A5891002-7804-3C9D-A599-73C26DBDD515"><a name="GUID-A5891002-7804-3C9D-A599-73C26DBDD515"><!-- --></a>
<h3 class="sectiontitle">PurgeL ( TInt, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>PurgeL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aKSegmentationLifetimeMultiplier</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aPurgeIncompleteOnly</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Purges the segmentation store.</p>
<p class="p">This purges the filestore after a multipart message, deleting all the old entries.</p>
<p class="p">This function opens and closes the file automatically.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aKSegmentationLifetimeMultiplier</td><td>The coefficient for calculating whether a message should be purged  </td></tr><tr class="bg"><td class="parameter">aPurgeIncompleteOnly</td><td>Set to false to purge all entries. Set to true to purge incomplete messages only.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6B6EFCBD-9F4E-35F3-B197-20D8DAA2593E"><a name="GUID-6B6EFCBD-9F4E-35F3-B197-20D8DAA2593E"><!-- --></a>
<h3 class="sectiontitle">Revert (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Revert</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-25289E56-C96B-329F-B0D2-1561DAD546F9"><a name="GUID-25289E56-C96B-329F-B0D2-1561DAD546F9"><!-- --></a>
<a name="GUID-62F600B3-6CD7-3E22-8ED6-2242055D5CC4"><!-- --></a><h3 class="sectiontitle">SetExtraStreamIdL ( const TStreamId &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetExtraStreamIdL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a> &amp;</td><td><span class="parameter">aExtraStreamId</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the extra stream ID - changes it first in the internal entry array, and then externalizes it.</p>
<p class="p">You must call <a class="xref" href="GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F.html#GUID-8342B0E4-578A-317C-90DB-E817AE3D1BD9">Close()</a> when the function returns.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aExtraStreamId</td><td>Extra stream ID  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
</div></div><div class="footer"><hr /><div class="copy">Â© Nokia 2005.</div></div>
</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-349FD476-1D50-3D6A-8023-7CBB7DE4821F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:15 GMT -->
</html>