<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-70925BDF-36EF-3705-9C95-9EE211543517.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:23:45 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="ContentAccess::TVirtualPathPtr" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-70925BDF-36EF-3705-9C95-9EE211543517" />
<title>ContentAccess::TVirtualPathPtr</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-70925BDF-36EF-3705-9C95-9EE211543517"><a name="GUID-70925BDF-36EF-3705-9C95-9EE211543517"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">ContentAccess::TVirtualPathPtr Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;caf/virtualpathptr.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class ContentAccess::TVirtualPathPtr</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-3B54E98E-95CB-36D5-880A-AC9B4B073860">TVirtualPathPtr</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code"></td><td><a href="#GUID-DA2AFC59-3882-33F7-B6B6-DB4FE5D112E6">TVirtualPathPtr</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code"></td><td><a href="#GUID-521F3B81-A557-34E3-A9E6-B49856FF6EFD">TVirtualPathPtr</a>(const <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><a href="#GUID-FBC8109C-9DB9-3A7B-905A-1A05112CCD1D">URI</a>()</td></tr><tr><td align="right" class="code">IMPORT_C const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><a href="#GUID-1DAF5905-B2E3-3BE3-8AFE-A287E4E894CE">UniqueId</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td><a href="#GUID-8F60C545-6CE3-3093-8269-4D641252959F">operator=</a>(const <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td><a href="#GUID-9D28B125-3D26-3A4F-9342-297EF0E3D5C0">operator=</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Identifies the location of a file and a particular content object inside it.</p>
<p class="p">
<a class="xref" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html#GUID-70925BDF-36EF-3705-9C95-9EE211543517">TVirtualPathPtr</a> points to the two descriptors (the URI and UniqueId) used to initialise it. These descriptors must not be modified or destroyed while the <a class="xref" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html#GUID-70925BDF-36EF-3705-9C95-9EE211543517">TVirtualPathPtr</a> object is in use.</p>
<p class="p">The URI must be in the format specified in RFC2396, found at <a class="xref" href="http://www.ietf.org/.">http://www.ietf.org/.</a></p>
<p class="p">The UniqueId will be created by the Agent. Content is only ever accessed by one agent so it is the agents responsibility to ensure the UniqueId is truly unique within the file.</p>
<div class="p">It is also possible to flatten a virtual path into a single descriptor. The <a class="xref" href="GUID-D56FD380-1335-33BB-B42E-6C1911274B06.html#GUID-D56FD380-1335-33BB-B42E-6C1911274B06">ContentAccess::CVirtualPath</a> class concatenates the URI, a separator, the KCafVirtualPathSeparator character, and the UniqueId to form a single URI. <a class="xref" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html#GUID-70925BDF-36EF-3705-9C95-9EE211543517">TVirtualPathPtr</a> can be used to decode this virtual path into the URI and the content object UniqueId. The concatenated URI and UniqueId take the format: <pre class="pre codeblock">		&lt;URI&gt;&lt;KCafVirtualPathSeparator&gt;&lt;UniqueID&gt;</pre>
</div>
<div class="p">An example of this format is shown below: <pre class="pre codeblock">	// Create a CVirtualPath object to point to OBJECT1 inside file.dcf
	CVirtualPath *path = CVirtualPath::NewL(_L("C:\\directory\file.dcf"), _L("OBJECT1"));

	// convert the URI and unique ID into a single URI.
	TVirtualPathPtr aPath = path-&gt;GetCombinedUriUniqueId();</pre>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If a URI is supplied which contains multiple KCafVirtualPathSeparator characters the rightmost KCafVirtualPathSeparator character will be taken as marking the end of the URI and the start of the UniqueId. When multiple KCafVirtualPathSeparator characters are present, under certain situations this will result in an invalid URI and UniqueId being created for the virtual path and can lead to an undefined failure. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3B54E98E-95CB-36D5-880A-AC9B4B073860"><a name="GUID-3B54E98E-95CB-36D5-880A-AC9B4B073860"><!-- --></a>
<a name="GUID-4C692037-8A53-33C3-9D0D-82AA3376AA48"><!-- --></a><h3 class="sectiontitle">TVirtualPathPtr ( const TDesC &amp;, const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>TVirtualPathPtr</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aUri</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aUniqueId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructor used when the URI and UniqueId fields are separate </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUri</td><td>The location of the file  </td></tr><tr class="bg"><td class="parameter">aUniqueId</td><td>The location of the content within the file  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DA2AFC59-3882-33F7-B6B6-DB4FE5D112E6"><a name="GUID-DA2AFC59-3882-33F7-B6B6-DB4FE5D112E6"><!-- --></a>
<h3 class="sectiontitle">TVirtualPathPtr ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>TVirtualPathPtr</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aCombinedUriUniqueId</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructor used for a concatenated URI and UniqueId.</p>
<p class="p">Note that the descriptor here may be just a URI or it could be a URI concatenated with the file's UniqueId. If it is a concatenated URI and UniqueId the URI and UniqueId will be seperated by the KCafVirtualPathSeparator character. For more information see above. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCombinedUriUniqueId</td><td>The location of the content object  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-521F3B81-A557-34E3-A9E6-B49856FF6EFD"><a name="GUID-521F3B81-A557-34E3-A9E6-B49856FF6EFD"><!-- --></a>
<h3 class="sectiontitle">TVirtualPathPtr ( const TVirtualPathPtr &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>TVirtualPathPtr</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td><span class="parameter">aPtr</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Copy constructor </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FBC8109C-9DB9-3A7B-905A-1A05112CCD1D"><a name="GUID-FBC8109C-9DB9-3A7B-905A-1A05112CCD1D"><!-- --></a>
<h3 class="sectiontitle">URI (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>URI</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The location of the file containing the content object </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The location of the file </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1DAF5905-B2E3-3BE3-8AFE-A287E4E894CE"><a name="GUID-1DAF5905-B2E3-3BE3-8AFE-A287E4E894CE"><!-- --></a>
<h3 class="sectiontitle">UniqueId (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>UniqueId</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">UniqueId supplied by a CAF Agent to identify the object within the file. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The location of the content within the file </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8F60C545-6CE3-3093-8269-4D641252959F"><a name="GUID-8F60C545-6CE3-3093-8269-4D641252959F"><!-- --></a>
<a name="GUID-F96BD9A4-F17F-3A67-AF7F-AAB0DDE73655"><!-- --></a><h3 class="sectiontitle">operator= ( const TVirtualPathPtr &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td>operator=</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td><span class="parameter">aVirtualPath</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Assignment operator </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9D28B125-3D26-3A4F-9342-297EF0E3D5C0"><a name="GUID-9D28B125-3D26-3A4F-9342-297EF0E3D5C0"><!-- --></a>
<h3 class="sectiontitle">operator= ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td>operator=</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aCombinedUriUniqueId</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Assignment operator converts a single descriptor to a <a class="xref" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html#GUID-70925BDF-36EF-3705-9C95-9EE211543517">TVirtualPathPtr</a>. If the descriptor is just a URI, the <a class="xref" href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html#GUID-70925BDF-36EF-3705-9C95-9EE211543517">TVirtualPathPtr</a> will point to the KDefaultContentObject within that file. If it is a concatenated URI and UniqueId the URI and UniqueId will be seperated by the KCafVirtualPathSeparator. character as detailed in the description above. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">Â© Nokia 2005.</div></div>
</div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-70925BDF-36EF-3705-9C95-9EE211543517.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:23:45 GMT -->
</html>