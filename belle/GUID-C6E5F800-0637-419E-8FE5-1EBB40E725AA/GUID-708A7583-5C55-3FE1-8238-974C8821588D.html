<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-708A7583-5C55-3FE1-8238-974C8821588D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:23:15 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="MDataSink" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-708A7583-5C55-3FE1-8238-974C8821588D" />
<title>MDataSink</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-708A7583-5C55-3FE1-8238-974C8821588D"><a name="GUID-708A7583-5C55-3FE1-8238-974C8821588D"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">MDataSink Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mmf/server/mmfdatasink.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class MDataSink</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual </td><td><a href="#GUID-A6FDEF42-73F6-348B-9599-50DC91F2A422">~MDataSink</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-6E49E33D-E74B-3BF2-9C60-56D04F628C0D">BufferFilledL</a>(<a class="xref xref apiRelation" href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *)</td></tr><tr><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
</td><td><a href="#GUID-774C8837-30F7-39C5-ACC9-0AEC1757070C">CanCreateSinkBuffer</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *</td><td><a href="#GUID-1F622AD0-7321-3383-9750-39E06BB32C9E">CreateSinkBufferL</a>(<a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp;)</td></tr><tr><td align="right" class="code">virtual 
					<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
</td><td><a href="#GUID-772C8148-8DAF-3B6D-93E7-89676CFF0191">DataSinkType</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-BAB87CAA-248C-3C8E-A498-2AA55A9D4866">EmptyBufferL</a>(<a class="xref xref apiRelation" href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *, <a class="xref xref apiRelation" href="GUID-2230F976-A798-30EB-ABA6-09C86716A4B5.html">MDataSource</a> *, <a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a>)</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-2D7E9477-4E89-3FCC-A4DE-A0140996F098">NegotiateL</a>(<a class="xref xref apiRelation" href="GUID-2230F976-A798-30EB-ABA6-09C86716A4B5.html">MDataSource</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-708A7583-5C55-3FE1-8238-974C8821588D.html">MDataSink</a> *</td><td><a href="#GUID-8D349889-5B28-368F-851B-5F1B3D1819B3">NewSinkL</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-708A7583-5C55-3FE1-8238-974C8821588D.html">MDataSink</a> *</td><td><a href="#GUID-89FC6435-C873-39BA-9D8E-134392BF2A6D">NewSinkLC</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual 
					<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-6EE191F3-DFD1-3C03-88E3-A20114C8BC62">SetSinkDataTypeCode</a>(<a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>, <a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a>)</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-1BE30620-A9C6-3F27-AF0E-8CE38647DA7A">SetSinkPrioritySettings</a>(const <a class="xref xref apiRelation" href="GUID-AA73C7C3-5874-34D1-8879-597B0900E9F3.html">TMMFPrioritySettings</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-60A88E36-AA54-327E-8D05-E8F4E72B4463">SinkCustomCommand</a>(<a class="xref xref apiRelation" href="GUID-3AF511EA-1E66-3286-9FD0-B90EC22BFAC1.html">TMMFMessage</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>
</td><td><a href="#GUID-F0B3800B-BA82-356C-8754-A7D72250E4CF">SinkDataTypeCode</a>(<a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-5E0447D4-A48D-35B3-AEDF-758EB249FAE2">SinkPauseL</a>()</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-63057BF2-4730-3042-AA32-1D06F455AE17">SinkPlayL</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-17E785C1-D177-317F-82D1-D9727CE56399">SinkPrimeL</a>()</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-E8627DBE-5709-388E-ABB1-0FC2DB8683D2">SinkStopL</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-A331BE68-9BD5-339F-BFEA-F415BCDF4E49">SinkThreadLogoff</a>()</td></tr><tr><td align="right" class="code">virtual 
					<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-A52B4BF4-05F4-348E-B04A-8183BC44F4F1">SinkThreadLogon</a>(<a class="xref xref apiRelation" href="GUID-8512F793-107A-3166-A62F-750696D942CE.html">MAsyncEventHandler</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-A278E5D2-1427-3E30-88ED-A86BEABF15E9">MDataSink</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-2F36A4F8-3B07-34D7-A625-C0444B51C545">ConstructSinkL</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Abstract class representing a data sink. </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A278E5D2-1427-3E30-88ED-A86BEABF15E9"><a name="GUID-A278E5D2-1427-3E30-88ED-A86BEABF15E9"><!-- --></a>
<a name="GUID-DC689B49-7C31-31BA-BB13-54ACC779498E"><!-- --></a><h3 class="sectiontitle">MDataSink ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>MDataSink</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aType</span></td><td>)</td><td>[protected, inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Protected constructor.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aType</td><td>The source type UID.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A6FDEF42-73F6-348B-9599-50DC91F2A422"><a name="GUID-A6FDEF42-73F6-348B-9599-50DC91F2A422"><!-- --></a>
<h3 class="sectiontitle">~MDataSink (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>~MDataSink</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6E49E33D-E74B-3BF2-9C60-56D04F628C0D"><a name="GUID-6E49E33D-E74B-3BF2-9C60-56D04F628C0D"><!-- --></a>
<a name="GUID-CF2E5AC7-1B99-3704-8866-07906828784D"><!-- --></a><h3 class="sectiontitle">BufferFilledL ( CMMFBuffer * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>BufferFilledL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *</td><td><span class="parameter">aBuffer</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function called by a data source to pass back a filled buffer to the sink.</p>
<p class="p">This is a pure virtual function that each derived class must implement. This method is used as the callback when the data sink actively requests a supplier ie. a data source to fill a buffer by calling the data sources FillBufferL. When the data sink gets this callback it knows that the buffer has been filled and is ready to be emptied.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aBuffer</td><td>The buffer that has been filled by a data source and is now available for processing.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-774C8837-30F7-39C5-ACC9-0AEC1757070C"><a name="GUID-774C8837-30F7-39C5-ACC9-0AEC1757070C"><!-- --></a>
<h3 class="sectiontitle">CanCreateSinkBuffer (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
</td><td>CanCreateSinkBuffer</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
					Deprecated
				</p>
<p class="p">Function to indicate whether the data sink can create a buffer.</p>
<p class="p">This is a pure virtual function that each derived class must implement.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A boolean indicating if the data sink can create a buffer. ETrue if it can otherwise EFalse. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2F36A4F8-3B07-34D7-A625-C0444B51C545"><a name="GUID-2F36A4F8-3B07-34D7-A625-C0444B51C545"><!-- --></a>
<a name="GUID-AEC3FEB6-ED46-3E73-85D6-FD298CE1DE6C"><!-- --></a><h3 class="sectiontitle">ConstructSinkL ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ConstructSinkL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aInitData</span></td><td>)</td><td>[protected, pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Performs any sink construction dependant on the sink construction initialisation data aInitData.</p>
<p class="p">This is a pure virtual function that a derrived data sink must implement</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aInitData</td><td>The sink specific initialisation data required for sink construction.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1F622AD0-7321-3383-9750-39E06BB32C9E"><a name="GUID-1F622AD0-7321-3383-9750-39E06BB32C9E"><!-- --></a>
<a name="GUID-8D998E91-9AF2-3734-A11A-985BD15E324C"><!-- --></a><h3 class="sectiontitle">CreateSinkBufferL ( TMediaId, TBool &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *</td><td>CreateSinkBufferL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a></td><td><span class="parameter">aMediaId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp;</td><td><span class="parameter">aReference</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns a buffer created by the data sink.</p>
<p class="p">This is a pure virtual function that each derived class must implement.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMediaId</td><td>This identifies the type of media eg. audio or video and the stream ID. This parameter is required in cases where the source can supply data of more than one media type and/or multiple streams of data. </td></tr><tr class="bg"><td class="parameter">aReference</td><td>This must be written to by the method to indicate whether the created buffer is a 'reference' buffer. A 'reference' buffer is a buffer that is owned by the sink and should be used in preference to the source buffer provided the source buffer is also not a reference buffer. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The created buffer. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-772C8148-8DAF-3B6D-93E7-89676CFF0191"><a name="GUID-772C8148-8DAF-3B6D-93E7-89676CFF0191"><!-- --></a>
<h3 class="sectiontitle">DataSinkType (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
</td><td>DataSinkType</td><td>(</td><td>)</td><td>const [inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the UID identifying the type of data sink.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The UID identifying the type of data sink </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BAB87CAA-248C-3C8E-A498-2AA55A9D4866"><a name="GUID-BAB87CAA-248C-3C8E-A498-2AA55A9D4866"><!-- --></a>
<a name="GUID-2B3B176E-47C3-34E6-9F12-2FB70463759D"><!-- --></a><h3 class="sectiontitle">EmptyBufferL ( CMMFBuffer *, MDataSource *, TMediaId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>EmptyBufferL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *</td><td><span class="parameter">aBuffer</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-2230F976-A798-30EB-ABA6-09C86716A4B5.html">MDataSource</a> *</td><td><span class="parameter">aSupplier</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a></td><td><span class="parameter">aMediaId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Method called by a <a class="xref" href="GUID-2230F976-A798-30EB-ABA6-09C86716A4B5.html#GUID-2230F976-A798-30EB-ABA6-09C86716A4B5">MDataSource</a> to request the data sink to empty aBuffer of data.</p>
<p class="p">This is a pure virtual function that each derived class must implement. This method is used when a data sink is passively waiting for requests from a supplier ie. a data source to empty a buffer. The data sink must call the BufferEmptiedL member on aSupplier when it has emptied the buffer of it's data. The data sink can either make this callback synchronously or asynchronously.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aBuffer</td><td>The full buffer that needs emptying of it's data.  </td></tr><tr class="bg"><td class="parameter">aSupplier</td><td>The data source that supplied the data. The data sink needs this to make the BufferEmptiedL callback on aSupplier to indicate to the data source that the data sink has finished with the buffer.  </td></tr><tr><td class="parameter">aMediaId</td><td>This identifies the type of media eg. audio or video and the stream ID. This parameter is required in cases where the source can supply data of more than one media type and/or multiple streams of data.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2D7E9477-4E89-3FCC-A4DE-A0140996F098"><a name="GUID-2D7E9477-4E89-3FCC-A4DE-A0140996F098"><!-- --></a>
<a name="GUID-022E2D1E-AFCD-3DD8-89EB-FC7E8D1F09F4"><!-- --></a><h3 class="sectiontitle">NegotiateL ( MDataSource &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>NegotiateL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-2230F976-A798-30EB-ABA6-09C86716A4B5.html">MDataSource</a> &amp;</td><td><span class="parameter">aDataSource</span></td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
					Deprecated
				</p>
<p class="p">Allows the data sink to negotiate with a data source.</p>
<p class="p">This method is required in cases where the settings of data sink are dependant on those of a data source. This is a virtual function that a derrived data sink can implement.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDataSource</td><td>The data source whose settings can affect the data sink.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8D349889-5B28-368F-851B-5F1B3D1819B3"><a name="GUID-8D349889-5B28-368F-851B-5F1B3D1819B3"><!-- --></a>
<a name="GUID-04B8016D-E8A3-3F00-8367-6D20C407A240"><!-- --></a><h3 class="sectiontitle">NewSinkL ( TUid, const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-708A7583-5C55-3FE1-8238-974C8821588D.html">MDataSink</a> *</td><td>NewSinkL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aImplementationUid</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aInitData</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static, inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Instantiates a new data sink.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aImplementationUid</td><td>The UID identifying the data sink to be instantiated.  </td></tr><tr class="bg"><td class="parameter">aInitData</td><td>The sink specific initialisation data required for sink construction. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the instantiated data sink. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-89FC6435-C873-39BA-9D8E-134392BF2A6D"><a name="GUID-89FC6435-C873-39BA-9D8E-134392BF2A6D"><!-- --></a>
<a name="GUID-E999602B-D051-3DE7-88F6-0E80522F1EF7"><!-- --></a><h3 class="sectiontitle">NewSinkLC ( TUid, const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-708A7583-5C55-3FE1-8238-974C8821588D.html">MDataSink</a> *</td><td>NewSinkLC</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aImplementationUid</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aInitData</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static, inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Instantiates a new data sink.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aImplementationUid</td><td>The UID identifying the data sink to be instantiated.  </td></tr><tr class="bg"><td class="parameter">aInitData</td><td>The sink specific initialisation data required for sink construction. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the instantiated data sink. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6EE191F3-DFD1-3C03-88E3-A20114C8BC62"><a name="GUID-6EE191F3-DFD1-3C03-88E3-A20114C8BC62"><!-- --></a>
<a name="GUID-BB031D9F-2345-3519-88D0-D6EE0CBFEE57"><!-- --></a><h3 class="sectiontitle">SetSinkDataTypeCode ( TFourCC, TMediaId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>SetSinkDataTypeCode</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><span class="parameter">aSinkFourCC</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a></td><td><span class="parameter">aMediaId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the data type as a fourCC code for the data sink.</p>
<p class="p">This is a virtual function that each derived class can implement if the data sink supports the ability to have its data type set.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSinkFourCC</td><td>This specifies the data type as a fourCC code to set the sink to.  </td></tr><tr class="bg"><td class="parameter">aMediaId</td><td>This identifies the type of media eg. audio or video and the stream ID. This parameter is required in cases where the source can supply data of more than one media type and/or multiple streams of data. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone if successful, KErrNotSupported if the sink does not support having it's data type set, otherwise a system wide error code. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1BE30620-A9C6-3F27-AF0E-8CE38647DA7A"><a name="GUID-1BE30620-A9C6-3F27-AF0E-8CE38647DA7A"><!-- --></a>
<a name="GUID-B045F6E3-7D43-3EB0-8AA7-1DF58AC7AFF5"><!-- --></a><h3 class="sectiontitle">SetSinkPrioritySettings ( const TMMFPrioritySettings &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetSinkPrioritySettings</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-AA73C7C3-5874-34D1-8879-597B0900E9F3.html">TMMFPrioritySettings</a> &amp;</td><td><span class="parameter">aPrioritySettings</span></td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the sink priority settings.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if a priority mechanism is required to arbitrate between multiple clients trying to access the same resource.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPrioritySettings</td><td>The sink priority settings.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-60A88E36-AA54-327E-8D05-E8F4E72B4463"><a name="GUID-60A88E36-AA54-327E-8D05-E8F4E72B4463"><!-- --></a>
<a name="GUID-EBF981DD-9C18-3417-BAC6-57DA837D4CEA"><!-- --></a><h3 class="sectiontitle">SinkCustomCommand ( TMMFMessage &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SinkCustomCommand</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-3AF511EA-1E66-3286-9FD0-B90EC22BFAC1.html">TMMFMessage</a> &amp;</td><td><span class="parameter">aMessage</span></td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Calls a sink specific custom command.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if it implements any custom commands.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMessage</td><td>The message specifying the custom command.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F0B3800B-BA82-356C-8754-A7D72250E4CF"><a name="GUID-F0B3800B-BA82-356C-8754-A7D72250E4CF"><!-- --></a>
<a name="GUID-04666F46-042D-311C-828D-A85B65DE992E"><!-- --></a><h3 class="sectiontitle">SinkDataTypeCode ( TMediaId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>
</td><td>SinkDataTypeCode</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-1AE974A9-FDD7-38BA-8ED7-7E38085E4B42.html">TMediaId</a></td><td><span class="parameter">aMediaId</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the data type as a fourCC code of the data sink.</p>
<p class="p">This is a pure virtual function that each derrived class must implement.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMediaId</td><td>This identifies the type of media eg. audio or video and the stream ID. This parameter is required in cases where the sink can accept data of more than one media type and/or multiple streams of data. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The fourCC code identifying the sink datatype for the specified aMediaId. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5E0447D4-A48D-35B3-AEDF-758EB249FAE2"><a name="GUID-5E0447D4-A48D-35B3-AEDF-758EB249FAE2"><!-- --></a>
<h3 class="sectiontitle">SinkPauseL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SinkPauseL</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function to 'pause' the data sink.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if any data sink specific action is required to 'pause'. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-63057BF2-4730-3042-AA32-1D06F455AE17"><a name="GUID-63057BF2-4730-3042-AA32-1D06F455AE17"><!-- --></a>
<h3 class="sectiontitle">SinkPlayL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SinkPlayL</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function 'play' the data sink.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if any data sink specific action is required prior to 'playing' ie. the start of data transfer. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-17E785C1-D177-317F-82D1-D9727CE56399"><a name="GUID-17E785C1-D177-317F-82D1-D9727CE56399"><!-- --></a>
<h3 class="sectiontitle">SinkPrimeL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SinkPrimeL</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function to 'prime' the data sink.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if any data sink specific 'priming' is required. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E8627DBE-5709-388E-ABB1-0FC2DB8683D2"><a name="GUID-E8627DBE-5709-388E-ABB1-0FC2DB8683D2"><!-- --></a>
<h3 class="sectiontitle">SinkStopL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SinkStopL</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function to 'stop' the data sink.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if any data sink specific action is required to 'stop' </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A331BE68-9BD5-339F-BFEA-F415BCDF4E49"><a name="GUID-A331BE68-9BD5-339F-BFEA-F415BCDF4E49"><!-- --></a>
<h3 class="sectiontitle">SinkThreadLogoff (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SinkThreadLogoff</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function to 'logoff' the data sink from the same thread that sink consumes data in.</p>
<p class="p">This method may be required as the thread that the data sink is deleted in may not be the same thread that the data transfer took place in. Therefore any thread specific releasing of resources needs to be performed in the SinkThreadLogoff rather than in the destructor.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if any thread specific releasing of resources is required. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A52B4BF4-05F4-348E-B04A-8183BC44F4F1"><a name="GUID-A52B4BF4-05F4-348E-B04A-8183BC44F4F1"><!-- --></a>
<a name="GUID-A6CD1868-BAF7-332E-8C35-BE3F494E3D2D"><!-- --></a><h3 class="sectiontitle">SinkThreadLogon ( MAsyncEventHandler &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>SinkThreadLogon</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-8512F793-107A-3166-A62F-750696D942CE.html">MAsyncEventHandler</a> &amp;</td><td><span class="parameter">aEventHandler</span></td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Function to 'logon' the data sink to the same thread that sink will be consuming data in.</p>
<p class="p">This method may be required as the thread that the data sink was created in is not always the same thread that the data transfer will take place in. Therefore any thread specific initialisation needs to be performed in the SinkThreadLogon rather than in the creation of the data sink.</p>
<p class="p">This is a virtual function that a derrived data sink can implement if any thread specific initialisation is required and/or the data sink can create any asynchronous events.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aEventHandler</td><td>This is an MAsyncEventHandler to handle asynchronous events that occur during the transfer of multimedia data. The event handler must be in the same thread as the data transfer thread - hence the reason it is passed in the SinkThreadLogon as opposed to say the constructor. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An error code indicating if the function call was successful. KErrNone on success, otherwise another of the system-wide error codes. </dd></dl></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">Â© Nokia 2005.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-708A7583-5C55-3FE1-8238-974C8821588D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:23:15 GMT -->
</html>