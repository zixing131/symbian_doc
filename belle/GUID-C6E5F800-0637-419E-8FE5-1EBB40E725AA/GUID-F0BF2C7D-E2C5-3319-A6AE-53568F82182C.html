<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:51 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="XQNfcShare" />
<meta name="abstract" content="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing." />
<meta name="description" content="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing." />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" />
<title>XQNfcShare</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C"><a name="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">XQNfcShare Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mw/xqnfcshare.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: xqnfcshare.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class XQNfcShare : public QObject, public QObject</td></tr></table></div><div class="section"><p>The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing. </p></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">XQNfcShare<ul class="derivation"></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Slots</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-2227795B-F919-3A50-874A-FD32960A1327">cancel</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C">easySetup</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B">easySetupAndPair</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0">share</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC">shareFile</a>(const QString &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672">shareFiles</a>(const QStringList &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Signals</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-F3554CAE-C96E-350D-93E3-A1779FA1B46F">busy</a>(bool)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1">easySetupCompleted</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D5E93AF1-A23C-3151-8535-0839519D91CD">easySetupStarted</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-A3254096-40B4-3286-86F1-6188046DF2C2">error</a>(XQNfcShare::Error)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5">shareCompleted</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC">shareStarted</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td>QObject::objectName</td></tr><tr class="bg"><td> </td><td>QObject::staticQtMetaObject</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td>QObject::QObject(QObjectPrivate &amp;,QObject *)</td></tr><tr class="bg"><td> </td><td>QObject::blockSignals(bool)</td></tr><tr><td> </td><td>QObject::childEvent(QChildEvent *)</td></tr><tr class="bg"><td> </td><td>QObject::children()const</td></tr><tr><td> </td><td>QObject::connect(const QObject *,const QMetaMethod &amp;,const QObject *,const QMetaMethod &amp;,Qt::ConnectionType)</td></tr><tr class="bg"><td> </td><td>QObject::connect(const QObject *,const char *,const QObject *,const char *,Qt::ConnectionType)</td></tr><tr><td> </td><td>QObject::connect(const QObject *,const char *,const char *,Qt::ConnectionType)const</td></tr><tr class="bg"><td> </td><td>QObject::connectNotify(const char *)</td></tr><tr><td> </td><td>QObject::customEvent(QEvent *)</td></tr><tr class="bg"><td> </td><td>QObject::deleteLater</td></tr><tr><td> </td><td>QObject::destroyed</td></tr><tr class="bg"><td> </td><td>QObject::disconnect(const QObject *,const QMetaMethod &amp;,const QObject *,const QMetaMethod &amp;)</td></tr><tr><td> </td><td>QObject::disconnect(const QObject *,const char *)</td></tr><tr class="bg"><td> </td><td>QObject::disconnect(const QObject *,const char *,const QObject *,const char *)</td></tr><tr><td> </td><td>QObject::disconnect(const char *,const QObject *,const char *)</td></tr><tr class="bg"><td> </td><td>QObject::disconnectNotify(const char *)</td></tr><tr><td> </td><td>QObject::dumpObjectInfo()</td></tr><tr class="bg"><td> </td><td>QObject::dumpObjectTree()</td></tr><tr><td> </td><td>QObject::dynamicPropertyNames()const</td></tr><tr class="bg"><td> </td><td>QObject::event(QEvent *)</td></tr><tr><td> </td><td>QObject::eventFilter(QObject *,QEvent *)</td></tr><tr class="bg"><td> </td><td>QObject::findChild(const QString &amp;)const</td></tr><tr><td> </td><td>QObject::findChildren(const QRegExp &amp;)const</td></tr><tr class="bg"><td> </td><td>QObject::findChildren(const QString &amp;)const</td></tr><tr><td> </td><td>QObject::inherits(const char *)const</td></tr><tr class="bg"><td> </td><td>QObject::installEventFilter(QObject *)</td></tr><tr><td> </td><td>QObject::isWidgetType()const</td></tr><tr class="bg"><td> </td><td>QObject::killTimer(int)</td></tr><tr><td> </td><td>QObject::moveToThread(QThread *)</td></tr><tr class="bg"><td> </td><td>QObject::objectName()const</td></tr><tr><td> </td><td>QObject::parent()const</td></tr><tr class="bg"><td> </td><td>QObject::property(const char *)const</td></tr><tr><td> </td><td>QObject::receivers(const char *)const</td></tr><tr class="bg"><td> </td><td>QObject::registerUserData()</td></tr><tr><td> </td><td>QObject::removeEventFilter(QObject *)</td></tr><tr class="bg"><td> </td><td>QObject::sender()const</td></tr><tr><td> </td><td>QObject::senderSignalIndex()const</td></tr><tr class="bg"><td> </td><td>QObject::setObjectName(const QString &amp;)</td></tr><tr><td> </td><td>QObject::setParent(QObject *)</td></tr><tr class="bg"><td> </td><td>QObject::setProperty(const char *,const QVariant &amp;)</td></tr><tr><td> </td><td>QObject::setUserData(uint,QObjectUserData *)</td></tr><tr class="bg"><td> </td><td>QObject::signalsBlocked()const</td></tr><tr><td> </td><td>QObject::startTimer(int)</td></tr><tr class="bg"><td> </td><td>QObject::thread()const</td></tr><tr><td> </td><td>QObject::timerEvent(QTimerEvent *)</td></tr><tr class="bg"><td> </td><td>QObject::userData(uint)const</td></tr><tr><td> </td><td>QObject::~QObject()</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">An instance of this class can be used for two distinct services: easy setup and file sharing. Both of these services depend on the presence of NFC (Near Field Communication) hardware and compatible software on both this device and the device that is the target of these services.</p>
<p class="p">Easy setup is used to easily obtain a target Bluetooth device's name, address and class. The user's device (i.e. the device using an instance of <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a>) can optionally be paired with the target device (i.e. the device whose information <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> returned). File sharing is used to send one or more files from one NFC-enabled device to another. NFC is used to establish a connection between the two devices and to select a bearer (e.g. Bluetooth) for the actual file transmission.</p>
<p class="p">As all of the services provided by this class are based on NFC, they all expect near field contact to take place to perform the requested service. For example after calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> the source device (i.e. the device running the application using the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> class) should be brought to close proximity with the target device (another device supporting NFC) for the file sharing to actually begin.</p>
<p class="p">Only one operation can be in progress at any one time. The isBusy() function is used to test whether the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance is currently processing a service request. It is not an error to call the service functions if isBusy() returns <tt class="ph tt">true</tt>, but they will have no effect.</p>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">While the the easy setup and file sharing services are provided as one API, they do not depend on each other. Both services can be used in isolation. There is, for example, no need to perform easy setup before attempting to share files. Using the easy setup or file sharing services provided by <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> does not require any additional software on the the target device (i.e. the device whose Bluetooth information is queried, or to which files are to be transferred) as the counterpart of the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> API is built into Symbian^3 Anna and later releases.</p>
</div>
</div>
<p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a>, see <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a>, isBusy(), error(), XQNfcShare::Error </p>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F3554CAE-C96E-350D-93E3-A1779FA1B46F"><a name="GUID-F3554CAE-C96E-350D-93E3-A1779FA1B46F"><!-- --></a>
<a name="GUID-DF4FF329-1DF8-33C5-B56A-8D77C4C1A940"><!-- --></a><h3 class="sectiontitle">busy ( bool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>busy</td><td>(</td><td>bool</td><td><span class="parameter">busy</span></td><td>)</td><td>[signal]</td></tr></table></div><div class="section"><p>Emitted whenever an operation is begins or ends. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This signal is emitted when any of the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a> operations begins or ends. The busy(true) signal is emitted as soon as the function is called. Similarly busy(false) is emitted as soon as any operation completes (regardless of whether it completed successfully or not) to indicate that the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance is idle and ready to receive another request.</p>
<p class="p">The busy(true) signal does <em class="ph i">not</em> indicate that any activity is taking place. For any of the operations to proceed near field contact needs to happen. The busy(true) signal merely indicates that the service request has been received and the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance is reserved and not ready to start another operation.</p>
<p class="p">For each operation there is a more accurate "started" signal. For instance <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a> emits a more timely <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-D5E93AF1-A23C-3151-8535-0839519D91CD" title="Emitted when exchange of bearer information starts.">easySetupStarted()</a> signal when the two devices have actually been brought into close proximity with one another and the exchange of information is started.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a>, isBusy() </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">busy</td><td>true is the XQNfcShare instance started an operation, false if an operation has just been completed.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2227795B-F919-3A50-874A-FD32960A1327"><a name="GUID-2227795B-F919-3A50-874A-FD32960A1327"><!-- --></a>
<h3 class="sectiontitle">cancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>cancel</td><td>(</td><td>)</td><td>[slot]</td></tr></table></div><div class="section"><p>Cancels an ongoing easy setup or file sharing operation. </p></div><div class="section section apiDesc section apidesc">
<p class="p">Calling this function cancels any operation that this instance of <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> is currently processing. This function has no effect if none of the easy setup or file sharing functions have been called yet, or the operations have already been completed (i.e. isBusy() returns <tt class="ph tt">false</tt>).</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a>, isBusy() </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C"><a name="GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C"><!-- --></a>
<h3 class="sectiontitle">easySetup (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>easySetup</td><td>(</td><td>)</td><td>[slot]</td></tr></table></div><div class="section"><p>Obtains bearer information for establishing a connection between this device and the target device. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This is an asynchronous operation which completes when either this device is touched together with another NFC-enabled device and bearer information is successfully exchanged, or when this operation is cancelled by calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-2227795B-F919-3A50-874A-FD32960A1327" title="Cancels an ongoing easy setup or file sharing operation.">cancel()</a>.</p>
<p class="p">On successful completion, the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1" title="Emitted when an easy setup operation completes.">easySetupCompleted()</a> signal is emitted. It is safe to access the newly acquired bearer type specific target device details (i.e. XQNfcShare::bluetoothDeviceName, XQNfcShare::bluetoothDeviceAddress and XQNfcShare::bluetoothDeviceClass for a Bluetooth bearer) after receiving this signal.</p>
<p class="p">It is possible for the easy setup operation to end in an error, in which case the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> signal is emitted. Note that <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1" title="Emitted when an easy setup operation completes.">easySetupCompleted()</a> is <em class="ph i">only</em> emitted if the operation completes without errors. Also note that calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-2227795B-F919-3A50-874A-FD32960A1327" title="Cancels an ongoing easy setup or file sharing operation.">cancel()</a> causes the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> signal to be emitted with an error parameter value of XQNfcShare::Error.</p>
<p class="p">The following code snippet shows a simple <tt class="ph tt">QObject</tt> derived class declaration that is used to handle the easy setup operation in the usage example below:</p>
<div class="p">
<pre class="pre codeblock">    #ifndef MYEASYSETUPCLASS_H
    #define MYEASYSETUPCLASS_H

    #include &lt;QtCore/QObject&gt;

    #include &lt;xqnfcshare.h&gt;

    class MyEasySetupClass : public QObject
    {
        Q_OBJECT

    public:
        explicit MyEasySetupClass(QObject *parent = 0);
        virtual ~MyEasySetupClass();

    public slots:
        void startEasySetup();
        void cancelEasySetup();

    private slots:
        void handleNfcEasySetupStarted();
        void handleNfcEasySetupCompleted();
        void handleNfcBusy(bool busy);
        void handleNfcError(XQNfcShare::Error error);

    private:
        XQNfcShare *m_nfcShare;
    };

    #endif // MYEASYSETUPCLASS_H</pre>
</div>
<p class="p">The following code snippet shows how to create a new <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance and how establish the signal-slot connections to receive easy setup state change notifications. The easy setup process is started when the slot <tt class="ph tt">void MyEasySetupClass::startEasySetup()</tt> gets called:</p>
<div class="p">
<pre class="pre codeblock">    #include "myeasysetupclass.h"

    void MyEasySetupClass::MyEasySetupClass(QObject *parent) : QObject(parent)
    {
        // Construct a new instance.
        m_nfcShare = new XQNfcShare(this);

        // Connect signals for receiving state change notifications.
        connect(m_nfcShare, SIGNAL(easySetupStarted()), SLOT(handleNfcEasySetupStarted()));
        connect(m_nfcShare, SIGNAL(easySetupCompleted()), SLOT(handleNfcEasySetupCompleted()));
        connect(m_nfcShare, SIGNAL(busy(bool)), SLOT(handleNfcBusy(bool)));
        connect(m_nfcShare, SIGNAL(error(XQNfcShare::Error)), SLOT(handleNfcError(XQNfcShare::Error)));
        }
    }

    MyEasySetupClass::~MyEasySetupClass()
    {
        // No need to delete the XQNfcShare instance here, as we are its parent object.
    }

    void MyEasySetupClass::startEasySetup()
    {
        // Start easy setup to obtain Bluetooth information for a target device.
        // This call has no effect if the XQNfcShare instance is already busy.
        m_nfcShare-&gt;easySetup();
    }

    void MyEasySetupClass::cancelEasySetup()
    {
        // Cancel the easy setup in case no near field contact has taken place yet.
        // If the XQNfcShare instance is busy, the current operation will be
        // cancelled and the error() signal will be emitted with a parameter
        // value of XQNfcShare::Cancelled, otherwise this call has no effect
        m_nfcShare-&gt;cancel();
    }

    void MyEasySetupClass::handleNfcEasySetupStarted()
    {
        // The device has actually been brought into contact with a target
        // device and the exchange of bearer information has begun. This signal
        // is merely informational, there is no need to do anything here.
    }

    void MyEasySetupClass::handleNfcEasySetupCompleted()
    {
        // Easy setup has been completed successfully, the bearer type (here we're
        // only interested in the Bluetooth bearer type) specific properties are
        // now available and valid. The newly acquired target device information
        // could be e.g. displayed on the user interface, or used to open a
        // Bluetooth connection using the Qt Mobility connectivity classes.
        if (m_nfcShare-&gt;bearerType() == XQNfcShare::Bluetooth) {
            QString bluetoothDeviceName = m_nfcShare-&gt;bluetoothDeviceName();
            QString bluetoothDeviceAddress = m_nfcShare-&gt;bluetoothDeviceAddress();
            quint32 bluetoothDeviceClass = m_nfcShare-&gt;bluetoothDeviceClass();
        }
    }

    void MyEasySetupClass::handleNfcBusy(bool busy)
    {
        if (busy) {
            // XQNfcShare has been activated. The busy property changes to true
            // as soon as the easySetup() function is called - no near field
            // contact has taken place yet. You can use the easySetupStarted()
            // signal to know exactly when NFC kicks in.
        } else {
            // XQNfcShare has been deactivated. The busy() signal is emitted with
            // a value of false whether or not the requested operation completed
            // successfully.
        }
    }

    void MyEasySetupClass::handleNfcError(XQNfcShare::Error error)
    {
        switch (error) {
        case XQNfcShare::Cancelled:
            // Easy setup has been cancelled before it was completed.
            break;
        default:
            // The easy setup attempt ended in an error.
            break;
        }
    }</pre>
</div>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">Calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a> currently always results in a Bluetooth bearer being selected. There is no way to specify a preferred bearer, such as wireless LAN, the bearer selection is an implementation detail that cannot be parameterized.</p>
</div>
</div>
<p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1" title="Emitted when an easy setup operation completes.">easySetupCompleted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a>, XQNfcShare::Error </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B"><a name="GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B"><!-- --></a>
<h3 class="sectiontitle">easySetupAndPair (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>easySetupAndPair</td><td>(</td><td>)</td><td>[slot]</td></tr></table></div><div class="section"><p>Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This is an asynchronous operation which completes when either this device is touched together with another NFC-enabled device and the bearer information exchange and pairing is successfully completed, or when this operation is cancelled by calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-2227795B-F919-3A50-874A-FD32960A1327" title="Cancels an ongoing easy setup or file sharing operation.">cancel()</a>.</p>
<p class="p">Easy setup with OOB pairing works identically to normal easy setup except that after obtaining the target device information an additional step is performed to form a Bluetooth pairing between the two devices. The usage of <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a> is identical to the code snippet shown in the documentation for <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, except in the <tt class="ph tt">void MyEasySetupClass::startEasySetup()</tt> slot you would call <tt class="ph tt">m_nfcShare-&gt;<a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a></tt> instead of <tt class="ph tt">m_nfcShare-&gt;<a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a></tt>. The required signal-slot connections and sequence of operation is otherwise exactly the same.</p>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">Calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a> currently always results in a Bluetooth bearer being selected. There is no way to specify a preferred bearer, such as a wireless LAN, the bearer selection is an implementation detail that cannot be parameterized.</p>
</div>
</div>
<p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1" title="Emitted when an easy setup operation completes.">easySetupCompleted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a>, XQNfcShare::Error </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1"><a name="GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1"><!-- --></a>
<h3 class="sectiontitle">easySetupCompleted (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>easySetupCompleted</td><td>(</td><td>)</td><td>[signal]</td></tr></table></div><div class="section"><p>Emitted when an easy setup operation completes. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This signal is emitted when the setup operation started by calling either <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a> completes and new bearer information is available.</p>
<p class="p">After this signal is emitted, the newly selected bearer type is stored as the value of the bearerType() property. Bearer type values other than XQNfcShare::NoBearer indicate a valid bearer and properties associated with the selected bearer type are also usable. See bearerType() for details.</p>
<p class="p">If errors occur during the easy setup operation, the signal is <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> is emitted instead of this signal.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-D5E93AF1-A23C-3151-8535-0839519D91CD" title="Emitted when exchange of bearer information starts.">easySetupStarted()</a>, bearerType(), <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D5E93AF1-A23C-3151-8535-0839519D91CD"><a name="GUID-D5E93AF1-A23C-3151-8535-0839519D91CD"><!-- --></a>
<h3 class="sectiontitle">easySetupStarted (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>easySetupStarted</td><td>(</td><td>)</td><td>[signal]</td></tr></table></div><div class="section"><p>Emitted when exchange of bearer information starts. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This signal is emitted when the either of the functions <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a> has been called, this device has had near field contact with the target device and the exchange of bearer information has begun.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1" title="Emitted when an easy setup operation completes.">easySetupCompleted()</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A3254096-40B4-3286-86F1-6188046DF2C2"><a name="GUID-A3254096-40B4-3286-86F1-6188046DF2C2"><!-- --></a>
<a name="GUID-4925589B-8413-394B-B993-65C1DBF08460"><!-- --></a><h3 class="sectiontitle">error ( XQNfcShare::Error )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>error</td><td>(</td><td>XQNfcShare::Error</td><td><span class="parameter">error</span></td><td>)</td><td>[signal]</td></tr></table></div><div class="section"><p>Emitted when any operation terminates abnormally. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This signal is emitted when any of the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-DA6685FE-BCC8-3B6B-AA2B-5752DFD85A7C" title="Obtains bearer information for establishing a connection between this device and the target device.">easySetup()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F08A9ADC-C6F2-3A62-A9AD-1E7981F60B3B" title="Obtains bearer information for establishing a connection between this device and the target device and creates a Bluetooth Out-Of-Band (OOB) pairing between the two.">easySetupAndPair()</a> operations encounter an error condition. While technically not an error, calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-2227795B-F919-3A50-874A-FD32960A1327" title="Cancels an ongoing easy setup or file sharing operation.">cancel()</a> when any operation is ongoing causes the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> signal to be emitted with an <em class="ph i">error</em> parameter value of XQNfcShare::Cancelled.</p>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">If an error occurs the signals <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5" title="Emitted when a file transmission operation completes.">shareCompleted()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A1A511B2-8219-3DE6-80D2-B735C71D2BF1" title="Emitted when an easy setup operation completes.">easySetupCompleted()</a> normally emitted on operation completion are <em class="ph i">not</em> emitted.</p>
</div>
</div>
<p class="p">See also: XQNfcShare::Error </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">error</td><td>An XQNfcShare::Error enumeration value describing the cause of the error condition. </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0"><a name="GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0"><!-- --></a>
<h3 class="sectiontitle">share (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>share</td><td>(</td><td>)</td><td>[slot]</td></tr></table></div><div class="section"><p>Requests notification when a target device comes into near field contact and is ready to receive one or more files. </p></div><div class="section section apiDesc section apidesc">
<p class="p">File sharing happens in two stages. Before the actual file transmission can be started, near field contact must first take place so that a bearer channel may be selected.</p>
<p class="p">As soon as this function is called, the busy(true) signal is emitted to indicate that this <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance is active. Note that this does not mean that any sharing is taking place yet. Calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> merely indicates that the caller is interested in sharing one or more files. At this point there is need to state which files will be sent, because no near field contact has taken place yet and there is no one to receive the files.</p>
<p class="p">When there is a potential receiver for the files to be shared, the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a> signal is emitted. When this signal is emitted, the two devices have been brought to close proximity with one another, and a bearer channel for the transmission has been successfully negotiated.</p>
<p class="p">At this point one or more files may be transmitted by calling either <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a>. After either of these is called, the actual file transfer is performed. Once the files have been transferred successfully, the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5" title="Emitted when a file transmission operation completes.">shareCompleted()</a> signal is emitted. If errors occur at any point in the transmission, the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> signal is emitted with an error parameter value describing the problem.</p>
<p class="p">Whether or not the sharing completed successfully, the busy(false) signal is always emitted to indicate that the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance is ready to receive another service request.</p>
<p class="p">The following code snippet shows a simple <tt class="ph tt">QObject</tt> derived class declaration that is used to handle the file sharing operation in usage example below:</p>
<div class="p">
<pre class="pre codeblock">    #ifndef MYFILESHARECLASS_H
    #define MYFILESHARECLASS_H

    #include &lt;QtCore/QObject&gt;

    #include &lt;xqnfcshare.h&gt;

    class MyFileShareClass : public QObject
    {
        Q_OBJECT

    public:
        explicit MyFileShareClass(QObject *parent = 0);
        virtual ~MyFileShareClass();

    public slots:
        void startShareFile();
        void cancelShareFile();

    private slots:
        void handleNfcShareFileStarted();
        void handleNfcShareFileCompleted();
        void handleNfcBusy(bool busy);
        void handleNfcError(XQNfcShare::Error error);

    private:
        XQNfcShare *m_nfcShare;
    };

    #endif // MYFILESHARECLASS_H</pre>
</div>
<p class="p">The following code snippet shows how to create a new <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C" title="The XQNfcShare class provides NFC-based services for obtaining Bluetooth device information, pairing and file sharing.">XQNfcShare</a> instance and how establish the signal-slot connections to receive file sharing state change notifications. The file transfer is started when the slot <tt class="ph tt">void MyFileShareClass::startShareFile()</tt> gets called:</p>
<div class="p">
<pre class="pre codeblock">    #include "myefileshareclass.h"

    void MyFileShareClass::MyFileShareClass(QObject *parent) : QObject(parent)
    {
        // Construct a new instance.
        m_nfcShare = new XQNfcShare(this);

        // Connect signals for receiving state change notifications.
        connect(m_nfcShare, SIGNAL(shareStarted()), SLOT(handleNfcShareFileStarted()));
        connect(m_nfcShare, SIGNAL(shareCompleted()), SLOT(handleNfcShareFileCompleted()));
        connect(m_nfcShare, SIGNAL(busy(bool)), SLOT(handleNfcBusy(bool)));
        connect(m_nfcShare, SIGNAL(error(NfcShare::Error)), SLOT(handleNfcError(NfcShare::Error)));
        }
    }

    MyFileShareClass::~MyFileShareClass()
    {
        // No need to delete the XQNfcShare instance here, as we are its parent object.
    }

    void MyFileShareClass::startShareFile()
    {
        // Start sharing a file. No transmission will take place until the two
        // devices come into near field contact. Here we test to see if the
        // XQNfcShare instance is already busy to avoid doing any processing of
        // our own if it is. Usually this is not needed, as the share() call
        // has no effect if XQNfcShare is already doing something.
        if (!m_nfcShare-&gt;isBusy()) {
            m_nfcShare-&gt;share();
        }
    }

    void MyFileShareClass::cancelShareFile()
    {
        // Cancel the sharing in case no near field contact has taken place yet.
        // If the XQNfcShare instance is busy, the current operation will be
        // cancelled and the error() signal will be emitted with a parameter
        // value of XQNfcShare::Cancelled, otherwise this call has no effect.
        m_nfcShare-&gt;cancel();
    }

    void MyFileShareClass::handleNfcShareFileStarted()
    {
        // The device has actually been brought into contact with a target
        // device and file transmission is ready to begin. We can now pass in
        // the path of the file to be transmitted.
        const QString fileName("E:/Images/image0001.jpg");
        m_nfcShare-&gt;shareFile(fileName);
    }

    void MyFileShareClass::handleNfcShareFileCompleted()
    {
        // File sharing has been completed successfully. Unlike in the easy setup
        // example, there are no values to retrieve here. Getting this signal
        // simply means that the transmission was error free and everything is OK.
    }

    void MyFileShareClass::handleNfcBusy(bool busy)
    {
        if (busy) {
            // XQNfcShare has been activated. The busy property changes to true
            // as soon as the shareFile() function is called - no near field
            // contact has taken place yet. You can use the shareStarted() signal
            // to know exactly when NFC kicks in.
        } else {
            // XQNfcShare has been deactivated. The busy() signal is emitted with
            // a value of false whether or not the requested operation completed
            // successfully.
        }
    }

    void MyFileShareClass::handleNfcError(XQNfcShare::Error error)
    {
        switch (error) {
        case XQNfcShare::NfcNotAvailable:
            // NFC hardware is not available or is not powered on.
            break;
        case XQNfcShare::DeviceNotAvailable:
            // Device is not available. This error may occur for example if the device
            // is in offline mode and Bluetooth could not be enabled or the active
            // connection is interrupted.
            break;
        case XQNfcShare::ConnectionDenied:
            // The transmission has been terminated abruptly. This may happen for
            // example if the target device moves out of transmission range.
            break;
        case XQNfcShare::Cancelled:
            // The file sharing operation has been cancelled.
            break;
        case XQNfcShare::SystemError:
            // Some other system speicif error has taken place.
            break;
        default:
            break;
        }
    }</pre>
</div>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5" title="Emitted when a file transmission operation completes.">shareCompleted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5"><a name="GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5"><!-- --></a>
<h3 class="sectiontitle">shareCompleted (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>shareCompleted</td><td>(</td><td>)</td><td>[signal]</td></tr></table></div><div class="section"><p>Emitted when a file transmission operation completes. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This signal is emitted when the transmission of one or more files started by calling one of the functions <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a> completes successfully.</p>
<p class="p">If errors occur during the transmission, the signal is <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> is emitted instead of this signal.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC"><a name="GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC"><!-- --></a>
<a name="GUID-9B017628-665C-3246-8973-FFF00BECD707"><!-- --></a><h3 class="sectiontitle">shareFile ( const QString &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>shareFile</td><td>(</td><td>const QString &amp;</td><td><span class="parameter">fileName</span></td><td>)</td><td>[slot]</td></tr></table></div><div class="section"><p>Transfers a single file to the target device. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This function should be called from a slot connected to the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a> signal to transfer a single file to the target device.</p>
<p class="p">The <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> function must have been called prior to calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a>, or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> will have no effect. Similarly, if <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> is called after <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> but before the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a> signal has been emitted, the call will have no effect.</p>
<p class="p">
<a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> may fail if there are errors trying to read the file, or if the file fails DRM checks, i.e. it is protected and not forwardable.</p>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">As a rule of thumb, the file should not be opened manually before supplying the file to <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a>. The file transmission will fail if the file is already open for writing of any kind, or for exclusive reading.</p>
</div>
</div>
<p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5" title="Emitted when a file transmission operation completes.">shareCompleted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">fileName</td><td>The absolute path of the file to transfer.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672"><a name="GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672"><!-- --></a>
<a name="GUID-4E395A5F-EDE4-3818-A6ED-37CD6A78C2C9"><!-- --></a><h3 class="sectiontitle">shareFiles ( const QStringList &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>shareFiles</td><td>(</td><td>const QStringList &amp;</td><td><span class="parameter">fileNames</span></td><td>)</td><td>[slot]</td></tr></table></div><div class="section"><p>Transfers multiple files to the target device. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This function should be called from a slot connected to the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a> signal to transfer multiples file to the target device. The behaviour of this function is identical to the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> function for sending one file, except that more than one file may be transferred with a single call. See the documentation of <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> for a description of behaviour that is common to all sharing operations.</p>
<p class="p">The <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> function must have been called prior to calling <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a>, or <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a> will have no effect. Similarly, if <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a> is called after <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> but before the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a> signal has been emitted, the call will have no effect.</p>
<p class="p">The usage of <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a> is identical to the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a> code snippet shown in the documentation for <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, except in the <tt class="ph tt">void MyFileShareClass::handleNfcShareFileStarted()</tt> slot you would call <tt class="ph tt">m_nfcShare-&gt;<a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a></tt> instead of <tt class="ph tt">m_nfcShare-&gt;<a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a></tt>. The required signal-slot connections and sequence of operation is otherwise exactly the same.</p>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">There are circumstances under which all files that are supplied as parameters may not get transferred. This is the case for example if some of the supplied files are protected by DRM - only the files that can be sent are actually transmitted.</p>
</div>
</div>
<p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC" title="Emitted when a target device comes into near field contact and is ready to receive one or more files.">shareStarted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5" title="Emitted when a file transmission operation completes.">shareCompleted()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-A3254096-40B4-3286-86F1-6188046DF2C2" title="Emitted when any operation terminates abnormally.">error(Error)</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">fileNames</td><td>The absolute paths of the files to transfer.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC"><a name="GUID-E4CD11F4-8E02-3B62-9C35-F0ACCD5176EC"><!-- --></a>
<h3 class="sectiontitle">shareStarted (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>shareStarted</td><td>(</td><td>)</td><td>[signal]</td></tr></table></div><div class="section"><p>Emitted when a target device comes into near field contact and is ready to receive one or more files. </p></div><div class="section section apiDesc section apidesc">
<p class="p">This signal is emitted when the <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a> function has been called, this device has had near field contact with the target device and a bearer channel for file transmission has been successfully negotiated.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-EABD91DC-8018-3C8B-B0F9-47BC206DE8E0" title="Requests notification when a target device comes into near field contact and is ready to receive one or more files.">share()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-94A9F27C-479C-3C68-A03A-EA8D3D8876EC" title="Transfers a single file to the target device.">shareFile()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-61DDE165-8B41-3FD0-AA41-AF0EBABD8672" title="Transfers multiple files to the target device.">shareFiles()</a>, <a class="xref" href="GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html#GUID-95C4F4E3-5981-3654-8FCC-32F46B31A6F5" title="Emitted when a file transmission operation completes.">shareCompleted()</a> </p>
</div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy"> Nokia 2005.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F0BF2C7D-E2C5-3319-A6AE-53568F82182C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:51 GMT -->
</html>