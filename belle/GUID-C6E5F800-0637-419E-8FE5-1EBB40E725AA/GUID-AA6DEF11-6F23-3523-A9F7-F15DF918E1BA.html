<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:13 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="RResourceFile" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA" />
<title>RResourceFile</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA"><a name="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">RResourceFile Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;barsc.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class RResourceFile</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-DDF32AC8-DA3F-34B6-B293-9239B1B94F35">RResourceFile</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-540AB9AF-6110-312D-8BDC-57EC5F64A70B">AllocReadL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-972C74BA-7AE2-365A-9BE2-B9FCB0DBBCB0">AllocReadLC</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-EBBACBBC-37FA-3498-8735-2EF2F403AA7C">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D8C7C9C4-9F07-3F1F-9704-F53EAAD8D1E7">ConfirmSignatureL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">ConfirmSignatureL</a>()</td></tr><tr><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">Offset</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9754507E-46C7-3035-A147-7B17464A9D3C">OpenL</a>(RFs &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D700BFC5-CFC4-33DA-B351-91A9D6287BC6">OpenL</a>(RFs &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-4E9A03F3-E04C-3A24-847D-9B67219EAA54">OwnsResourceId</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-EEA3F94E-5238-3C79-A719-3BC32C28F390">OwnsResourceIdL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8A79D115-07FB-3DFF-B313-B7BB1441B1EE">ReadL</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-94A90DF7-73A1-3DD5-93E8-B8D254C67D9F">SignatureL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-B6D6B0AD-B15C-339A-8540-40540885089A.html">TUidType</a></td><td><a href="#GUID-434E8BD1-6597-36EF-A738-A8D41BB2B3F2">UidType</a>()</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Accesses a resource file and reads the resource data into a buffer.</p>
<p class="p">Interpretation of the data is achieved using the <a class="xref" href="GUID-B375D32E-1F91-30FA-8605-A2E163111F9A.html#GUID-B375D32E-1F91-30FA-8605-A2E163111F9A">TResourceReader</a> class.</p>
<p class="p">
<a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA">RResourceFile</a> instance behaviour when some problem occurs - it panics. Or asserts, if the used method is not "L" method.</p>
<p class="p">Expected behaviour when assignment operator or copy constructor is called: The class doesn't have assignment operator and copy constructor, so the compiler generated ones will be used. The heap buffers used by the source class instance will be shared with the destination class instance.</p>
<p class="p">Expected behaviour when the <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA">RResourceFile</a> instance is about to be destroyed: The class doesn't have destructor so compiler generated one will be used. Always call <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-EBBACBBC-37FA-3498-8735-2EF2F403AA7C">Close()</a> to free allocated by the instance resources.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B375D32E-1F91-30FA-8605-A2E163111F9A.html#GUID-B375D32E-1F91-30FA-8605-A2E163111F9A">TResourceReader</a> </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DDF32AC8-DA3F-34B6-B293-9239B1B94F35"><a name="GUID-DDF32AC8-DA3F-34B6-B293-9239B1B94F35"><!-- --></a>
<h3 class="sectiontitle">RResourceFile (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>RResourceFile</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructs a default resource file object. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-540AB9AF-6110-312D-8BDC-57EC5F64A70B"><a name="GUID-540AB9AF-6110-312D-8BDC-57EC5F64A70B"><!-- --></a>
<a name="GUID-8CEE29E0-78F3-3DD6-B068-85C8E0403884"><!-- --></a><h3 class="sectiontitle">AllocReadL ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>AllocReadL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads a resource into a heap descriptor and returns a pointer to that descriptor.</p>
<p class="p">A heap descriptor of appropriate length is allocated for the resource. Ownership of the heap descriptor passes to the caller who must destroy it when it is no longer needed.</p>
<p class="p">The search for the resource uses the following algorithm:</p>
<p class="p">A resource id in the range 1 to 4095 is looked up in this resource file. The function leaves if there is no matching resource.</p>
<p class="p">If the resource id is greater than 4095, then the most significant 20 bits of the resource id is treated as an offset and the least significant 12 bits is treated as the real resource id. If the offset matches the offset value defined for this file, then the resource is looked up in this resource file using the real resource id (i.e. the least significant 12 bits). If the offset does not match, then the function leaves.</p>
<p class="p">Note, do not call this function until a call to <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">ConfirmSignatureL()</a> has completed successfully.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">RResourceFile::Offset()</a> TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aResourceId</td><td>The numeric id of the resource to be read.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Pointer to an 8 bit heap descriptor containing the resource. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotFound</td><td class="leavevalue">- there is no resource with aResourceId in the file.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-972C74BA-7AE2-365A-9BE2-B9FCB0DBBCB0"><a name="GUID-972C74BA-7AE2-365A-9BE2-B9FCB0DBBCB0"><!-- --></a>
<a name="GUID-9B16E6B8-84A4-37DF-BBB4-EC8B04FDB14C"><!-- --></a><h3 class="sectiontitle">AllocReadLC ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>AllocReadLC</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads a resource into a heap descriptor, returns a pointer to that descriptor and pushes the pointer onto the cleanup stack.</p>
<p class="p">A heap descriptor of appropriate length is allocated for the resource. Ownership of the heap descriptor passes to the caller who must destroy it and pop its pointer off the cleanup stack when it is no longer needed.</p>
<p class="p">The search for the resource uses the following algorithm:</p>
<p class="p">A resource id in the range 1 to 4095 is looked up in this resource file. The function leaves if there is no matching resource.</p>
<p class="p">If the resource id is greater than 4095, then the most significant 20 bits of the resource id is treated as an offset and the least significant 12 bits is treated as the real resource id. If the offset matches the offset value defined for this file, then the resource is looked up in this resource file using the real resource id (i.e. the least significant 12 bits). If the offset does not match, then the function leaves.</p>
<p class="p">Note, do not call this function until a call to <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">ConfirmSignatureL()</a> has completed successfully.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">RResourceFile::Offset()</a> TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aResourceId</td><td>The numeric id of the resource to be read.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Pointer to a heap descriptor containing the resource. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotFound</td><td class="leavevalue">- there is no resource with aResourceId in the file.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EBBACBBC-37FA-3498-8735-2EF2F403AA7C"><a name="GUID-EBBACBBC-37FA-3498-8735-2EF2F403AA7C"><!-- --></a>
<h3 class="sectiontitle">Close (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Closes the resource file reader. This function is called after finishing reading all resources. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D8C7C9C4-9F07-3F1F-9704-F53EAAD8D1E7"><a name="GUID-D8C7C9C4-9F07-3F1F-9704-F53EAAD8D1E7"><!-- --></a>
<h3 class="sectiontitle">ConfirmSignatureL ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConfirmSignatureL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSignature</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Initialises the offset value from the first resource.</p>
<p class="p">The function assumes that the first resource in the file consists of two 32-bit integers. The first integer contains the version number and the second is a self-referencing link whose value is the offset for the resources in the file, plus 1.This function must be called before calling <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">Offset()</a>, <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-540AB9AF-6110-312D-8BDC-57EC5F64A70B">AllocReadL()</a>, <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-972C74BA-7AE2-365A-9BE2-B9FCB0DBBCB0">AllocReadLC()</a> or <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-8A79D115-07FB-3DFF-B313-B7BB1441B1EE">ReadL()</a>.</p>
<div class="p">
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSignature</td><td>This argument value is not used by the function.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrCorrupt</td><td class="leavevalue">- wrong size of the first resource in the file. Probably the file is corrupted.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334"><a name="GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334"><!-- --></a>
<h3 class="sectiontitle">ConfirmSignatureL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConfirmSignatureL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Initialises the offset value from the first resource.</p>
<p class="p">The function tests to catch cases where the first resource is not an RSS_SIGNATURE. It assumes that the first resource in the file consists of two 32-bit integers. The first integer contains the version number and the second is a self-referencing link whose value is the offset for the resources in the file, plus 1.This function must be called before calling <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">Offset()</a>, <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-540AB9AF-6110-312D-8BDC-57EC5F64A70B">AllocReadL()</a>, <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-972C74BA-7AE2-365A-9BE2-B9FCB0DBBCB0">AllocReadLC()</a> or <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-8A79D115-07FB-3DFF-B313-B7BB1441B1EE">ReadL()</a>.</p>
<div class="p">
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrCorrupt</td><td class="leavevalue">- wrong size of the first resource in the file. Probably the file is corrupted.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB"><a name="GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB"><!-- --></a>
<h3 class="sectiontitle">Offset (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>Offset</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the offset value defined for this resource file.</p>
<p class="p">This function must not be called until a call to <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">ConfirmSignatureL()</a> has completed successfully, otherwise the value returned by this function may be meaningless.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">RResourceFile::ConfirmSignatureL()</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The offset value defined for this resource file. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9754507E-46C7-3035-A147-7B17464A9D3C"><a name="GUID-9754507E-46C7-3035-A147-7B17464A9D3C"><!-- --></a>
<a name="GUID-ECEFB9C2-1CA8-34BA-BE0D-74B99E1EC1DD"><!-- --></a><h3 class="sectiontitle">OpenL ( RFs &amp;, const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenL</td><td>(</td><td>RFs &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens the resource file reader.</p>
<p class="p">The resource file reader must be opened before reading resources or checking the signature of the resource file. This function initially closes the resource-file object if it is currently open. If a leave occurs during the function, the object is reverted to its closed state.</p>
<div class="p">
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>File to open as a resource file  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">The</td><td class="leavevalue">function leaves if the named file cannot be opened or the header record at the beginning of the file cannot be read.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D700BFC5-CFC4-33DA-B351-91A9D6287BC6"><a name="GUID-D700BFC5-CFC4-33DA-B351-91A9D6287BC6"><!-- --></a>
<h3 class="sectiontitle">OpenL ( RFs &amp;, const TDesC &amp;, TUint, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenL</td><td>(</td><td>RFs &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFileOffset</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFileSize</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens the resource file reader.</p>
<p class="p">The resource file reader must be opened before reading resources or checking the signature of the resource file. This function initially closes the resource-file object if it is currently open. If a leave occurs during the function, the object is reverted to its closed state.</p>
<div class="p">
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFs</td><td>Handle to a file server session  </td></tr><tr class="bg"><td class="parameter">aName</td><td>File to open as a resource file  </td></tr><tr><td class="parameter">aFileOffset</td><td>Resource file section offset from the beginning of the file.  </td></tr><tr class="bg"><td class="parameter">aFileSize</td><td>Resource file section size.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">Function</td><td class="leavevalue">leaves if the named file cannot be opened or the header record at the beginning of the file cannot be read.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4E9A03F3-E04C-3A24-847D-9B67219EAA54"><a name="GUID-4E9A03F3-E04C-3A24-847D-9B67219EAA54"><!-- --></a>
<a name="GUID-A1261945-9C23-33A0-9FC3-1B0AEB6F72DB"><!-- --></a><h3 class="sectiontitle">OwnsResourceId ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>OwnsResourceId</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Tests whether the resource file owns the specified resource id.</p>
<p class="p">The resource file owns the resource id if the most significant 20 bits of the resource id are zero or match the offset value as returned from a call to the DeprecatedInterface is deprecated because it is unsafe as it may leave. <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">Offset()</a> member function. </p>
<p class="p">See also: <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-EEA3F94E-5238-3C79-A719-3BC32C28F390">RResourceFile::OwnsResourceIdL</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aResourceId</td><td>The resource id to test or if the resource id is not out of range.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>True, if the resource file owns the id, false otherwise. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EEA3F94E-5238-3C79-A719-3BC32C28F390"><a name="GUID-EEA3F94E-5238-3C79-A719-3BC32C28F390"><!-- --></a>
<a name="GUID-3E883047-7774-3BE8-BAB2-37122D3090C6"><!-- --></a><h3 class="sectiontitle">OwnsResourceIdL ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>OwnsResourceIdL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Tests whether the resource file owns the specified resource id.</p>
<p class="p">The resource file owns the resource id if the most significant 20 bits of the resource id are zero or match the offset value as returned from a call to the <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">Offset()</a> member function or if the resource id is not out of range.</p>
<div class="p">
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aResourceId</td><td>The resource id to test.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>True, if the resource file owns the id, false otherwise. </dd></dl></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8A79D115-07FB-3DFF-B313-B7BB1441B1EE"><a name="GUID-8A79D115-07FB-3DFF-B313-B7BB1441B1EE"><!-- --></a>
<a name="GUID-DF6DFFD5-E923-3C4E-87F0-BC4EE7C8B586"><!-- --></a><h3 class="sectiontitle">ReadL ( TDes8 &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ReadL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads a resource specified by resource id into the specified descriptor.</p>
<p class="p">The descriptor must be long enough to contain the entire resource</p>
<p class="p">The search for the resource uses the following algorithm:</p>
<p class="p">A resource id in the range 1 to 4095 is looked up in this resource file. The function leaves if there is no matching resource.</p>
<p class="p">If the resource id is greater than 4095, then the most significant 20 bits of the resource id is treated as an offset and the least significant 12 bits is treated as the real resource id. If the offset matches the offset value defined for this file, then the resource is looked up in this resource file using the real resource id (i.e. the least significant 12 bits). If the offset does not match, then the function leaves.</p>
<p class="p">Note, do not call this function until a call to <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">ConfirmSignatureL()</a> has completed successfully.</p>
<div class="p">
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDes</td><td>On return, contains the resource that has been read. The function leaves if the descriptor is not long enough to contain the entire resource.  </td></tr><tr class="bg"><td class="parameter">aResourceId</td><td>The numeric id of the resource to be read.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">The</td><td class="leavevalue">function leaves if this resource id is not in this resource file.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-94A90DF7-73A1-3DD5-93E8-B8D254C67D9F"><a name="GUID-94A90DF7-73A1-3DD5-93E8-B8D254C67D9F"><!-- --></a>
<h3 class="sectiontitle">SignatureL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SignatureL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns this resource file's version number.</p>
<p class="p">The function assumes that the first resource in the file consists of two 32-bit integers. The first integer contains the version number.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">RResourceFile::ConfirmSignatureL()</a> TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The version number. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrCorrupt</td><td class="leavevalue">Wrong size of the first resource in the file. Probably the file is corrupted.</td></tr></table></div><div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is corrupted - the method will panic in debug mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-434E8BD1-6597-36EF-A738-A8D41BB2B3F2"><a name="GUID-434E8BD1-6597-36EF-A738-A8D41BB2B3F2"><!-- --></a>
<h3 class="sectiontitle">UidType (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-B6D6B0AD-B15C-339A-8540-40540885089A.html">TUidType</a></td><td>UidType</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Retrieve the UID tuple of the opened resource file.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">
<a class="xref" href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-9754507E-46C7-3035-A147-7B17464A9D3C">OpenL()</a> has been called successfully. </dd>
</dl>
</div>
<p class="p">See also: TBafPanic for panic codes. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The UIDs of the loaded resource file. </dd></dl></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">If</td><td class="panicvalue">the file is not opened or class data members initialization fails - the method will panic always.</td></tr></table></div></div>
</div>
</div></div><div class="footer"><hr /><div class="copy">Â© Nokia 2005.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:13 GMT -->
</html>