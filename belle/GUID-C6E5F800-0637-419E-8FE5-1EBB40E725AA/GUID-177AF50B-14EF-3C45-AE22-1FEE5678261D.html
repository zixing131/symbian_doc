<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:43 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CBaseMtm" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D" />
<title>CBaseMtm</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D"><a name="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CBaseMtm Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mw/mtclbase.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CBaseMtm : public CBase, public MMsvEntryObserver, public CBase, public MMsvEntryObserver</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CBaseMtm<ul class="derivation"><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-B36289AC-769F-3A83-BADB-AE0568E97581.html">MMsvEntryObserver</a></li><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-B36289AC-769F-3A83-BADB-AE0568E97581.html">MMsvEntryObserver</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-054B4527-09AF-3A9F-902C-C30840AC7444.html">CMsvRecipientList</a> *</td><td><a href="#GUID-7FEB8D8D-0D0E-386C-A4B3-E58E394E1909">iAddresseeList</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
CCharFormatLayer *</td><td><a href="#GUID-5B5FAC17-CCE7-3FAC-8DE4-08FFA6260B68">iCharFormatLayer</a></td></tr><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">CMsvEntry</a> *</td><td><a href="#GUID-A5F06606-477E-30A2-823E-EBA3F1BA5436">iMsvEntry</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
CParaFormatLayer *</td><td><a href="#GUID-20CB836B-B3FB-328B-8BE6-51B02B9E76F7">iParaFormatLayer</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-69447359-3A9F-3E0B-8E95-AEDA3B49F9C7">~CBaseMtm</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-824CA20B-950C-3FC1-AF79-85D47BE56F99">AddAddresseeL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-443BE037-FC9C-3BC8-B661-D3656B9A5834">AddAddresseeL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-F43F917E-CC2A-3F50-99FF-CBE7AE2DC798">AddAddresseeL</a>(<a class="xref xref apiRelation" href="GUID-9ED1CCBB-F61A-377A-B4B7-06B78E41DC81.html">TMsvRecipientType</a>, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-C3176BD4-7681-3830-A0FE-9EEA391342B6">AddAddresseeL</a>(<a class="xref xref apiRelation" href="GUID-9ED1CCBB-F61A-377A-B4B7-06B78E41DC81.html">TMsvRecipientType</a>, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-3ED53689-AE18-324B-8BAC-FE27F839E15E">AddAttachmentL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-834676C8-0A38-306F-8CAE-8992F525F056">AddAttachmentL</a>(RFile &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-44819AAE-7BCF-3F2C-A35D-061A98AF974E">AddEntryAsAttachmentL</a>(TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-3D7590DE-6D41-32A1-8118-F101FEEBD48B">AddLinkedAttachmentL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C const <a class="xref xref apiRelation" href="GUID-054B4527-09AF-3A9F-902C-C30840AC7444.html">CMsvRecipientList</a> &amp;</td><td><a href="#GUID-A3BF16D1-1C8A-3EA1-9A8D-E3C176B74451">AddresseeList</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-20AF1342-D460-3992-93DF-C285E8CE895E">BioTypeChangedL</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C CRichText &amp;</td><td><a href="#GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B">Body</a>()</td></tr><tr><td align="right" class="code">IMPORT_C const CRichText &amp;</td><td><a href="#GUID-6D6291C7-DD80-34A7-B5E3-FAC155FA6779">Body</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-1054B044-F00B-312D-B015-FBA5A8C2D73C">CancelAttachmentOperation</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-B05DC001-B028-3100-96AB-0B900D449D2A">ChangeDefaultServiceL</a>(const TMsvId &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-54E18AE4-A7F3-3504-9FEA-4A119D8B3215">CreateAttachmentL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, RFile &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-EC899A62-A064-36ED-9B58-902E27C7D6A5">CreateMessageL</a>(TMsvId)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C TMsvId</td><td><a href="#GUID-338BD7D8-0DF4-3AFE-80DE-1DE2C26C1E0D">DefaultServiceL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">CMsvEntry</a> &amp;</td><td><a href="#GUID-7A78842D-F788-357A-90A4-5C6A1F537DBE">Entry</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-AD199F26-EAD0-3C20-9F11-DFE9E627B286">Filler1</a>()</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-35F7A8C6-A994-301F-8924-9C862DB33565">Filler2</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					TMsvPartList
</td><td><a href="#GUID-1DE0CF82-CC1C-3026-8BA5-4D8DD1ACC43F">Find</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, TMsvPartList)</td></tr><tr><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td><a href="#GUID-F68E24F0-1248-3506-9BA8-134089234B26">ForwardL</a>(TMsvId, TMsvPartList, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-0F713DC6-607A-3AB1-98B8-86DEC7F03783">GetExtensionData</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-BE40C6B8-9EB3-3DAF-AAA3-5FC8A9D34FE9">HasContext</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td><a href="#GUID-451D4D16-61C6-302A-B200-4D1040D9376E">InvokeAsyncFunctionL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-BF363018-C9E1-3071-9EB3-25144F9AC722">InvokeSyncFunctionL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-E71B3386-8544-3314-B900-1ABF65DCF07B">LoadMessageL</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-643F0BAD-7788-3E81-BFB6-9628A2C1F062">QueryCapability</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-C037CBB6-6D3A-36D0-8BF8-04DDD4C57E06">RemoveAddressee</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-C3B6E3EC-DBD8-307E-B099-00AAF5B9E013">RemoveDefaultServiceL</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td><a href="#GUID-586397FB-536E-3941-88F4-19EFD08CC7D7">ReplyL</a>(TMsvId, TMsvPartList, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-A097A4B2-44C3-3BC9-A910-7F14F7DF680C">SaveMessageL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html">CMsvSession</a> &amp;</td><td><a href="#GUID-231FBCD7-32E6-3D9D-AE66-3ADD354F7F11">Session</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2">SetCurrentEntryL</a>(<a class="xref xref apiRelation" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">CMsvEntry</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D8BF231A-067F-3253-B3C5-0C25E30E1443">SetExtensionData</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D1800183-56E8-36B7-A8A6-D0A329D40126">SetMessageCharacterSet</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-06B55565-D755-3BBD-AE0D-C95E8B8BE9EC">SetSubjectL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C const <a class="xref xref apiRelation" href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a></td><td><a href="#GUID-CF404788-295C-3FF7-9510-35C3DAE7A833">SubjectL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7F35C252-DE15-369C-B710-463C3F9B9B41">SwitchCurrentEntryL</a>(TMsvId)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><a href="#GUID-8E5623D2-4EA6-3BB6-93CB-2730DB43A1C1">Type</a>()</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					TMsvPartList
</td><td><a href="#GUID-813100DC-0189-3C1B-B34A-65B3E21458FD">ValidateMessage</a>(TMsvPartList)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-1496EDB7-7733-30C0-B142-AF5EC09E308F">CBaseMtm</a>(<a class="xref xref apiRelation" href="GUID-0D5D7FAC-4F14-3046-92FB-873B8350FF4C.html">CRegisteredMtmDll</a> &amp;, <a class="xref xref apiRelation" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html">CMsvSession</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-E6F33364-7F0F-3DBF-BC24-439A248083CE">ContextEntrySwitched</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-86ACD812-B8A2-3A7F-9A91-5C25DE054E3B">Extension_</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-864D338F-C7C4-3B62-9A34-99C4BF9B22E0">GetInterface</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-D413F4D5-49EF-3723-9940-3D75F049FA2F">HandleEntryEventL</a>(<a class="xref xref apiRelation" href="GUID-B36289AC-769F-3A83-BADB-AE0568E97581.html">TMsvEntryEvent</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8B802AE8-9419-312D-BD74-94B0C413CD06">RestoreBodyL</a>(<a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4">StoreBodyL</a>(<a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-B36289AC-769F-3A83-BADB-AE0568E97581.html">MMsvEntryObserver:TMsvEntryEvent</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Provides a high-level interface for accessing and manipulating a Message Server entry.</p>
<p class="p">Message client applications use the class to access such functionality polymorphically. MTM implementers implement a derived class to provide such functionality for their message protocol.</p>
<p class="p">The following are some significant groups of functions:</p>
<p class="p">Context functions: the <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2">SetCurrentEntryL()</a> and <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7F35C252-DE15-369C-B710-463C3F9B9B41">SwitchCurrentEntryL()</a> functions change the context - the entry on which later actions are performed. After creating a new Client-side MTM object, a message client application should set an initial context before using other functions. Note that: any changes made to an existing context are not automatically saved: the message client application should ensure this itself by calling <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-A097A4B2-44C3-3BC9-A910-7F14F7DF680C">SaveMessageL()</a>; no message data for the new context is retrieved from the Message Server, to retrieve entry data, call <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-E71B3386-8544-3314-B900-1ABF65DCF07B">LoadMessageL()</a> after setting the context; calling <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B">Body()</a> immediately after setting the context returns an empty CRichText object: this is because the private cache of context body text that the base class maintains is re-initialised to an empty value. MTM implementers should note that the virtual <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-E6F33364-7F0F-3DBF-BC24-439A248083CE">ContextEntrySwitched()</a> is called from these functions to allow derived classes to also clear any caches of MTM-specific entry data.</p>
<p class="p">Store and restore entry data functions: the changes that a message client application makes to a message context through Client-side MTM functions, such as altering the body text obtained through <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B">Body()</a>, are, for efficiency, cached in memory by a Client-side MTM. The message store and restore functions are concerned with transferring data between that cache and committed storage. Note that, unlike message contexts, message client applications are not expected to manipulate directly service contexts. Instead, the corresponding <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Interface MTM will provide dialogs to allow the user to alter service settings, and call Client-side MTM functions to handle their retrieval and storage. Symbian OS v5 expects the base class functions to handle storage and retrieval for both message and service contexts, and their implementations must detect what the context is, and act accordingly. Post-v5, the API is clarified by restricting the base class functions to handle message contexts only. To handle service contexts, a Client-side MTM must define its own functions for the <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Interface MTM to call.</p>
<p class="p">Store and restore body text functions: the base class maintains a private CRichText object cache to store the body text for the current context. This can be accessed for reading and writing by message client applications through <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B">Body()</a>. <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4">StoreBodyL()</a> and <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-8B802AE8-9419-312D-BD74-94B0C413CD06">RestoreBodyL()</a> encapsulate for implementers of derived classes the retrieval and storage of this CRichText object to a <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a>.</p>
<p class="p">Address list functions: the format and storage of message addresses is MTM-specific. <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-A3BF16D1-1C8A-3EA1-9A8D-E3C176B74451">AddresseeList()</a>, <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-824CA20B-950C-3FC1-AF79-85D47BE56F99">AddAddresseeL()</a>, and <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-C037CBB6-6D3A-36D0-8BF8-04DDD4C57E06">RemoveAddressee()</a> are designed to allow clients with no MTM-specific knowledge to access address information in a generic way. The base class has a protected data member iAddresseeList, an array of descriptors, which these functions manipulate. Implementations should save the address information to the appropriate place in the message store when the message is stored.</p>
<p class="p">MTM-specific functionality: MTM components can offer protocol-specific functionality not provided by base class interface functions. MTM components define IDs that correspond to each protocol-specific operation offered, and implement the <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-BF363018-C9E1-3071-9EB3-25144F9AC722">InvokeSyncFunctionL()</a> and <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-451D4D16-61C6-302A-B200-4D1040D9376E">InvokeAsyncFunctionL()</a> functions to allow clients to access these operations by passing in the appropriate ID. Two functions are provided to allow the MTM component to offer both synchronous and asynchronous functionality. Message client applications can dynamically add user-interface features for these operations using <a class="xref" href="GUID-899C6D87-5712-34A7-902C-EA452894700C.html#GUID-63CC0CEA-B58E-3526-9BAC-5AC1157C9DEF">CBaseMtmUiData::MtmSpecificFunctions()</a>. MTM developers should document the IDs if they wish to make the operations available to clients.   </p>
</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-7FEB8D8D-0D0E-386C-A4B3-E58E394E1909"><a name="GUID-7FEB8D8D-0D0E-386C-A4B3-E58E394E1909"><!-- --></a>
<h3 class="sectiontitle">iAddresseeList</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-054B4527-09AF-3A9F-902C-C30840AC7444.html">CMsvRecipientList</a> *</td><td>iAddresseeList</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The address list for the current context. </p>
</div>
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-5B5FAC17-CCE7-3FAC-8DE4-08FFA6260B68"><a name="GUID-5B5FAC17-CCE7-3FAC-8DE4-08FFA6260B68"><!-- --></a>
<h3 class="sectiontitle">iCharFormatLayer</h3>
<div class="section signature"><table class="signature"><tr><td>
CCharFormatLayer *</td><td>iCharFormatLayer</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Character formatting applied to the CRichText object for the body text, as returned by <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B">Body()</a>.</p>
<p class="p">Implementations can modify this if they wish to apply particular formatting to body text. </p>
</div>
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-A5F06606-477E-30A2-823E-EBA3F1BA5436"><a name="GUID-A5F06606-477E-30A2-823E-EBA3F1BA5436"><!-- --></a>
<h3 class="sectiontitle">iMsvEntry</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">CMsvEntry</a> *</td><td>iMsvEntry</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The current context. </p>
</div>
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-20CB836B-B3FB-328B-8BE6-51B02B9E76F7"><a name="GUID-20CB836B-B3FB-328B-8BE6-51B02B9E76F7"><!-- --></a>
<h3 class="sectiontitle">iParaFormatLayer</h3>
<div class="section signature"><table class="signature"><tr><td>
CParaFormatLayer *</td><td>iParaFormatLayer</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Paragraph formatting applied to the CRichText object for the body text, as returned by <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B">Body()</a>. This is set to an empty CParaFormatLayer instance whenever the context is set.</p>
<p class="p">Implementations can modify this if they wish to apply particular formatting to body text. </p>
</div>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1496EDB7-7733-30C0-B142-AF5EC09E308F"><a name="GUID-1496EDB7-7733-30C0-B142-AF5EC09E308F"><!-- --></a>
<a name="GUID-D5682AEB-746E-3B83-8D2F-85F92F364EBD"><!-- --></a><h3 class="sectiontitle">CBaseMtm ( CRegisteredMtmDll &amp;, CMsvSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CBaseMtm</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-0D5D7FAC-4F14-3046-92FB-873B8350FF4C.html">CRegisteredMtmDll</a> &amp;</td><td><span class="parameter">aRegisteredMtmDll</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html">CMsvSession</a> &amp;</td><td><span class="parameter">aSession</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates a <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D">CBaseMtm</a> with member variables initialised from the passed arguments.</p>
<p class="p">Client applications do not use this function. It is relevant only to implementers of derived classes.</p>
<p class="p">The value of aSession can be accessed through <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-231FBCD7-32E6-3D9D-AE66-3ADD354F7F11">Session()</a>.</p>
<p class="p">Derived classes can implement a constructor to perform any additional MTM-specific setup that can be safely carried out in a constructor. Such constructors must call the base class constructor function.</p>
<p class="p">Derived classes also implement two-phase construction functions (NewL(), ConstructL()) to create a new instance of the object, in which any dynamic allocation should be performed. Client-side MTMs also implement a factory function by which a MTM registry can request an instance of the class.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRegisteredMtmDll</td><td>Registration data for the MTM DLL.  </td></tr><tr class="bg"><td class="parameter">aSession</td><td>The CMsvSession of the client requesting the object  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-69447359-3A9F-3E0B-8E95-AEDA3B49F9C7"><a name="GUID-69447359-3A9F-3E0B-8E95-AEDA3B49F9C7"><!-- --></a>
<h3 class="sectiontitle">~CBaseMtm (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CBaseMtm</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cleans up the base class.</p>
<p class="p">
<a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D">CBaseMtm</a> -derived objects must be deleted by client applications when they are no longer required.</p>
<p class="p">Derived classes can implement a destructor to do any additional clean up tasks that they require. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-824CA20B-950C-3FC1-AF79-85D47BE56F99"><a name="GUID-824CA20B-950C-3FC1-AF79-85D47BE56F99"><!-- --></a>
<a name="GUID-E72285A0-2AB3-3E9E-8EF3-A60C07B52672"><!-- --></a><h3 class="sectiontitle">AddAddresseeL ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>AddAddresseeL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aRealAddress</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds an addressee for the current context.</p>
<p class="p">Addresses are not validated by checking their format by this function. Usually that is performed by calling <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-813100DC-0189-3C1B-B34A-65B3E21458FD">ValidateMessage()</a>.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should append the address to the object's address cache in the protected iAddresseeList data member. Some implementations may also wish to store addresses in an internal data structure appropriate for the protocol, for example, a class holding message header information.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRealAddress</td><td>String representing an address to be added to the list for the current message  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The message already has the maximum number of addressees</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-443BE037-FC9C-3BC8-B661-D3656B9A5834"><a name="GUID-443BE037-FC9C-3BC8-B661-D3656B9A5834"><!-- --></a>
<h3 class="sectiontitle">AddAddresseeL ( const TDesC &amp;, const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>AddAddresseeL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aRealAddress</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aAlias</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds an addressee for the current context, and enables the client to specify an alias, which may be useful for some protocols. For example, for fax, if the address is the fax number, the alias could supply the recipient's name.</p>
<p class="p">Addresses are not validated by checking their format by this function. Usually that is performed by calling <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-813100DC-0189-3C1B-B34A-65B3E21458FD">ValidateMessage()</a>.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should append the address to the object's address cache in the protected iAddresseeList data member. Some implementations may also wish to store addresses in an internal data structure appropriate for the protocol, for example, a class holding message header information.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRealAddress</td><td>String representing an address to be added to the list for the current message  </td></tr><tr class="bg"><td class="parameter">aAlias</td><td>Alias information  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The message already has the maximum number of addressees</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F43F917E-CC2A-3F50-99FF-CBE7AE2DC798"><a name="GUID-F43F917E-CC2A-3F50-99FF-CBE7AE2DC798"><!-- --></a>
<h3 class="sectiontitle">AddAddresseeL ( TMsvRecipientType, const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddAddresseeL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-9ED1CCBB-F61A-377A-B4B7-06B78E41DC81.html">TMsvRecipientType</a></td><td><span class="parameter">aType</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aRealAddress</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds addressee to list.</p>
<p class="p">The default implementation treats To: and Cc: type addressees as if the addressee had no type.</p>
<p class="p">The default implementation does not support Bcc type addressees.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aType</td><td>The addressee type. </td></tr><tr class="bg"><td class="parameter">aRealAddress</td><td>The addressee address. </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupprted</td><td class="leavevalue">The addressee type was Bcc which is not supported in the default implementation.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C3176BD4-7681-3830-A0FE-9EEA391342B6"><a name="GUID-C3176BD4-7681-3830-A0FE-9EEA391342B6"><!-- --></a>
<h3 class="sectiontitle">AddAddresseeL ( TMsvRecipientType, const TDesC &amp;, const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddAddresseeL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-9ED1CCBB-F61A-377A-B4B7-06B78E41DC81.html">TMsvRecipientType</a></td><td><span class="parameter">aType</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aRealAddress</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aAlias</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds addressee to list.</p>
<p class="p">The default implementation treats To: and Cc: type addressees as if the addressee had no type.</p>
<p class="p">The default implementation does not support Bcc type addressees.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aType</td><td>The addressee type. </td></tr><tr class="bg"><td class="parameter">aRealAddress</td><td>The addressee address. </td></tr><tr><td class="parameter">aAlias</td><td>The alias for the addressee. </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupprted</td><td class="leavevalue">The addressee type was Bcc which is not supported in the default implementation.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3ED53689-AE18-324B-8BAC-FE27F839E15E"><a name="GUID-3ED53689-AE18-324B-8BAC-FE27F839E15E"><!-- --></a>
<a name="GUID-38689AF1-0798-3596-8A9F-16E3D3BF86FB"><!-- --></a><h3 class="sectiontitle">AddAttachmentL ( const TDesC &amp;, const TDesC8 &amp;, TUint, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddAttachmentL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFilePath</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aMimeType</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharset</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds a file attachment to the current message entry.</p>
<p class="p">The attachment is referenced by its file path and is copied into the message store. Only one asynchronous operation can be run at any one time.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFilePath</td><td>The full path specification of the attachment file.  </td></tr><tr class="bg"><td class="parameter">aMimeType</td><td>The mime type of the attachment file.  </td></tr><tr><td class="parameter">aCharset</td><td>The mime charset. The value is a standard IANA value. The value 0 indicates that no charset is provided.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>The request status to complete when request has completed.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">System-wide</td><td class="leavevalue">error codes.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-834676C8-0A38-306F-8CAE-8992F525F056"><a name="GUID-834676C8-0A38-306F-8CAE-8992F525F056"><!-- --></a>
<h3 class="sectiontitle">AddAttachmentL ( RFile &amp;, const TDesC8 &amp;, TUint, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddAttachmentL</td><td>(</td><td>RFile &amp;</td><td><span class="parameter">aFile</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aMimeType</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharset</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds a file attachment to the current message entry.</p>
<p class="p">The attachment is referenced by an open file handle and is copied into the message store. Only one asynchronous operation can be run at any one time.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFile</td><td>An open file handle for the file attachment.  </td></tr><tr class="bg"><td class="parameter">aMimeType</td><td>The mime type of the attachment file.  </td></tr><tr><td class="parameter">aCharset</td><td>The mime charset. The value is a standard IANA value. The value 0 indicates that no charset is provided.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>The request status to complete when request has completed.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">System-wide</td><td class="leavevalue">error codes.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-44819AAE-7BCF-3F2C-A35D-061A98AF974E"><a name="GUID-44819AAE-7BCF-3F2C-A35D-061A98AF974E"><!-- --></a>
<a name="GUID-BAABF784-8B1A-38E0-97CE-59E77AB6F278"><!-- --></a><h3 class="sectiontitle">AddEntryAsAttachmentL ( TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddEntryAsAttachmentL</td><td>(</td><td>TMsvId</td><td><span class="parameter">aAttachmentId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds a message entry as an attachment to the current message entry.</p>
<p class="p">This method simply registers an existing message entry as an attachment to the current entry. Only one asynchronous operation can be run at any one time.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aAttachmentId</td><td>The message Id of the message entry to add as an attachment.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>The request status to complete when request has completed.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">System-wide</td><td class="leavevalue">error codes.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3D7590DE-6D41-32A1-8118-F101FEEBD48B"><a name="GUID-3D7590DE-6D41-32A1-8118-F101FEEBD48B"><!-- --></a>
<a name="GUID-D4782A79-95C6-331E-B354-0779A97F9FC3"><!-- --></a><h3 class="sectiontitle">AddLinkedAttachmentL ( const TDesC &amp;, const TDesC8 &amp;, TUint, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddLinkedAttachmentL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFilePath</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aMimeType</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharset</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds a file attachment to the current message entry as a linked file.</p>
<p class="p">The attachment is referenced by its file path and is not copied into the message store. The attachment file is always used from its original location on disk indicated by the aFilePath parameter. Only one asynchronous operation can be run at any one time.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFilePath</td><td>The full path specification of the attachment file.  </td></tr><tr class="bg"><td class="parameter">aMimeType</td><td>The mime type of the attachment file.  </td></tr><tr><td class="parameter">aCharset</td><td>The mime charset. The value is a standard IANA value. The value 0 indicates that no charset is provided.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>The request status to complete when request has completed.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">System-wide</td><td class="leavevalue">error codes.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A3BF16D1-1C8A-3EA1-9A8D-E3C176B74451"><a name="GUID-A3BF16D1-1C8A-3EA1-9A8D-E3C176B74451"><!-- --></a>
<h3 class="sectiontitle">AddresseeList (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a class="xref xref apiRelation" href="GUID-054B4527-09AF-3A9F-902C-C30840AC7444.html">CMsvRecipientList</a> &amp;</td><td>AddresseeList</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the list of intended recipients for the current context, which must be a message.</p>
<p class="p">In the case of protocols that allow different classes of recipient (such as To, Cc and Bcc), the list returned is whatever the protocol defines as the default recipient list.</p>
<p class="p">Requirements:</p>
<p class="p">The default implementation simply returns the value of the protected data member iAddresseeList. As a consequence, Client-side MTM implementations should update this member whenever the address list is modified.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Array of recipients </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-20AF1342-D460-3992-93DF-C285E8CE895E"><a name="GUID-20AF1342-D460-3992-93DF-C285E8CE895E"><!-- --></a>
<a name="GUID-F36B84CB-3E83-372A-A89F-A538E47167B8"><!-- --></a><h3 class="sectiontitle">BioTypeChangedL ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>BioTypeChangedL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aBioTypeUid</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Informs client-side MTM that the context's BIO field is being changed as a result of a call to CSendAs::SetBioTypeL().</p>
<p class="p">CSendAs::SetBioTypeL() calls this function before setting the BIO field in the context's index entry. This allows a client-side MTM to perform MTM specific actions when the BIO type changes.</p>
<p class="p">CSendAs will not change the BIO type if this function leaves.</p>
<p class="p">The default implementation is to do nothing.</p>
<p class="p">
</p><p class="p">See also: CSendAs::SetBioTypeL() </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aBioTypeUid</td><td>New value for the BIO field  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B"><a name="GUID-072E627F-8AB4-3C90-AD48-A5AF6A39581B"><!-- --></a>
<h3 class="sectiontitle">Body (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C CRichText &amp;</td><td>Body</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the body text of the context, that must be a message. For non-message contexts, an empty CRichText is returned.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4">StoreBodyL()</a> <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-8B802AE8-9419-312D-BD74-94B0C413CD06">RestoreBodyL()</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Body text of the context </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6D6291C7-DD80-34A7-B5E3-FAC155FA6779"><a name="GUID-6D6291C7-DD80-34A7-B5E3-FAC155FA6779"><!-- --></a>
<h3 class="sectiontitle">Body (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const CRichText &amp;</td><td>Body</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the read-only body text of the context, that must be a message. For non-message contexts, an empty CRichText is returned.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4">StoreBodyL()</a> <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-8B802AE8-9419-312D-BD74-94B0C413CD06">RestoreBodyL()</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Read-only body text of the context </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1054B044-F00B-312D-B015-FBA5A8C2D73C"><a name="GUID-1054B044-F00B-312D-B015-FBA5A8C2D73C"><!-- --></a>
<h3 class="sectiontitle">CancelAttachmentOperation (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CancelAttachmentOperation</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancels the current attachment operation. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B05DC001-B028-3100-96AB-0B900D449D2A"><a name="GUID-B05DC001-B028-3100-96AB-0B900D449D2A"><!-- --></a>
<a name="GUID-CAD90EEF-35AD-3A4F-A307-D71C6A190301"><!-- --></a><h3 class="sectiontitle">ChangeDefaultServiceL ( const TMsvId &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ChangeDefaultServiceL</td><td>(</td><td>const TMsvId &amp;</td><td><span class="parameter">aService</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the default MTM service. The default implementation of this function assumes that the MTM only supports one service and therefore this does nothing.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aService</td><td>The default service  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E6F33364-7F0F-3DBF-BC24-439A248083CE"><a name="GUID-E6F33364-7F0F-3DBF-BC24-439A248083CE"><!-- --></a>
<h3 class="sectiontitle">ContextEntrySwitched (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ContextEntrySwitched</td><td>(</td><td>)</td><td>[protected, pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Called by the base class functions <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7F35C252-DE15-369C-B710-463C3F9B9B41">SwitchCurrentEntryL()</a> and <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2">SetCurrentEntryL()</a> when the context is changed to another entry.</p>
<p class="p">Client applications do not use this function. It is relevant only to implementers of derived classes.</p>
<p class="p">Requirements:</p>
<p class="p">An implementation should clear:</p>
<p class="p">1. address data stored in iAddresseeList</p>
<p class="p">2. any caches of MTM-specific entry data relating to a previous context. For example, if the implementation has a private buffer storing a message subject, for access through Subject(), this buffer should be cleared. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-54E18AE4-A7F3-3504-9FEA-4A119D8B3215"><a name="GUID-54E18AE4-A7F3-3504-9FEA-4A119D8B3215"><!-- --></a>
<a name="GUID-80113DB5-7811-3C90-801E-96F1E5C0A614"><!-- --></a><h3 class="sectiontitle">CreateAttachmentL ( const TDesC &amp;, RFile &amp;, const TDesC8 &amp;, TUint, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CreateAttachmentL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFileName</span>,</td></tr><tr><td colspan="3"> </td><td>RFile &amp;</td><td><span class="parameter">aAttachmentFile</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aMimeType</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharset</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates a new empty file attachment to the current message entry.</p>
<p class="p">An empty file attachment is created with the suggested given name and if completed successfully, the aAttachmentFile will be open on the new file. Only one asynchronous operation can be run at any one time.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFileName</td><td>The suggested file name for the new attachment file.  </td></tr><tr class="bg"><td class="parameter">aAttachmentFile</td><td>If successful, this will be set to the open new file.  </td></tr><tr><td class="parameter">aMimeType</td><td>The mime type of the attachment file.  </td></tr><tr class="bg"><td class="parameter">aCharset</td><td>The mime charset. The value is a standard IANA value. The value 0 indicates that no charset is provided.  </td></tr><tr><td class="parameter">aStatus</td><td>The request status to complete when request has completed.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">System-wide</td><td class="leavevalue">error codes.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EC899A62-A064-36ED-9B58-902E27C7D6A5"><a name="GUID-EC899A62-A064-36ED-9B58-902E27C7D6A5"><!-- --></a>
<a name="GUID-F95D4D80-97DB-370F-86B7-A39CC5F05C4C"><!-- --></a><h3 class="sectiontitle">CreateMessageL ( TMsvId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CreateMessageL</td><td>(</td><td>TMsvId</td><td><span class="parameter">aServiceId</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates a new message entry as a child of the current context.</p>
<p class="p">The default implementation creates an empty entry with its visible flag set to false and its in-preparation flag set to true.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aServiceId</td><td>ID of the service to own the entry.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-338BD7D8-0DF4-3AFE-80DE-1DE2C26C1E0D"><a name="GUID-338BD7D8-0DF4-3AFE-80DE-1DE2C26C1E0D"><!-- --></a>
<h3 class="sectiontitle">DefaultServiceL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C TMsvId</td><td>DefaultServiceL</td><td>(</td><td>)</td><td>const [virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the default MTM service.</p>
<p class="p">The default implementation is to assume the MTM only supports one service so finds the first service associated with this MTM and returns that.</p>
<div class="p">
					KErrNotFound If no service has been created. </div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The default service</dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode"></td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7A78842D-F788-357A-90A4-5C6A1F537DBE"><a name="GUID-7A78842D-F788-357A-90A4-5C6A1F537DBE"><!-- --></a>
<h3 class="sectiontitle">Entry (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">CMsvEntry</a> &amp;</td><td>Entry</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets a <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49">CMsvEntry</a> for the current context. The message client application can then use this to manipulate the entry.</p>
<p class="p">Implementers should note that this function returns the value of the protected data member iMsvEntry.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>CMsvEntry for the current context </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-86ACD812-B8A2-3A7F-9A91-5C25DE054E3B"><a name="GUID-86ACD812-B8A2-3A7F-9A91-5C25DE054E3B"><!-- --></a>
<a name="GUID-EAA2DBE9-64A5-3AC5-B70A-2796CC8C7AB1"><!-- --></a><h3 class="sectiontitle">Extension_ ( TUint, TAny *&amp;, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aExtensionId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">a0</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">The default Extension service. The default implementation of this function assumes that the new service for setting the charset encoding value for a SMS message is not supported. TAny* is equivalent to void*. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aExtensionId</td><td>Uid of the extension interface  </td></tr><tr class="bg"><td class="parameter">a0</td><td>The collective parameters of TAny*  </td></tr><tr><td class="parameter">a1</td><td>The collective parameters of TAny*,Charset encoding value is actually extracted from a1.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrExtensionNotSupported If the message is other than SMS. Other Standard system-wide error codes. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AD199F26-EAD0-3C20-9F11-DFE9E627B286"><a name="GUID-AD199F26-EAD0-3C20-9F11-DFE9E627B286"><!-- --></a>
<h3 class="sectiontitle">Filler1 (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Filler1</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-35F7A8C6-A994-301F-8924-9C862DB33565"><a name="GUID-35F7A8C6-A994-301F-8924-9C862DB33565"><!-- --></a>
<h3 class="sectiontitle">Filler2 (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Filler2</td><td>(</td><td>)</td><td>[inline, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1DE0CF82-CC1C-3026-8BA5-4D8DD1ACC43F"><a name="GUID-1DE0CF82-CC1C-3026-8BA5-4D8DD1ACC43F"><!-- --></a>
<a name="GUID-CE952ABC-F20E-3171-AE35-C6656D9C1361"><!-- --></a><h3 class="sectiontitle">Find ( const TDesC &amp;, TMsvPartList )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
TMsvPartList
</td><td>Find</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTextToFind</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvPartList</td><td><span class="parameter">aPartList</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Searches the specified message part(s) for the plain-text version of the text to be found.</p>
<p class="p">If the specified part list indicates a part that is not supported, or is not present in the current message, the function behaves as if the specified part exists but does not contain the required text.</p>
<p class="p">Requirements:</p>
<p class="p">The parts of the entry for which searching is allowed is implementation specific. If no searching is supported, always return 0.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aTextToFind</td><td>The plain-text version of the text to be found.  </td></tr><tr class="bg"><td class="parameter">aPartList</td><td>Indicates the message parts which should be searched.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>If the text was not found, or searching is unsupported, 0. If the text was found, a bitmask of the TMsvPartList IDs for each part in which the text was present. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F68E24F0-1248-3506-9BA8-134089234B26"><a name="GUID-F68E24F0-1248-3506-9BA8-134089234B26"><!-- --></a>
<a name="GUID-B04706D1-2B03-3C43-AE80-FB8F3064E7B4"><!-- --></a><h3 class="sectiontitle">ForwardL ( TMsvId, TMsvPartList, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td>ForwardL</td><td>(</td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvPartList</td><td><span class="parameter">aPartList</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aCompletionStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates a forwarded message from the current message context.</p>
<p class="p">Some MTMs may support inclusion of elements, specified by aPartlist, from the original message in the forwarded message. The parent for the new entry is specified in aDestination. The returned <a class="xref" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html#GUID-AF724192-6580-3DE3-9287-3A005C0AA932">CMsvOperation</a> object completes when editing the forwarded message is complete. On completion, the context is set to the forwarded message.</p>
<p class="p">Requirements:</p>
<p class="p">A typical implementation for this function would include the following steps:</p>
<p class="p">1. create a new message in the specified destination by calling <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-2BAF8561-A31A-3EA9-BC78-0B16B8746C0A">CMsvEntry::CreateL()</a></p>
<p class="p">2. set the entry index values as appropriate</p>
<p class="p">3. set message content as required. The normal minimum is to include the text of the original message. An implementation may also follow the options specified in aPartlist to include other properties of the original message.</p>
<p class="p">4. set the context to the reply</p>
<p class="p">5. return a CMsvOperation-derived object to provide asynchronous control and monitoring of the operation</p>
<p class="p">If forwarded messages are not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">The implementation of this function may be similar to that of <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-586397FB-536E-3941-88F4-19EFD08CC7D7">ReplyL()</a>, allowing opportunities for code sharing.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDestination</td><td>The entry to which to assign the forwarded message  </td></tr><tr class="bg"><td class="parameter">aPartList</td><td>Defines the parts that are to be copied from the original message into the forwarded message  </td></tr><tr><td class="parameter">aCompletionStatus</td><td>The request status to be completed when the operation has finished  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>If successful, this is an asynchronously completing forward message operation. If failed, this is a completed operation, with status set to the relevant error code. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Client-side MTM does not support creation of forwarded messages</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0F713DC6-607A-3AB1-98B8-86DEC7F03783"><a name="GUID-0F713DC6-607A-3AB1-98B8-86DEC7F03783"><!-- --></a>
<h3 class="sectiontitle">GetExtensionData (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>GetExtensionData</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-864D338F-C7C4-3B62-9A34-99C4BF9B22E0"><a name="GUID-864D338F-C7C4-3B62-9A34-99C4BF9B22E0"><!-- --></a>
<a name="GUID-621B4F98-9647-3A32-969B-61893479872A"><!-- --></a><h3 class="sectiontitle">GetInterface ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>GetInterface</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aUid</span></td><td>)</td><td>[protected, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns a pointer to the interface with the specified Uid.</p>
<p class="p">This method is the first part of an extension pattern to allow for more functionality to be supported without adding virtual methods to this base class.</p>
<p class="p">The default implementation returns a NULL pointer.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUid</td><td>Uid of the extension interface  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Pointer to the extension interface </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D413F4D5-49EF-3723-9940-3D75F049FA2F"><a name="GUID-D413F4D5-49EF-3723-9940-3D75F049FA2F"><!-- --></a>
<a name="GUID-D66E85A4-9D3C-302F-9A73-6C5C42CEBF86"><!-- --></a><h3 class="sectiontitle">HandleEntryEventL ( TMsvEntryEvent, TAny *, TAny *, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>HandleEntryEventL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-B36289AC-769F-3A83-BADB-AE0568E97581.html">TMsvEntryEvent</a></td><td><span class="parameter">aEvent</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aArg1</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aArg2</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aArg3</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-B36289AC-769F-3A83-BADB-AE0568E97581.html">MMsvEntryObserver::HandleEntryEventL(TMsvEntryEvent,TAny *,TAny *,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Indicates that an event has occurred.</p>
<p class="p">Client applications do not use this function. It is relevant only to implementers of derived classes.</p>
<p class="p">The Client-side MTM object is automatically set as an observer, through <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-E68FFDF4-4A17-3615-A669-21BED8A03ACB">CMsvEntry::AddObserverL()</a>, for the context whenever the context changes (by <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2">SetCurrentEntryL()</a> or <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7F35C252-DE15-369C-B710-463C3F9B9B41">SwitchCurrentEntryL()</a>).</p>
<p class="p">The default implementation is defined to do nothing.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations can override this function to handle events concerning the current context.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aEvent</td><td>Indicates the event type  </td></tr><tr class="bg"><td class="parameter">aArg1</td><td>Event specific argument value  </td></tr><tr><td class="parameter">aArg2</td><td>Event specific argument value  </td></tr><tr class="bg"><td class="parameter">aArg3</td><td>Event specific argument value  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BE40C6B8-9EB3-3DAF-AAA3-5FC8A9D34FE9"><a name="GUID-BE40C6B8-9EB3-3DAF-AAA3-5FC8A9D34FE9"><!-- --></a>
<h3 class="sectiontitle">HasContext (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>HasContext</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Tests if an MTM context has been set.</p>
<p class="p">A Client-side MTM has no context until one is set through <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7F35C252-DE15-369C-B710-463C3F9B9B41">SwitchCurrentEntryL()</a> or <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2">SetCurrentEntryL()</a> .</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>ETrue: context has been set EFalse: context has not been set </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-451D4D16-61C6-302A-B200-4D1040D9376E"><a name="GUID-451D4D16-61C6-302A-B200-4D1040D9376E"><!-- --></a>
<a name="GUID-05327221-98A9-35FA-BD28-D6323BE449D1"><!-- --></a><h3 class="sectiontitle">InvokeAsyncFunctionL ( TInt, const CMsvEntrySelection &amp;, TDes8 &amp;, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td>InvokeAsyncFunctionL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFunctionId</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aParameter</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aCompletionStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Invokes asynchronous protocol-specific operations. For synchronous operations, a similar function, <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-BF363018-C9E1-3071-9EB3-25144F9AC722">InvokeSyncFunctionL()</a>, is available.</p>
<p class="p">aSelection and aParameter allow data to be passed to the operation. The <a class="xref" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> and <a class="xref" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html#GUID-AF724192-6580-3DE3-9287-3A005C0AA932">CMsvOperation</a> objects are used as normal to control and monitor the operation.</p>
<p class="p">Requirements:</p>
<p class="p">For functionality that requires message transport access, such as making a connection, the implementation should pass the request onto the corresponding Server-side MTM. This is done through calling <a class="xref" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html#GUID-16388C75-6F8A-3EDB-9882-782D90E474E0">CMsvSession::TransferCommandL()</a>. Implementations may also provide protocol-specific functions themselves if this is useful.</p>
<p class="p">
<a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-451D4D16-61C6-302A-B200-4D1040D9376E">InvokeAsyncFunctionL()</a> should return a CMsvOperation-derived object to provide asynchronous control and monitoring of the operation. If <a class="xref" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html#GUID-16388C75-6F8A-3EDB-9882-782D90E474E0">CMsvSession::TransferCommandL()</a> is called, this should be the <a class="xref" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html#GUID-AF724192-6580-3DE3-9287-3A005C0AA932">CMsvOperation</a> object returned by that function.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFunctionId</td><td>ID of the requested operation  </td></tr><tr class="bg"><td class="parameter">aSelection</td><td>Selection of message entries. This is used if the operation requires message entries to work on.  </td></tr><tr><td class="parameter">aParameter</td><td>Buffer containing input and output parameters. The format of this is specific to the operation.  </td></tr><tr class="bg"><td class="parameter">aCompletionStatus</td><td>The request status to be completed when the operation has finished  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>If successful, this is an asynchronously completing operation. If failed, this is a completed operation, with status set to the relevant error code. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">aFunctionId is not a recognised operation ID</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BF363018-C9E1-3071-9EB3-25144F9AC722"><a name="GUID-BF363018-C9E1-3071-9EB3-25144F9AC722"><!-- --></a>
<a name="GUID-A5B6CDAC-7C02-35F4-840E-35932B438FD8"><!-- --></a><h3 class="sectiontitle">InvokeSyncFunctionL ( TInt, const CMsvEntrySelection &amp;, TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>InvokeSyncFunctionL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFunctionId</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aParameter</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Invokes synchronous protocol-specific operations. For asynchronous operations, a similar function, <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-451D4D16-61C6-302A-B200-4D1040D9376E">InvokeAsyncFunctionL()</a>, is available.</p>
<p class="p">aSelection and aParameter allow data to be passed to the operation.</p>
<p class="p">Requirements:</p>
<p class="p">For functionality that requires message transport access, such as making a connection, the implementation should pass the request onto the corresponding Server-side MTM. This is done through calling <a class="xref" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html#GUID-16388C75-6F8A-3EDB-9882-782D90E474E0">CMsvSession::TransferCommandL()</a>. Implementations may also provide protocol-specific functions themselves if this is useful.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFunctionId</td><td>ID of the requested operation  </td></tr><tr class="bg"><td class="parameter">aSelection</td><td>Selection of message entries. This is used if the operation requires message entries to work on.  </td></tr><tr><td class="parameter">aParameter</td><td>Buffer containing input and output parameters. The format of this is specific to the operation.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">aFunctionId is not a recognised operation ID</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E71B3386-8544-3314-B900-1ABF65DCF07B"><a name="GUID-E71B3386-8544-3314-B900-1ABF65DCF07B"><!-- --></a>
<h3 class="sectiontitle">LoadMessageL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>LoadMessageL</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Loads the cache with the message data for the current context.</p>
<p class="p">It can only be called on message contexts.</p>
<p class="p">It is typically used after the context has been set with <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2">SetCurrentEntryL()</a> or <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7F35C252-DE15-369C-B710-463C3F9B9B41">SwitchCurrentEntryL()</a>. <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D">CBaseMtm</a> functions to manipulate the entry can only be called after this function has been called.</p>
<p class="p">Requirements:</p>
<p class="p">An implementation must restore the store and index entry relating to the message context. Typically, the message store should be opened for reading with <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-78A5A0B1-58D8-392B-90C2-6F68B92F0BD1">CMsvEntry::ReadStoreL()</a>. It should be then be read to set the following:</p>
<p class="p">1. body text: call <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-8B802AE8-9419-312D-BD74-94B0C413CD06">RestoreBodyL()</a> to update the cached body text</p>
<p class="p">2. address list: read the appropriate MTM-specific area of the store to update iAddresseeList</p>
<p class="p">3. subject: if supported, read the appropriate MTM-specific area of the store and update the cache with <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-06B55565-D755-3BBD-AE0D-C95E8B8BE9EC">SetSubjectL()</a></p>
<p class="p">The function should panic for non-message contexts. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-643F0BAD-7788-3E81-BFB6-9628A2C1F062"><a name="GUID-643F0BAD-7788-3E81-BFB6-9628A2C1F062"><!-- --></a>
<a name="GUID-3925D3F3-2D33-319D-B3B4-36D520A3370C"><!-- --></a><h3 class="sectiontitle">QueryCapability ( TUid, TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>QueryCapability</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aCapability</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aResponse</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Queries if the MTM supports a particular capability, specified by a UID.</p>
<p class="p">For MTM-specific UIDs, see the documentation for the relevant MTM.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should check aCapability for the standard capability values, plus any MTM-specific capabilities, and if recognised, return a suitable response in aResponse. If aCapability is unknown, return KErrNotSupported.</p>
<p class="p">The default implementation returns KErrNotSupported.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCapability</td><td>UID of capability to be queried  </td></tr><tr class="bg"><td class="parameter">aResponse</td><td>Response value. The format of the response varies according to the capability.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone: aCapability is a recognised value and a response is returned KErrNotSupported: aCapability is not a recognised value </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C037CBB6-6D3A-36D0-8BF8-04DDD4C57E06"><a name="GUID-C037CBB6-6D3A-36D0-8BF8-04DDD4C57E06"><!-- --></a>
<a name="GUID-D1C1DAB9-6B6B-35F2-9511-DBA5C176EA4B"><!-- --></a><h3 class="sectiontitle">RemoveAddressee ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>RemoveAddressee</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aIndex</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Removes an address from the current address list. The address is specified by a zero-based index into the address list. If the index is not known, applications can use <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-A3BF16D1-1C8A-3EA1-9A8D-E3C176B74451">AddresseeList()</a> to retrieve the entire list to find the item.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should call iAddresseeList-&gt;Delete(aIndex) to remove the address from in the address list protected data member.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aIndex</td><td>Index of address to be removed  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C3B6E3EC-DBD8-307E-B099-00AAF5B9E013"><a name="GUID-C3B6E3EC-DBD8-307E-B099-00AAF5B9E013"><!-- --></a>
<h3 class="sectiontitle">RemoveDefaultServiceL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RemoveDefaultServiceL</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Removes the default service setting. The default implementation of this function assumes that the MTM only supports one service and therefore this does nothing. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-586397FB-536E-3941-88F4-19EFD08CC7D7"><a name="GUID-586397FB-536E-3941-88F4-19EFD08CC7D7"><!-- --></a>
<a name="GUID-1B1007CD-A9C9-3BED-A75A-F7468B71008A"><!-- --></a><h3 class="sectiontitle">ReplyL ( TMsvId, TMsvPartList, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td>ReplyL</td><td>(</td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvPartList</td><td><span class="parameter">aPartlist</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aCompletionStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates a reply message to the current message context.</p>
<p class="p">Some MTMs may support inclusion of elements, specified by aPartlist, from the original message in the reply. The parent for the new entry is specified in aDestination.</p>
<p class="p">The returned <a class="xref" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html#GUID-AF724192-6580-3DE3-9287-3A005C0AA932">CMsvOperation</a> object completes when creating the reply is complete. On completion, the context is set to the reply message.</p>
<p class="p">Requirements:</p>
<p class="p">A typical implementation for this function would include the following steps:</p>
<p class="p">1. create a new message in the specified destination by calling <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-2BAF8561-A31A-3EA9-BC78-0B16B8746C0A">CMsvEntry::CreateL()</a></p>
<p class="p">2. set the entry index values as appropriate</p>
<p class="p">3. set the properties of the message as required. The normal minimum is to set the address to the sender of the original message. An implementation may also follow the options specified in aPartlist to set other properties, for example, to include the original message text.</p>
<p class="p">4. set the context to the reply</p>
<p class="p">5. return a CMsvOperation-derived object to provide asynchronous control and monitoring of the operation</p>
<p class="p">If message replies are not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">The implementation of this function may be similar to that of <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-F68E24F0-1248-3506-9BA8-134089234B26">ForwardL()</a>, allowing opportunities for code sharing.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDestination</td><td>The entry to which to assign the reply  </td></tr><tr class="bg"><td class="parameter">aPartlist</td><td>Defines the parts that are to be copied from the original message into the reply  </td></tr><tr><td class="parameter">aCompletionStatus</td><td>The request status to be completed when the operation has finished  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>If successful, this is an asynchronously completing reply operation. If failed, this is a completed operation, with status set to the relevant error code. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Client-side MTM does not support reply operations</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8B802AE8-9419-312D-BD74-94B0C413CD06"><a name="GUID-8B802AE8-9419-312D-BD74-94B0C413CD06"><!-- --></a>
<a name="GUID-43AF1C02-C435-3450-A549-8AECE9F6CAB0"><!-- --></a><h3 class="sectiontitle">RestoreBodyL ( CMsvStore &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RestoreBodyL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td><span class="parameter">aStore</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the current cached CRichText from the appropriate stream in the specified message store. Client applications do not use this function. It is relevant only to implementers of derived classes.</p>
<p class="p">A typical use of this function is from <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-E71B3386-8544-3314-B900-1ABF65DCF07B">LoadMessageL()</a>.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>Message store from which to read the body text  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A097A4B2-44C3-3BC9-A910-7F14F7DF680C"><a name="GUID-A097A4B2-44C3-3BC9-A910-7F14F7DF680C"><!-- --></a>
<h3 class="sectiontitle">SaveMessageL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SaveMessageL</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Commits cached changes to the storage controlled by the Message Server.</p>
<p class="p">It can only be called on message contexts. It should be called in the following circumstances:</p>
<p class="p">1. to preserve changes when the context is changed, or when the Client-side MTM object is deleted</p>
<p class="p">2. to enable other parts of the Messaging to access the updated entry, as required, for example, before sending a message</p>
<p class="p">Requirements:</p>
<p class="p">An implementation must update the store and index entry relating to the message context. Typically, the message store should be opened for editing with <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-1864B96D-CB22-3EE1-8E73-023F12C68CB0">CMsvEntry::EditStoreL()</a>. It should be updated as follows:</p>
<p class="p">1. body text: call <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4">StoreBodyL()</a> to update the store's body text stream</p>
<p class="p">2. address list: update the appropriate MTM-specific area of the store from the data in iAddresseeList</p>
<p class="p">3. subject: if supported, update the appropriate MTM-specific area of the store from the private cache set by <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-06B55565-D755-3BBD-AE0D-C95E8B8BE9EC">SetSubjectL()</a></p>
<p class="p">Changes can then be committed to the store with <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5">CMsvStore::CommitL()</a>.</p>
<p class="p">The index entry should also be updated to reflect changes. Possible fields that may need updating include: Description (for subject changes); Details and Multiple Recipients (for recipient changes); and Size. Index entry changes are committed using <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-83F9C662-E922-3C40-95C4-DA6B8147883E">CMsvEntry::ChangeL()</a>.</p>
<p class="p">The function should panic for non-message contexts. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-231FBCD7-32E6-3D9D-AE66-3ADD354F7F11"><a name="GUID-231FBCD7-32E6-3D9D-AE66-3ADD354F7F11"><!-- --></a>
<h3 class="sectiontitle">Session (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html">CMsvSession</a> &amp;</td><td>Session</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets a reference to the session object passed by the creator of the Client-side MTM.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Session object used by the Client-side MTM </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2"><a name="GUID-CFA33A11-C4E8-3946-8D5D-3D918B8A00F2"><!-- --></a>
<a name="GUID-154BFC2A-9DBE-3756-BDA1-AB56242D726C"><!-- --></a><h3 class="sectiontitle">SetCurrentEntryL ( CMsvEntry * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetCurrentEntryL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">CMsvEntry</a> *</td><td><span class="parameter">aEntry</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the entry on which later actions are performed to the specified <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49">CMsvEntry</a>.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aEntry</td><td>The entry on which all following actions will be performed  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue">Insufficient memory</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D8BF231A-067F-3253-B3C5-0C25E30E1443"><a name="GUID-D8BF231A-067F-3253-B3C5-0C25E30E1443"><!-- --></a>
<a name="GUID-3A2EACE7-80CF-3311-8781-31DB83D86CFA"><!-- --></a><h3 class="sectiontitle">SetExtensionData ( TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetExtensionData</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aSortData</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D1800183-56E8-36B7-A8A6-D0A329D40126"><a name="GUID-D1800183-56E8-36B7-A8A6-D0A329D40126"><!-- --></a>
<a name="GUID-AEEE87CE-0EF4-3BE2-82D3-89FFE96A9611"><!-- --></a><h3 class="sectiontitle">SetMessageCharacterSet ( TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetMessageCharacterSet</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharSet</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the character encoding value. The character encoding value options are 7-bit, 8-bit and 16-Bit Unicode. By default the character set encoding is 7 bit encoding. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCharSet</td><td>Character encoding value may be 7-bit/8-bit/16-bit Unicode.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone If charset is changed successfully in SMS settings. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-06B55565-D755-3BBD-AE0D-C95E8B8BE9EC"><a name="GUID-06B55565-D755-3BBD-AE0D-C95E8B8BE9EC"><!-- --></a>
<a name="GUID-10DEB26C-38E6-3DB8-8444-5900AC283191"><!-- --></a><h3 class="sectiontitle">SetSubjectL ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetSubjectL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aSubject</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the subject text of the context, which must be a message.</p>
<p class="p">Some Client-side MTMs may not support subject text, in which case the function leaves with KErrNotSupported.</p>
<p class="p">Requirements:</p>
<p class="p">If the message protocol supports subject text, implementations should maintain a private buffer to store this information, settable through this function.</p>
<p class="p">Implementations should save the subject text to the appropriate place in the message store when the message is stored.</p>
<p class="p">The default implementation leaves with KErrNotSupported.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4">StoreBodyL()</a> <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-8B802AE8-9419-312D-BD74-94B0C413CD06">RestoreBodyL()</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSubject</td><td>Message subject text  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Client-side MTMs does not support subject text</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4"><a name="GUID-7FFC1AD8-C0C6-3C5D-8651-D7A4B49091E4"><!-- --></a>
<a name="GUID-A036C34A-EFB9-3E98-983B-0DFF1EE8CD85"><!-- --></a><h3 class="sectiontitle">StoreBodyL ( CMsvStore &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StoreBodyL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td><span class="parameter">aStore</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Stores and commits the current cached CRichText body text to the appropriate stream in the specified message store. Client applications do not use this function. It is relevant only to implementers of derived classes.</p>
<p class="p">The function overwrites any existing data in that stream. The implementation must have write access to aStore.</p>
<p class="p">A typical use of this function is from <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-A097A4B2-44C3-3BC9-A910-7F14F7DF680C">SaveMessageL()</a>.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>Message store in which to store the body text  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">The store was opened for read only</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard stream-related leave codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CF404788-295C-3FF7-9510-35C3DAE7A833"><a name="GUID-CF404788-295C-3FF7-9510-35C3DAE7A833"><!-- --></a>
<h3 class="sectiontitle">SubjectL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a class="xref xref apiRelation" href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a></td><td>SubjectL</td><td>(</td><td>)</td><td>const [virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the subject text of the context, which must be a message.</p>
<p class="p">Some Client-side MTMs may not support subject text, in which case the function leaves with KErrNotSupported.</p>
<p class="p">Requirements:</p>
<p class="p">If the message protocol supports subject text, implementations should maintain a private buffer to store this information, gettable through this function.</p>
<p class="p">The default implementation leaves with KErrNotSupported.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Message subject text </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Client-side MTMs does not support subject text</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7F35C252-DE15-369C-B710-463C3F9B9B41"><a name="GUID-7F35C252-DE15-369C-B710-463C3F9B9B41"><!-- --></a>
<a name="GUID-8B452CA9-0EAF-34DF-8E78-E3C0CC311D87"><!-- --></a><h3 class="sectiontitle">SwitchCurrentEntryL ( TMsvId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SwitchCurrentEntryL</td><td>(</td><td>TMsvId</td><td><span class="parameter">aId</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Changes the entry on which later actions are performed to the entry with the specified TMsvId.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aId</td><td>The ID of the entry upon which all following actions will be performed </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue">Insufficient memory</td></tr><tr><td class="leavecode">KErrNotFound</td><td class="leavevalue">The requested entry does not exist</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8E5623D2-4EA6-3BB6-93CB-2730DB43A1C1"><a name="GUID-8E5623D2-4EA6-3BB6-93CB-2730DB43A1C1"><!-- --></a>
<h3 class="sectiontitle">Type (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>Type</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the Type UID of the message type associated with the Client-side MTM.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>UID of the message type associated with the MTM </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-813100DC-0189-3C1B-B34A-65B3E21458FD"><a name="GUID-813100DC-0189-3C1B-B34A-65B3E21458FD"><!-- --></a>
<a name="GUID-6EBDD445-4123-3B26-98DE-78E25BFEB64B"><!-- --></a><h3 class="sectiontitle">ValidateMessage ( TMsvPartList )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
TMsvPartList
</td><td>ValidateMessage</td><td>(</td><td>TMsvPartList</td><td><span class="parameter">aPartList</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Validates the current message context.</p>
<p class="p">The precise validation performed is specific to the MTM, but, typically, checks that the specified message parts are well-formed.</p>
<p class="p">Requirements:</p>
<p class="p">Implementation of this function is highly protocol-specific. A minimum step is to check that the current context is a message.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPartList</td><td>Indicates the message parts for which validation is requested </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>If valid, KErrNone If invalid, identifies the invalid part(s). The error value is the bitmask of the TMsvPartList IDs for each invalid part </dd></dl></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy"> Nokia 2005.</div></div>
</div></div></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:43 GMT -->
</html>