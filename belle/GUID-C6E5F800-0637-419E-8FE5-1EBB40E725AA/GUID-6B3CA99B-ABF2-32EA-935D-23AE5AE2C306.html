<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="RCommServ" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306" />
<title>RCommServ</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306"><a name="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">RCommServ Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;c32comm.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: c32.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RCommServ : public RSessionBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RCommServ<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase</a><ul class="derivation"><li class="derivation-depth-2 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-72167CFE-878C-3710-9B49-0591870B191F">RCommServ</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803">Connect</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E5985A2B-CE9B-3748-A806-BE896C340402">CreateThreadInCommProc</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TThreadFunction</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-82FD3C87-070A-37DD-BD34-3A88287AAFF4">GetPortInfo</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A7569F5F-7928-30F6-94B4-ABB13F7C45DD">GetPortInfo</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;, <a class="xref xref apiRelation" href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-008B035B-B12E-3B28-9341-FD47A605E85B">LoadCommModule</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-03A2487E-228E-3920-AE10-51AB68596406">NumPorts</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-190AB5EB-5EAB-3460-99AD-E3758689EDAD">UnloadCommModule</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><a href="#GUID-07866B19-543C-396F-9ECA-51BF2749ADDF">Version</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-319453C5-51E5-3256-ABF5-F1B61CF4E50A">__DbgCheckHeap</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D33DF46C-62FB-3A50-B6BE-65B1755C9437">__DbgFailNext</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-89F66DC1-9B2E-35A9-9C89-78F8BA5F3204">__DbgMarkEnd</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5B44A887-7E55-331A-B9C9-844CA36B9269">__DbgMarkHeap</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F565637E-DD32-3E1D-AC24-5291EFEC24A0">__DbgSetTraceMask</a>(<a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TC32Trace</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::iHandle</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase:TAttributes</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase:TAttachMode</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Attributes()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::BTraceId()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Close()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::DoExtendedClose()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Duplicate(const RThread &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName(TDes &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Handle()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::HandleInfo(THandleInfo *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Name()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::NotifyDestruction(TRequestStatus &amp;)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Open(const TFindHandleBase &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::OpenByName(const TDesC &amp;,TOwnerType,TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandle(TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandleNC(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TRequestStatus *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,RHandleBase &amp;)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,const TSecurityPolicy &amp;)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareAuto()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareProtected()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Represents a session with the serial comms server. Functions are provided for connection to the server and for loading and unloading different comms modules, and services for finding out the name and numbers of the available ports.</p>
<p class="p">Sessions with the serial comms server are not shareable.</p>
<p class="p">Comms modules are also known as "CSY"s due to their ".CSY" extension, derived from the term "Comms SYstem".</p>
<p class="p">This class is not intended for user derivation.</p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-72167CFE-878C-3710-9B49-0591870B191F"><a name="GUID-72167CFE-878C-3710-9B49-0591870B191F"><!-- --></a>
<h3 class="sectiontitle">RCommServ (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>RCommServ</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Default constructor. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803"><a name="GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803"><!-- --></a>
<h3 class="sectiontitle">Connect (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Connect</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Connects a client process to the comms server.</p>
<p class="p">Use this function to open a session to the Comms server. Default number of message slots is defined in KDefaultMessageSlots.</p>
<p class="p">Notes:</p>
<p class="p">1. <a class="xref" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB">RHandleBase</a> provides the necessary <a class="xref" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-9A533D5A-B98E-36F5-85C5-4467975C7466">Close()</a> function, which should be called when the server session is no longer required. Note that the kernel completes the <a class="xref" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-9A533D5A-B98E-36F5-85C5-4467975C7466">Close()</a> function immediately and so <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306">RCommServ</a> resources still used by this client may not yet have been released at the time the <a class="xref" href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-9A533D5A-B98E-36F5-85C5-4467975C7466">Close()</a> returns. A consequence of this is that an attempt to open a port previously opened for exclusive use in a session that is still closing might fail. 2. Older versions of Symbian OS specified that a call to "StartC32" was required before a call to this <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803">Connect()</a>. However, C32 Serial server is now started automatically during device boot so this is not necessary unless the application is to run in a non-standard GUI environment.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E5985A2B-CE9B-3748-A806-BE896C340402"><a name="GUID-E5985A2B-CE9B-3748-A806-BE896C340402"><!-- --></a>
<a name="GUID-4AE27089-039C-3146-A02C-0EB1C444DD23"><!-- --></a><h3 class="sectiontitle">CreateThreadInCommProc ( const TDesC &amp;, const TDesC &amp;, TThreadFunction, TInt, TInt, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CreateThreadInCommProc</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aLibraryName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aThreadName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TThreadFunction</a></td><td><span class="parameter">aFunction</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aStackSize</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aHeapMinSize</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aHeapMaxSize</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">This functionality has been withdrawn since the introduction of Platform Security.</p>
<p class="p">This API has been replaced with a more secure and controlled model for loading threads into the Comms process, known as the Configurator. The Configurator requires a Comms Provider Module (DLL) to be available that provides the code for the thread to execute, and a configuration file that describes to the Configurator how to manage the Comms Provider Module. Further information on this is only available in documentation libraries that include the Configurator documentation.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aLibraryName</td><td>This value is not used.  </td></tr><tr class="bg"><td class="parameter">aThreadName</td><td>This value is not used.  </td></tr><tr><td class="parameter">aFunction</td><td>This value is not used.  </td></tr><tr class="bg"><td class="parameter">aStackSize</td><td>A negative value will result in a panic.  </td></tr><tr><td class="parameter">aHeapMinSize</td><td>A value less than KMinHeapSize will result in a panic.  </td></tr><tr class="bg"><td class="parameter">aHeapMaxSize</td><td>A value less than aHeapMinSize will result in a panic.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Always KErrNotSupported. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">CommDD</td><td class="capabilityvalue">(Deprecate)</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-82FD3C87-070A-37DD-BD34-3A88287AAFF4"><a name="GUID-82FD3C87-070A-37DD-BD34-3A88287AAFF4"><!-- --></a>
<a name="GUID-EB42477B-11C1-3A88-86C9-6E9A1BAE5790"><!-- --></a><h3 class="sectiontitle">GetPortInfo ( const TDesC &amp;, TSerialInfo &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetPortInfo</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;</td><td><span class="parameter">aInfo</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets static information about the available serial ports for a particular comms module.</p>
<p class="p">This variant enables the comms module to be specified in Port Prefix format or by filename.</p>
<p class="p">There is no wildcard support.</p>
<p class="p">Notes:</p>
<p class="p">1. This API only returns static information about the available ports as they were when the module loaded, so ports listed as available may actually be in use exclusively by another client at the time of this call.</p>
<p class="p">2. The information returned does not account for any security restrictions on ports, and so does not check whether the client has the capabilities to open all the advertised ports.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aName</td><td>The name of the comms module in Port Prefix format (eg "COMM" for RS232), or the filename of the CSY as supplied to LoadCommModule() excluding the ".CSY" extension (eg "ECUART" for RS232). The supplied name will be truncated to be KMaxPortName (16) characters long.  </td></tr><tr class="bg"><td class="parameter">aInfo</td><td>On return, contains information about the ports available, including the high and low unit numbers and their name in Port Prefix format.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone, if the send operation is successful; KErrServerTerminated, if the server is no longer present; KErrServerBusy, if there are no message slots available; KErrNoMemory, if there is insufficient memory available. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A7569F5F-7928-30F6-94B4-ABB13F7C45DD"><a name="GUID-A7569F5F-7928-30F6-94B4-ABB13F7C45DD"><!-- --></a>
<h3 class="sectiontitle">GetPortInfo ( TInt, TDes &amp;, TSerialInfo &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetPortInfo</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aIndex</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;</td><td><span class="parameter">aModuleName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;</td><td><span class="parameter">aInfo</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets static information about the available serial ports for a particular comms module.</p>
<p class="p">This variant enables the comms module to be specified by an index number from 0, enabling iteration through the loaded comms modules. Call <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-03A2487E-228E-3920-AE10-51AB68596406">NumPorts()</a> to obtain the current number of loaded comms modules.</p>
<p class="p">Notes:</p>
<p class="p">1. This API only returns static information about the available ports as they were when the module loaded, so ports listed as available may actually be in use exclusively by another client at the time of this call.</p>
<p class="p">2. The information returned does not account for any security restrictions on ports, and so does not check whether the client has the capabilities to open all the advertised ports.</p>
<p class="p">3. If another C32 client unloads a CSY module, the index of each of the remaining modules may change. If a client is attempting to iterate through all the open modules when this occurs, the iteration may miss a module or receive KErrNotFound unexpectedly. This behaviour can be detected by observing that the value returned by <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-03A2487E-228E-3920-AE10-51AB68596406">NumPorts()</a> changes.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aIndex</td><td>Index number of the comms module, starting at 0.  </td></tr><tr class="bg"><td class="parameter">aModuleName</td><td>On return, contains the name of the comms module referred to by aIndex. This name is expressed as the filename without the path or extension, and the case is not specified since it is determined by the first request to LoadCommModule. </td></tr><tr><td class="parameter">aInfo</td><td>On return, contains information about the ports available, including the high and low unit numbers and their name.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone, if the send operation is successful; KErrServerTerminated, if the server is no longer present; KErrServerBusy, if there are no message slots available; KErrNoMemory, if there is insufficient memory available. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-008B035B-B12E-3B28-9341-FD47A605E85B"><a name="GUID-008B035B-B12E-3B28-9341-FD47A605E85B"><!-- --></a>
<a name="GUID-F851835B-4585-3C3A-B257-ADAE04CD95AA"><!-- --></a><h3 class="sectiontitle">LoadCommModule ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>LoadCommModule</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFileName</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Loads a comms module.</p>
<p class="p">Use this function to load a CSY comms module. These are protocol modules that C32 Serial Server uses to understand how to handle a particular port.</p>
<p class="p">Notes:</p>
<p class="p">1. There is no need for an extension, as ".CSY" is automatically appended by this function.</p>
<p class="p">2. This function only loads CSYs that have been installed correctly into one of the system's /sys/bin directories</p>
<p class="p">3. If the module has already been loaded by another client, this function will increment the reference to the module.</p>
<p class="p">4. It is not an error to load the same module twice or more, although there is no practical application for this ability. On each subsequent load for the same module the reference count is simply incremented. When the session is closed, all module references are removed including references from repeated loading of the same module.</p>
<p class="p">5. There is no limit to the number of modules that can be loaded from within a single session.</p>
<p class="p">With the exception of some hardware configurations, four modules are normally available as standard:</p>
<p class="p">ECUART is used to address appropriate serial ports in RS232 mode. It is normally customised for a device.</p>
<p class="p">IRCOMM drives the infrared port in infrared mode.</p>
<p class="p">BTCOMM drives the Bluetooth emulated serial port.</p>
<p class="p">ECACM drives the USB port(s).</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFileName</td><td>Name of the file to load as a module, optionally containing the ".CSY" extension. The filename may include the full path including drive letter for the CSY.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone if the load operation is successful; KErrServerTerminated if the server no longer present; KErrServerBusy if there are no message slots available; KErrNoMemory if there is insufficient memory available; KErrBadLibraryEntryPoint if the CSY fails the consistency check; KErrNotFound if the CSY or other component or service required to load it is not found; other return codes are possible from the CSY itself. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-03A2487E-228E-3920-AE10-51AB68596406"><a name="GUID-03A2487E-228E-3920-AE10-51AB68596406"><!-- --></a>
<a name="GUID-F39B1163-0642-3E05-9793-45C462BC5DC8"><!-- --></a><h3 class="sectiontitle">NumPorts ( TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NumPorts</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNum</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Get the number of unique comms modules (CSYs) loaded into C32.</p>
<p class="p">This number includes modules loaded by other sessions.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNum</td><td>On return, holds the number of loaded CSYs  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System wide error code. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-190AB5EB-5EAB-3460-99AD-E3758689EDAD"><a name="GUID-190AB5EB-5EAB-3460-99AD-E3758689EDAD"><!-- --></a>
<a name="GUID-98B29787-1CC4-35AF-9C56-B2D2E29C897C"><!-- --></a><h3 class="sectiontitle">UnloadCommModule ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>UnloadCommModule</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Remove this client's reference to the named communications module. If this is the last client to reference the communications module, the module is unloaded.</p>
<p class="p">Note:</p>
<div class="p">There is no need to unload a comms module when the connection to the server is closed, as this is done automatically by the C32 Server. For example, the following code will not result in a leak: <pre class="pre codeblock">		_LIT(KCSYName,"ECUART");
		RCommServ commSession;
		if (commSession.Connect() == KErrNone)
			{
			TInt ret = commSession.LoadCommModule(KCSYName);
			commSession.Close();
			}</pre>
</div>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aName</td><td>Name of the module to unload described in Port Prefix format. This may not necessarily be the same name as that used to load the module. Examples: The ECUART module, where supplied, is loaded via "ECUART" or "ECUART.CSY" but unloaded via "COMM". The infrared module, where supplied, is loaded via "IRCOMM.CSY" or "IRCOMM" but unloaded only via "IRCOMM".  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System wide error code. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-07866B19-543C-396F-9ECA-51BF2749ADDF"><a name="GUID-07866B19-543C-396F-9ECA-51BF2749ADDF"><!-- --></a>
<h3 class="sectiontitle">Version (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td>Version</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the client side version number.</p>
<p class="p">Use this function to get the version number. The version number may be incremented in future releases of the comms server. If extra features are added in such releases, the version number may be used by application programs as a basis for assessing the capabilities of the comms server. Version-specific functions will be marked as such in the SDK documentation.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Version number. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-319453C5-51E5-3256-ABF5-F1B61CF4E50A"><a name="GUID-319453C5-51E5-3256-ABF5-F1B61CF4E50A"><!-- --></a>
<a name="GUID-88CE116C-BCA3-3705-BD25-FD84F92852EE"><!-- --></a><h3 class="sectiontitle">__DbgCheckHeap ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgCheckHeap</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Checks the heap mark in the comm server</p>
<div class="p">Only valid for Debug builds. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D33DF46C-62FB-3A50-B6BE-65B1755C9437"><a name="GUID-D33DF46C-62FB-3A50-B6BE-65B1755C9437"><!-- --></a>
<a name="GUID-E5B0E99E-EBB6-3641-B973-0FC036E8F216"><!-- --></a><h3 class="sectiontitle">__DbgFailNext ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgFailNext</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Emulates a single fail next heap allocation in the comm server. If C32 is running multiple threads the same request is passed to each thread. Each C32 thread will only act on this request if it has not already been configured for heap failures via CMI files.</p>
<div class="p">Only valid for Debug builds. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCount</td><td>Specifies that after aCount-1 successful allocations the failure will occur on the next allocation - ie the failure will occur on the aCount allocation attempt. A value less than zero cancels any outstanding failure request. A value of zero is equivalent to a value of one - ie, fail on the next attempt. </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-89F66DC1-9B2E-35A9-9C89-78F8BA5F3204"><a name="GUID-89F66DC1-9B2E-35A9-9C89-78F8BA5F3204"><!-- --></a>
<a name="GUID-3C4CE646-544F-3C00-8FA6-8A9B55049B4C"><!-- --></a><h3 class="sectiontitle">__DbgMarkEnd ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgMarkEnd</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the heap mark end in the comm server</p>
<div class="p">Only valid for Debug builds. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5B44A887-7E55-331A-B9C9-844CA36B9269"><a name="GUID-5B44A887-7E55-331A-B9C9-844CA36B9269"><!-- --></a>
<h3 class="sectiontitle">__DbgMarkHeap (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgMarkHeap</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets a heap mark in the comm server</p>
<p class="p">Only valid for Debug builds.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System wide error code. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F565637E-DD32-3E1D-AC24-5291EFEC24A0"><a name="GUID-F565637E-DD32-3E1D-AC24-5291EFEC24A0"><!-- --></a>
<a name="GUID-9C8A7815-1B4A-37B6-8A9A-DEFC1107CB37"><!-- --></a><h3 class="sectiontitle">__DbgSetTraceMask ( TC32Trace )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgSetTraceMask</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TC32Trace</a></td><td><span class="parameter">aMask</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The functionality of this API has been removed.</p>
<p class="p">Where tracing is required, please refer to the Comms Infrastructure documentation on logging.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMask</td><td>This value is not used.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Always KErrNone. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
</div></div><div class="footer"><hr /><div class="copy">Â© Nokia 2005.</div></div>
</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:40 GMT -->
</html>