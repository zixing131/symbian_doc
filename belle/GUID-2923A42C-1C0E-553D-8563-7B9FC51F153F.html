
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-2923A42C-1C0E-553D-8563-7B9FC51F153F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:59:20 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="EGL Functions with Symbian-Specific Behavior" /><meta name="abstract" content="This topic describes the EGL functions that are defined as having platform-specific behavior and explains their expected behavior on the Symbian platform." /><meta name="description" content="This topic describes the EGL functions that are defined as having platform-specific behavior and explains their expected behavior on the Symbian platform." /><meta name="DC.Relation" scheme="URI" content="GUID-A5914CFF-6F86-53E8-9928-36D3379835B1" /><meta name="DC.Relation" scheme="URI" content="GUID-894AB487-C127-532D-852B-37CB0DEA1440" /><meta name="DC.Relation" scheme="URI" content="GUID-46813F51-370B-5853-917C-6916925A347D" /><meta name="DC.Relation" scheme="URI" content="GUID-DC8BFEF5-DA50-52DA-8CE2-5729A4A005F6" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595" /><meta name="DC.Relation" scheme="URI" content="GUID-8C6D4350-A38D-57A1-8C8D-C777EA7E8A3E" /><meta name="DC.Relation" scheme="URI" content="GUID-D252E75C-C8CA-5C51-8DA3-95B937A1295C" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-2923A42C-1C0E-553D-8563-7B9FC51F153F" /><meta name="DC.Language" content="en" /><title>EGL
Functions with Symbian-Specific Behavior </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-2923A42C-1C0E-553D-8563-7B9FC51F153F">EGL
Functions with Symbian-Specific Behavior</h1><div><p>This topic describes the EGL functions that are defined as having
platform-specific behavior and explains their expected behavior on the Symbian
platform. </p>
<p>The functions that have Symbian-specific behavior are: </p>
<ul>
<li id="GUID-26A32D85-FFC6-5EF8-AF56-D4F2BB809D51"><a name="GUID-26A32D85-FFC6-5EF8-AF56-D4F2BB809D51"><!-- --></a><p> <a href="#GUID-4E3AD50C-FBBF-554A-99FE-A637AADAE93C">eglQueryString()</a> </p> </li>
<li id="GUID-04065DA1-A3E1-52C2-9C24-8B48FF3968FE"><a name="GUID-04065DA1-A3E1-52C2-9C24-8B48FF3968FE"><!-- --></a><p> <a href="#GUID-7D3B2473-5BFA-5C8A-B895-7B7E3D9949A8">eglCreatePixmapSurface()</a> </p> </li>
<li id="GUID-988AF3F7-D2CD-5993-A980-82C46A6E2D36"><a name="GUID-988AF3F7-D2CD-5993-A980-82C46A6E2D36"><!-- --></a><p> <a href="#GUID-7FC7E115-F659-5EA0-9BD0-AFFA717C2C00">eglChooseConfig()</a> </p> </li>
<li><p><a href="#GUID-E6BE99B1-6C0D-4D0D-B956-E7D3A312D75E">eglSurfaceAttrib()</a></p></li>
</ul>
<div id="GUID-4E3AD50C-FBBF-554A-99FE-A637AADAE93C"><h3 class="section-title">eglQueryString()</h3> <pre class="codeblock">const char *eglQueryString(
                  EGLDisplay dpy,
                  EGLint name)</pre> <p>When <code class="codeph">name</code> is <code class="codeph">EGL_EXTENSIONS</code>,
the function returns the list of extensions supported by the implementation.
The platform-specific strings are as follows: </p> <div class="tablenoborder"><a name="GUID-969FA7B5-8C7A-5CD0-AA9E-9EA4AB3B34BA"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-969FA7B5-8C7A-5CD0-AA9E-9EA4AB3B34BA" frame="border" border="1" rules="all">
<thead align="left">
<tr class="title ">
<th class="cellrowborder" valign="top" id="d0e272360">String</th>
<th class="cellrowborder" valign="top" id="d0e272363">Description</th>
</tr>
</thead>
<tbody>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e272360 "><p> <code class="codeph">EGL_SYMBIAN_COMPOSITION</code> </p> </td>
<td class="cellrowborder" valign="top" headers="d0e272363 "><p>Indicates that the ScreenPlay variant is in use. </p> </td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" headers="d0e272360 "><p><code class="codeph">EGL_KHR_reusable_sync</code></p></td>
<td class="cellrowborder" valign="top" headers="d0e272363 "><p>Indicates that the EGL reusable sync extension is supported.</p></td>
</tr>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e272360 "><code class="codeph">EGL_NOK_resource_profiling</code></td>
<td class="cellrowborder" valign="top" headers="d0e272363 "><p>Indicates that the EGL resource profiling extension is supported.</p></td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" headers="d0e272360 "><code class="codeph">EGL_NOK_resource_profiling2</code></td>
<td class="cellrowborder" valign="top" headers="d0e272363 "><p>Indicates that the EGL resource profiling2 extension is supported.</p></td>
</tr>
</tbody>
</table></div> <p><strong>Example </strong> </p> <pre class="codeblock">if ( NULL == strstr(eglQueryString(display, EGL_EXTENSIONS), "EGL_SYMBIAN_COMPOSITION") ) 
    {
    RDebug::Printf("ScreenPlay not in use.");
    error = KErrNotSupported;
    }</pre> </div>
<div id="GUID-7D3B2473-5BFA-5C8A-B895-7B7E3D9949A8"><h3 class="section-title">eglCreatePixmapSurface()</h3> <pre class="codeblock">EGLSurface eglCreatePixmapSurface(
                  EGLDisplay dpy,
                  EGLConfig config,
                  EGLNativePixmapType pixmap,
                  const EGLint *attrib_list)</pre> <p> <code class="codeph">EGLNativePixmapType</code> is
a <code class="codeph">CFbsBitmap*</code> . See <a href="GUID-894AB487-C127-532D-852B-37CB0DEA1440.html">Symbian-Specific
Behavior</a> for more information. </p> <p>You must choose <code class="codeph">&lt;config&gt;</code> using
the attribute <code class="codeph">EGL_MATCH_NATIVE_PIXMAP</code> when calling <a href="#GUID-7FC7E115-F659-5EA0-9BD0-AFFA717C2C00">eglChooseConfig()</a> in
order to ensure compatibility with the Symbian pixmap. </p> <p><strong>Preconditions </strong> </p> <ul>
<li id="GUID-765C39DC-C244-5D0D-A084-63F8CCD8BC92"><a name="GUID-765C39DC-C244-5D0D-A084-63F8CCD8BC92"><!-- --></a><p> <code class="codeph">&lt;pixmap&gt;</code> has
been initialized. </p> </li>
<li id="GUID-1C249E36-D0F0-599F-8845-CBCEE4A8DC4F"><a name="GUID-1C249E36-D0F0-599F-8845-CBCEE4A8DC4F"><!-- --></a><p>The <code class="codeph">EGL_VG_ALPHA_FORMAT</code> attribute
must be set to <code class="codeph">EGL_VG_ALPHA_FORMAT_PRE</code> if the following conditions
are all true: </p> <ul>
<li id="GUID-5C0EB569-7768-5DA6-A114-0DB95380A686"><a name="GUID-5C0EB569-7768-5DA6-A114-0DB95380A686"><!-- --></a><p>The pixel format of <code class="codeph">&lt;pixmap&gt;</code> specifies
premultiplied alpha—such as <code class="codeph">EColor16MAP</code>. </p> </li>
<li id="GUID-C103868C-106E-5BD3-8CD5-792548A7C30E"><a name="GUID-C103868C-106E-5BD3-8CD5-792548A7C30E"><!-- --></a><p>The <code class="codeph">EGL_RENDERABLE_TYPE</code> of <code class="codeph">&lt;config&gt;</code> includes <code class="codeph">EGL_OPENVG_BIT</code>. </p> </li>
</ul> </li>
</ul> <p><strong>Error conditions </strong> </p> <div class="tablenoborder"><a name="GUID-9058A877-4E21-52DD-8F07-9785D46B9B4A"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-9058A877-4E21-52DD-8F07-9785D46B9B4A" frame="border" border="1" rules="all">
<thead align="left">
<tr class="title ">
<th class="cellrowborder" valign="top" id="d0e272535">Error</th>
<th class="cellrowborder" valign="top" id="d0e272538">Description</th>
</tr>
</thead>
<tbody>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e272535 "><p> <code class="codeph">EGL_NO_SURFACE</code> </p> </td>
<td class="cellrowborder" valign="top" headers="d0e272538 "><p>Returned if any of the preconditions are violated. </p> </td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" headers="d0e272535 "><p> <code class="codeph">EGL_BAD_NATIVE_PIXMAP</code> </p> </td>
<td class="cellrowborder" valign="top" headers="d0e272538 "><p>Error generated when <code class="codeph">&lt;pixmap&gt;</code> is not initialized. </p> </td>
</tr>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e272535 "><p> <code class="codeph">EGL_BAD_MATCH</code> </p> </td>
<td class="cellrowborder" valign="top" headers="d0e272538 "><p>Error generated when any of the following occur: </p> <ul>
<li id="GUID-7669B73A-8066-5488-A9F0-C8CC151107C0"><a name="GUID-7669B73A-8066-5488-A9F0-C8CC151107C0"><!-- --></a><p>The attributes of <code class="codeph">&lt;pixmap&gt;</code> do
not correspond to those of <code class="codeph">&lt;config&gt;</code>. </p> </li>
<li id="GUID-C52CFB58-C033-52B6-ADBD-935D2808DD4D"><a name="GUID-C52CFB58-C033-52B6-ADBD-935D2808DD4D"><!-- --></a><p> <code class="codeph">&lt;config&gt;</code> does
not support rendering to pixmaps (the <code class="codeph">EGL_SURFACE_TYPE</code> attribute
does not contain the <code class="codeph">EGL_PIXMAP_BIT</code>). </p> </li>
<li id="GUID-FB3EA01C-CD38-5764-8019-FD63B3B673B4"><a name="GUID-FB3EA01C-CD38-5764-8019-FD63B3B673B4"><!-- --></a><p>The <code class="codeph">EGL_VG_ALPHA_FORMAT</code> attribute
is not set to <code class="codeph">EGL_VG_ALPHA_FORMAT_PRE</code> for the cases described
in the preconditions section above. </p> </li>
</ul> </td>
</tr>
</tbody>
</table></div> </div>
<div id="GUID-7FC7E115-F659-5EA0-9BD0-AFFA717C2C00"><h3 class="section-title">eglChooseConfig()</h3> <pre class="codeblock">EGLBoolean eglChooseConfig(
                  EGLDisplay dpy,
                  const EGLint *attrib_list,
                  EGLConfig *configs,
                  EGLint config_size,
                  EGLint *num_config)</pre> <p>The <code class="codeph">EGLNativePixmapType</code> value
corresponding to the <code class="codeph">EGL_MATCH_NATIVE_PIXMAP</code> attribute is <code class="codeph">CFbsBitmap*</code>.
See <a href="GUID-894AB487-C127-532D-852B-37CB0DEA1440.html">Symbian-Specific
Behavior</a> for more information. </p> <p>The configuration attribute <code class="codeph">EGL_SWAP_BEHAVIOR_PRESERVED_BIT</code> is
set by default on window surfaces. This bit is not relevant to pixmap and
pbuffer surfaces because they are single-buffered.</p> <p><strong>Postconditions </strong> </p> <p>The
following apply to the <code class="codeph">EGLNativePixmapType</code> value only. </p> <ul>
<li id="GUID-37ED30DE-703C-5427-9DE5-9D3E0FBDCDC8"><a name="GUID-37ED30DE-703C-5427-9DE5-9D3E0FBDCDC8"><!-- --></a><p>The <code class="codeph">EGL_SURFACE_TYPE</code> of
each matching config contains <code class="codeph">EGL_VG_ALPHA_FORMAT_PRE_BIT</code> if
the following conditions are all true: </p> <ul>
<li id="GUID-ECCF6C6C-B582-5326-B18B-8FB9FCA87309"><a name="GUID-ECCF6C6C-B582-5326-B18B-8FB9FCA87309"><!-- --></a><p>The pixel format of
the pixmap specifies premultiplied alpha—such as <code class="codeph">EColor16MAP</code>. </p> </li>
<li id="GUID-DC7E7D5B-2E6F-5290-A419-C5BD3EFA69E4"><a name="GUID-DC7E7D5B-2E6F-5290-A419-C5BD3EFA69E4"><!-- --></a><p>The <code class="codeph">EGL_RENDERABLE_TYPE</code> of
the config includes <code class="codeph">EGL_OPENVG_BIT</code>. </p> </li>
</ul> </li>
</ul> <p> <em>Note</em>: The <code class="codeph">EGL_RENDERABLE_TYPE</code> can be used
as an input to <code class="codeph">eglChooseConfig()</code> to further filter the set
of configs returned. </p> </div>
<div id="GUID-E6BE99B1-6C0D-4D0D-B956-E7D3A312D75E"><h3 class="section-title">eglSurfaceAttrib()</h3><pre class="codeblock">EGLBoolean eglSurfaceAttrib(
                  EGLDisplay dpy,
                  EGLSurface surface, 
                  EGLint attribute,
                  EGLint value);</pre><p>If the <code class="codeph">attribute</code> is <code class="codeph">EGL_SWAP_BEHAVIOR</code>,
the value can be one of the following:.</p><ul>
<li><p><code class="codeph">EGL_BUFFER_DESTROYED</code>: Indicates that posting a surface
with <code class="codeph">eglSwapBuffers()</code> changes or destroys the back buffer
content.</p></li>
<li><p><code class="codeph">EGL_BUFFER_PRESERVED</code>: Indicates that  posting a surface
with <code class="codeph">eglSwapBuffers()</code> preserves the back buffer content.</p></li>
</ul> <p>The preserve buffer feature is relevant only to window surfaces.
It is not relevant to pbuffer or pixmap surfaces because they are single-buffered.
Therefore setting the swap behavior to preserve buffer is not allowed for
these surface types, as shown in the following table. </p> <div class="tablenoborder"><a name="GUID-1BB87D88-B15C-4BB5-AAC8-88094B4ADB2A"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-1BB87D88-B15C-4BB5-AAC8-88094B4ADB2A" frame="border" border="1" rules="all"><caption><strong>Table: </strong>Configuration behaviors</caption>
<thead align="left">
<tr class="title ">
<th class="cellrowborder" valign="top" width="40.198511166253105%" id="d0e272779">Configuration Mask</th>
<th class="cellrowborder" valign="top" width="21.836228287841188%" id="d0e272782">Default EGL_SWAP_BEHAVIOR</th>
<th class="cellrowborder" valign="top" width="18.36228287841191%" id="d0e272785">Set Destroyed Allowed?</th>
<th class="cellrowborder" valign="top" width="19.602977667493796%" id="d0e272788">Set Preserved Allowed?</th>
</tr>
</thead>
<tbody>
<tr class="">
<td class="cellrowborder" valign="top" width="40.198511166253105%" headers="d0e272779 "><code class="codeph">EGL_SWAP_BEHAVIOR_PRESERVED_BIT|EGL_WINDOW_BIT </code></td>
<td class="cellrowborder" valign="top" width="21.836228287841188%" headers="d0e272782 ">Destroyed</td>
<td class="cellrowborder" valign="top" width="18.36228287841191%" headers="d0e272785 ">Yes</td>
<td class="cellrowborder" valign="top" width="19.602977667493796%" headers="d0e272788 ">Yes</td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" width="40.198511166253105%" headers="d0e272779 "><code class="codeph">EGL_WINDOW_BIT</code> </td>
<td class="cellrowborder" valign="top" width="21.836228287841188%" headers="d0e272782 ">Destroyed </td>
<td class="cellrowborder" valign="top" width="18.36228287841191%" headers="d0e272785 ">Yes</td>
<td class="cellrowborder" valign="top" width="19.602977667493796%" headers="d0e272788 ">Yes</td>
</tr>
<tr class="">
<td class="cellrowborder" valign="top" width="40.198511166253105%" headers="d0e272779 "> <code class="codeph">EGL_PIXMAP_BIT</code></td>
<td class="cellrowborder" valign="top" width="21.836228287841188%" headers="d0e272782 ">Preserved</td>
<td class="cellrowborder" valign="top" width="18.36228287841191%" headers="d0e272785 ">Yes</td>
<td class="cellrowborder" valign="top" width="19.602977667493796%" headers="d0e272788 ">No</td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" width="40.198511166253105%" headers="d0e272779 "> <code class="codeph">EGL_PBUFFER_BIT</code></td>
<td class="cellrowborder" valign="top" width="21.836228287841188%" headers="d0e272782 ">Preserved </td>
<td class="cellrowborder" valign="top" width="18.36228287841191%" headers="d0e272785 ">Yes</td>
<td class="cellrowborder" valign="top" width="19.602977667493796%" headers="d0e272788 ">No</td>
</tr>
</tbody>
</table></div> <p><strong>Error conditions </strong></p><p>This applies to attempting to set
the <code class="codeph">EGL_SWAP_BEHAVIOR</code> attribute to <code class="codeph">EGL_BUFFER_PRESERVED</code>.
If the surface configuration does not match <code class="codeph">EGL_SWAP_BEHAVIOR_PRESERVED_BIT</code>,
this function returns <code class="codeph">EGL_FALSE</code> and generates an error of <code class="codeph">EGL_BAD_MATCH</code>. </p></div>
</div><h3>Related concepts</h3><ul><li><a href="GUID-A5914CFF-6F86-53E8-9928-36D3379835B1.html">EGL Interface
Overview</a></li><li><a href="GUID-894AB487-C127-532D-852B-37CB0DEA1440.html">Symbian-Specific
Behavior</a></li><li><a href="GUID-46813F51-370B-5853-917C-6916925A347D.html">EGL Tutorial</a></li><li><a href="GUID-DC8BFEF5-DA50-52DA-8CE2-5729A4A005F6.html">EGL Collection
Overview</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated April 22nd, 2010</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-2923A42C-1C0E-553D-8563-7B9FC51F153F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:59:20 GMT -->
</html>