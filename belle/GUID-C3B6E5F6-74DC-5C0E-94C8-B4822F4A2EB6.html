
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:15 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Power API Tutorial" /><meta name="abstract" content="This tutorial explains how to use the Power API of the HWRM." /><meta name="description" content="This tutorial explains how to use the Power API of the HWRM." /><meta name="DC.Relation" scheme="URI" content="GUID-1E55DD3C-D699-5062-88C1-C826F06CD48C" /><meta name="DC.Relation" scheme="URI" content="GUID-047E3462-F806-4C54-9DC5-6B78907CA949" /><meta name="DC.Relation" scheme="URI" content="GUID-BC627588-E8C7-4DDB-8313-7C57E0CCD93B" /><meta name="DC.Relation" scheme="URI" content="GUID-7CF7D29B-14A4-432E-BBB2-E3AF283E45E3" /><meta name="DC.Relation" scheme="URI" content="GUID-FC7F8CFE-F9AD-4442-9289-CCEFEC62DF68" /><meta name="DC.Relation" scheme="URI" content="GUID-6A0D353D-A9B0-46EA-8FDC-1FBBD4A20CFB" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-F8C8CE42-E7C9-5AFC-86BC-B78F677F1B05" /><meta name="DC.Relation" scheme="URI" content="GUID-DC011D9C-6C39-5BB9-A7CC-4447AB97A2D2" /><meta name="DC.Relation" scheme="URI" content="GUID-F2289115-B1F0-595D-AA1C-3E01F08911CA" /><meta name="DC.Relation" scheme="URI" content="GUID-2E3BE23C-B9DC-5B5D-A56A-1DB819EFC9A6" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6" /><meta name="DC.Language" content="en" /><title>Power API Tutorial  </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6">Power API Tutorial </h1><div><p>This tutorial explains how to use the Power API of the
HWRM. </p>
<div id="GUID-2BDCFFEB-3F60-4F8D-8544-72B5F59AB383"><h3 class="section-title">Introduction</h3> <p>Power API methods can be used by constructing an instance of <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHWRMPower</code></a> and calling its functions.
However, to use its full functionality write a class which implements
one or more of the observer interfaces described in the following
table. Then, construct an instance of <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHWRMPower</code></a> and provide it with pointers to observers. </p> <div class="tablenoborder"><a name="GUID-CC645CB8-B78E-5624-B669-31B5A08F77C2"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-CC645CB8-B78E-5624-B669-31B5A08F77C2" frame="border" border="1" rules="all">
<thead align="left">
<tr class="title ">
<th class="cellrowborder" valign="top" id="d0e173934">Interface</th>
<th class="cellrowborder" valign="top" id="d0e173937">Notification</th>
<th class="cellrowborder" valign="top" id="d0e173940">Method to override</th>
</tr>
</thead>
<tbody>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e173934 "><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B8D8F722-0912-3983-A39A-DF340521D9C5.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B8D8F722-0912-3983-A39A-DF340521D9C5.html"><code class="apiname">MHWRMBatteryPowerObserver</code></a> </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173937 "><p>Average battery voltage and current consumption </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173940 "><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">PowerMeasurement</code></a> </p> </td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" headers="d0e173934 "><p> MHWRMBatteryChargingStatusObserver </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173937 "><p>Charging status </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173940 "><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">ChargingStatusChange</code></a> </p> </td>
</tr>
<tr class="">
<td class="cellrowborder" valign="top" headers="d0e173934 "><p> MHWRMBatteryChargingCurrentObserver </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173937 "><p>Average charging current </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173940 "><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">AverageChargingCurrentChange</code></a> </p> </td>
</tr>
<tr class="bg ">
<td class="cellrowborder" valign="top" headers="d0e173934 "><p> MHWRMBatteryFullChargingTimeObserver </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173937 "><p>Remaining charging time </p> </td>
<td class="cellrowborder" valign="top" headers="d0e173940 "><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">BatteryFullChargingTimeChange</code></a> </p> </td>
</tr>
</tbody>
</table></div> <p>For example, if the application requires periodic measurements
of average battery voltage and current consumption, it must implement <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B8D8F722-0912-3983-A39A-DF340521D9C5.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B8D8F722-0912-3983-A39A-DF340521D9C5.html"><code class="apiname">MHWRMBatteryPowerObserver</code></a>  and instantiate a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHWRMPower</code></a> object using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHWRMPower::NewL(NULL, MHWRMBatteryPowerObserver
*)</code></a> method. </p> <p> <strong>Note:</strong> The battery charging observers
cannot be passed to <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHWRMPower</code></a> using a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">NewL()</code></a> function.
Call the dedicated function, <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHRMPower::SetBatteryChargingObserver()</code></a>. </p> </div>
<div id="GUID-9D86AA2F-62C4-41C5-BBED-168642B2971D"><h3 class="section-title">Procedure</h3> <ol id="GUID-8FD35358-CFCD-5010-AFD8-C277463B2970">
<li id="GUID-E7A8616C-DA3A-5CC7-831F-3BA977F7C129"><a name="GUID-E7A8616C-DA3A-5CC7-831F-3BA977F7C129"><!-- --></a><p><a href="GUID-047E3462-F806-4C54-9DC5-6B78907CA949.html">Derive a class and
implement the appropriate observer functions</a>. </p> </li>
<li id="GUID-6DF35505-CA49-56AB-94E2-4291E2DFF232"><a name="GUID-6DF35505-CA49-56AB-94E2-4291E2DFF232"><!-- --></a><p><a href="GUID-BC627588-E8C7-4DDB-8313-7C57E0CCD93B.html">Create a power client
using <code class="apiname">CHWRMPower::NewL()</code> or <code class="apiname">NewLC()</code>.</a> </p><p><a href="GUID-7CF7D29B-14A4-432E-BBB2-E3AF283E45E3.html">You can retrieve
the battery voltage or consumption information.</a></p> </li>
<li id="GUID-300E10F0-5414-55CB-8D9C-2B78E3782C34"><a name="GUID-300E10F0-5414-55CB-8D9C-2B78E3782C34"><!-- --></a><p>Call <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><code class="apiname">CHRMPower::SetBatteryChargingObserver()</code></a>, if necessary.</p> </li>
<li id="GUID-76E7EFB8-0464-5887-B144-1ACDFDE1D7F6"><a name="GUID-76E7EFB8-0464-5887-B144-1ACDFDE1D7F6"><!-- --></a><p><a href="GUID-FC7F8CFE-F9AD-4442-9289-CCEFEC62DF68.html">Start receiving notification
using the appropriate start function(s).</a> </p> </li>
<li id="GUID-209732A3-E374-54D2-87F7-5C3C45A23E85"><a name="GUID-209732A3-E374-54D2-87F7-5C3C45A23E85"><!-- --></a><p><a href="GUID-6A0D353D-A9B0-46EA-8FDC-1FBBD4A20CFB.html">Stop receiving notification
using the appropriate stop function(s).</a></p> </li>
</ol> <p> <strong>Note: </strong> If the notification period exceeds the maximum
reporting period, set when the HWRM server starts, notification is
cancelled. </p> </div>
</div><ul class="ullinks"><li class="ulchildlink"><a href="GUID-047E3462-F806-4C54-9DC5-6B78907CA949.html">Derive
a class and implement the appropriate observer functions</a></li><li class="ulchildlink"><a href="GUID-BC627588-E8C7-4DDB-8313-7C57E0CCD93B.html">Create
a power client power session</a></li><li class="ulchildlink"><a href="GUID-7CF7D29B-14A4-432E-BBB2-E3AF283E45E3.html">Get
battery voltage or consumption information</a></li><li class="ulchildlink"><a href="GUID-FC7F8CFE-F9AD-4442-9289-CCEFEC62DF68.html">Start
receiving notification</a></li><li class="ulchildlink"><a href="GUID-6A0D353D-A9B0-46EA-8FDC-1FBBD4A20CFB.html">Stop
receiving notification</a></li></ul><h3>Related concepts</h3><ul><li><a href="GUID-1E55DD3C-D699-5062-88C1-C826F06CD48C.html">Power
API</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated November 3rd, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:15 GMT -->
</html>